function Jj(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const d=Object.getOwnPropertyDescriptor(a,l);d&&Object.defineProperty(e,l,d.get?d:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(l){if(l.ep)return;l.ep=!0;const d=r(l);fetch(l.href,d)}})();function Ud(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},oc={},np={exports:{}},Je={};var Wv;function eN(){if(Wv)return Je;Wv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function S(O,H,$){this.props=O,this.context=H,this.refs=b,this.updater=$||P}S.prototype.isReactComponent={},S.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function M(){}M.prototype=S.prototype;function I(O,H,$){this.props=O,this.context=H,this.refs=b,this.updater=$||P}var R=I.prototype=new M;R.constructor=I,k(R,S.prototype),R.isPureReactComponent=!0;var F=Array.isArray,V=Object.prototype.hasOwnProperty,re={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function se(O,H,$){var W,Y={},Q=null,de=null;if(H!=null)for(W in H.ref!==void 0&&(de=H.ref),H.key!==void 0&&(Q=""+H.key),H)V.call(H,W)&&!ee.hasOwnProperty(W)&&(Y[W]=H[W]);var Ne=arguments.length-2;if(Ne===1)Y.children=$;else if(1<Ne){for(var Le=Array(Ne),ke=0;ke<Ne;ke++)Le[ke]=arguments[ke+2];Y.children=Le}if(O&&O.defaultProps)for(W in Ne=O.defaultProps,Ne)Y[W]===void 0&&(Y[W]=Ne[W]);return{$$typeof:e,type:O,key:Q,ref:de,props:Y,_owner:re.current}}function K(O,H){return{$$typeof:e,type:O.type,key:H,ref:O.ref,props:O.props,_owner:O._owner}}function X(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function ae(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function($){return H[$]})}var Z=/\/+/g;function ue(O,H){return typeof O=="object"&&O!==null&&O.key!=null?ae(""+O.key):H.toString(36)}function ie(O,H,$,W,Y){var Q=typeof O;(Q==="undefined"||Q==="boolean")&&(O=null);var de=!1;if(O===null)de=!0;else switch(Q){case"string":case"number":de=!0;break;case"object":switch(O.$$typeof){case e:case t:de=!0}}if(de)return de=O,Y=Y(de),O=W===""?"."+ue(de,0):W,F(Y)?($="",O!=null&&($=O.replace(Z,"$&/")+"/"),ie(Y,H,$,"",function(ke){return ke})):Y!=null&&(X(Y)&&(Y=K(Y,$+(!Y.key||de&&de.key===Y.key?"":(""+Y.key).replace(Z,"$&/")+"/")+O)),H.push(Y)),1;if(de=0,W=W===""?".":W+":",F(O))for(var Ne=0;Ne<O.length;Ne++){Q=O[Ne];var Le=W+ue(Q,Ne);de+=ie(Q,H,$,Le,Y)}else if(Le=E(O),typeof Le=="function")for(O=Le.call(O),Ne=0;!(Q=O.next()).done;)Q=Q.value,Le=W+ue(Q,Ne++),de+=ie(Q,H,$,Le,Y);else if(Q==="object")throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return de}function pe(O,H,$){if(O==null)return O;var W=[],Y=0;return ie(O,W,"","",function(Q){return H.call($,Q,Y++)}),W}function he(O){if(O._status===-1){var H=O._result;H=H(),H.then(function($){(O._status===0||O._status===-1)&&(O._status=1,O._result=$)},function($){(O._status===0||O._status===-1)&&(O._status=2,O._result=$)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var me={current:null},B={transition:null},G={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:B,ReactCurrentOwner:re};function J(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:pe,forEach:function(O,H,$){pe(O,function(){H.apply(this,arguments)},$)},count:function(O){var H=0;return pe(O,function(){H++}),H},toArray:function(O){return pe(O,function(H){return H})||[]},only:function(O){if(!X(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Je.Component=S,Je.Fragment=r,Je.Profiler=l,Je.PureComponent=I,Je.StrictMode=a,Je.Suspense=g,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Je.act=J,Je.cloneElement=function(O,H,$){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var W=k({},O.props),Y=O.key,Q=O.ref,de=O._owner;if(H!=null){if(H.ref!==void 0&&(Q=H.ref,de=re.current),H.key!==void 0&&(Y=""+H.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(Le in H)V.call(H,Le)&&!ee.hasOwnProperty(Le)&&(W[Le]=H[Le]===void 0&&Ne!==void 0?Ne[Le]:H[Le])}var Le=arguments.length-2;if(Le===1)W.children=$;else if(1<Le){Ne=Array(Le);for(var ke=0;ke<Le;ke++)Ne[ke]=arguments[ke+2];W.children=Ne}return{$$typeof:e,type:O.type,key:Y,ref:Q,props:W,_owner:de}},Je.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:d,_context:O},O.Consumer=O},Je.createElement=se,Je.createFactory=function(O){var H=se.bind(null,O);return H.type=O,H},Je.createRef=function(){return{current:null}},Je.forwardRef=function(O){return{$$typeof:p,render:O}},Je.isValidElement=X,Je.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:he}},Je.memo=function(O,H){return{$$typeof:w,type:O,compare:H===void 0?null:H}},Je.startTransition=function(O){var H=B.transition;B.transition={};try{O()}finally{B.transition=H}},Je.unstable_act=J,Je.useCallback=function(O,H){return me.current.useCallback(O,H)},Je.useContext=function(O){return me.current.useContext(O)},Je.useDebugValue=function(){},Je.useDeferredValue=function(O){return me.current.useDeferredValue(O)},Je.useEffect=function(O,H){return me.current.useEffect(O,H)},Je.useId=function(){return me.current.useId()},Je.useImperativeHandle=function(O,H,$){return me.current.useImperativeHandle(O,H,$)},Je.useInsertionEffect=function(O,H){return me.current.useInsertionEffect(O,H)},Je.useLayoutEffect=function(O,H){return me.current.useLayoutEffect(O,H)},Je.useMemo=function(O,H){return me.current.useMemo(O,H)},Je.useReducer=function(O,H,$){return me.current.useReducer(O,H,$)},Je.useRef=function(O){return me.current.useRef(O)},Je.useState=function(O){return me.current.useState(O)},Je.useSyncExternalStore=function(O,H,$){return me.current.useSyncExternalStore(O,H,$)},Je.useTransition=function(){return me.current.useTransition()},Je.version="18.3.1",Je}var Vv;function Hd(){return Vv||(Vv=1,np.exports=eN()),np.exports}var Zv;function tN(){if(Zv)return oc;Zv=1;var e=Hd(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,w){var _,N={},E=null,P=null;w!==void 0&&(E=""+w),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(P=g.ref);for(_ in g)a.call(g,_)&&!d.hasOwnProperty(_)&&(N[_]=g[_]);if(p&&p.defaultProps)for(_ in g=p.defaultProps,g)N[_]===void 0&&(N[_]=g[_]);return{$$typeof:t,type:p,key:E,ref:P,props:N,_owner:l.current}}return oc.Fragment=r,oc.jsx=f,oc.jsxs=f,oc}var qv;function nN(){return qv||(qv=1,tp.exports=tN()),tp.exports}var i=nN(),v=Hd();const ge=Ud(v),Wd=Jj({__proto__:null,default:ge},[v]);var sd={},rp={exports:{}},Mn={},sp={exports:{}},ip={};var Kv;function rN(){return Kv||(Kv=1,(function(e){function t(B,G){var J=B.length;B.push(G);e:for(;0<J;){var O=J-1>>>1,H=B[O];if(0<l(H,G))B[O]=G,B[J]=H,J=O;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var G=B[0],J=B.pop();if(J!==G){B[0]=J;e:for(var O=0,H=B.length,$=H>>>1;O<$;){var W=2*(O+1)-1,Y=B[W],Q=W+1,de=B[Q];if(0>l(Y,J))Q<H&&0>l(de,Y)?(B[O]=de,B[Q]=J,O=Q):(B[O]=Y,B[W]=J,O=W);else if(Q<H&&0>l(de,J))B[O]=de,B[Q]=J,O=Q;else break e}}return G}function l(B,G){var J=B.sortIndex-G.sortIndex;return J!==0?J:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var g=[],w=[],_=1,N=null,E=3,P=!1,k=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(B){for(var G=r(w);G!==null;){if(G.callback===null)a(w);else if(G.startTime<=B)a(w),G.sortIndex=G.expirationTime,t(g,G);else break;G=r(w)}}function F(B){if(b=!1,R(B),!k)if(r(g)!==null)k=!0,he(V);else{var G=r(w);G!==null&&me(F,G.startTime-B)}}function V(B,G){k=!1,b&&(b=!1,M(se),se=-1),P=!0;var J=E;try{for(R(G),N=r(g);N!==null&&(!(N.expirationTime>G)||B&&!ae());){var O=N.callback;if(typeof O=="function"){N.callback=null,E=N.priorityLevel;var H=O(N.expirationTime<=G);G=e.unstable_now(),typeof H=="function"?N.callback=H:N===r(g)&&a(g),R(G)}else a(g);N=r(g)}if(N!==null)var $=!0;else{var W=r(w);W!==null&&me(F,W.startTime-G),$=!1}return $}finally{N=null,E=J,P=!1}}var re=!1,ee=null,se=-1,K=5,X=-1;function ae(){return!(e.unstable_now()-X<K)}function Z(){if(ee!==null){var B=e.unstable_now();X=B;var G=!0;try{G=ee(!0,B)}finally{G?ue():(re=!1,ee=null)}}else re=!1}var ue;if(typeof I=="function")ue=function(){I(Z)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,pe=ie.port2;ie.port1.onmessage=Z,ue=function(){pe.postMessage(null)}}else ue=function(){S(Z,0)};function he(B){ee=B,re||(re=!0,ue())}function me(B,G){se=S(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){k||P||(k=!0,he(V))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(B){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var J=E;E=G;try{return B()}finally{E=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=E;E=B;try{return G()}finally{E=J}},e.unstable_scheduleCallback=function(B,G,J){var O=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?O+J:O):J=O,B){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=J+H,B={id:_++,callback:G,priorityLevel:B,startTime:J,expirationTime:H,sortIndex:-1},J>O?(B.sortIndex=J,t(w,B),r(g)===null&&B===r(w)&&(b?(M(se),se=-1):b=!0,me(F,J-O))):(B.sortIndex=H,t(g,B),k||P||(k=!0,he(V))),B},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(B){var G=E;return function(){var J=E;E=G;try{return B.apply(this,arguments)}finally{E=J}}}})(ip)),ip}var Gv;function sN(){return Gv||(Gv=1,sp.exports=rN()),sp.exports}var Qv;function iN(){if(Qv)return Mn;Qv=1;var e=Hd(),t=sN();function r(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function d(n,o){f(n,o),f(n+"Capture",o)}function f(n,o){for(l[n]=o,n=0;n<o.length;n++)a.add(o[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},N={};function E(n){return g.call(N,n)?!0:g.call(_,n)?!1:w.test(n)?N[n]=!0:(_[n]=!0,!1)}function P(n,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,o,u,m){if(o===null||typeof o>"u"||P(n,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(n,o,u,m,y,j,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=n,this.type=o,this.sanitizeURL=j,this.removeEmptyString=T}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){S[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];S[o]=new b(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){S[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){S[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){S[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){S[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){S[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){S[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){S[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(M,I);S[o]=new b(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(M,I);S[o]=new b(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(M,I);S[o]=new b(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){S[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){S[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function R(n,o,u,m){var y=S.hasOwnProperty(o)?S[o]:null;(y!==null?y.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,y,m)&&(u=null),m||y===null?E(o)&&(u===null?n.removeAttribute(o):n.setAttribute(o,""+u)):y.mustUseProperty?n[y.propertyName]=u===null?y.type===3?!1:"":u:(o=y.attributeName,m=y.attributeNamespace,u===null?n.removeAttribute(o):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?n.setAttributeNS(m,o,u):n.setAttribute(o,u))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),re=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ae=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),B=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var J=Object.assign,O;function H(n){if(O===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+n}var $=!1;function W(n,o){if(!n||$)return"";$=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ce){var m=ce}Reflect.construct(n,[],o)}else{try{o.call()}catch(ce){m=ce}n.call(o.prototype)}else{try{throw Error()}catch(ce){m=ce}n()}}catch(ce){if(ce&&m&&typeof ce.stack=="string"){for(var y=ce.stack.split(`
`),j=m.stack.split(`
`),T=y.length-1,D=j.length-1;1<=T&&0<=D&&y[T]!==j[D];)D--;for(;1<=T&&0<=D;T--,D--)if(y[T]!==j[D]){if(T!==1||D!==1)do if(T--,D--,0>D||y[T]!==j[D]){var U=`
`+y[T].replace(" at new "," at ");return n.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",n.displayName)),U}while(1<=T&&0<=D);break}}}finally{$=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?H(n):""}function Y(n){switch(n.tag){case 5:return H(n.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return n=W(n.type,!1),n;case 11:return n=W(n.type.render,!1),n;case 1:return n=W(n.type,!0),n;default:return""}}function Q(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ee:return"Fragment";case re:return"Portal";case K:return"Profiler";case se:return"StrictMode";case ue:return"Suspense";case ie:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ae:return(n.displayName||"Context")+".Consumer";case X:return(n._context.displayName||"Context")+".Provider";case Z:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pe:return o=n.displayName||null,o!==null?o:Q(n.type)||"Memo";case he:o=n._payload,n=n._init;try{return Q(n(o))}catch{}}return null}function de(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(o);case 8:return o===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ne(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Le(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(n){var o=Le(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),m=""+n[o];if(!n.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,j=u.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){m=""+T,j.call(this,T)}}),Object.defineProperty(n,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function ze(n){n._valueTracker||(n._valueTracker=ke(n))}function tt(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return n&&(m=Le(n)?n.checked?"true":"false":n.value),n=m,n!==u?(o.setValue(n),!0):!1}function Nt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gn(n,o){var u=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function kr(n,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=Ne(o.value!=null?o.value:u),n._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function fr(n,o){o=o.checked,o!=null&&R(n,"checked",o,!1)}function Un(n,o){fr(n,o);var u=Ne(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?eo(n,o.type,u):o.hasOwnProperty("defaultValue")&&eo(n,o.type,Ne(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function Tr(n,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,u||o===n.value||(n.value=o),n.defaultValue=o}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function eo(n,o,u){(o!=="number"||Nt(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var Rr=Array.isArray;function rn(n,o,u,m){if(n=n.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=o.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&m&&(n[u].defaultSelected=!0)}else{for(u=""+Ne(u),o=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,m&&(n[y].defaultSelected=!0);return}o!==null||n[y].disabled||(o=n[y])}o!==null&&(o.selected=!0)}}function Es(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Hn(n,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(r(92));if(Rr(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),u=o}n._wrapperState={initialValue:Ne(u)}}function Yo(n,o){var u=Ne(o.value),m=Ne(o.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),o.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),m!=null&&(n.defaultValue=""+m)}function Xo(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Bt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wn(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Bt(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ps,Jo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,y){MSApp.execUnsafeLocalFunction(function(){return n(o,u,m,y)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ps.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function Vn(n,o){if(o){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=o;return}}n.textContent=o}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ea=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(n){ea.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),ts[o]=ts[n]})});function ks(n,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ts.hasOwnProperty(n)&&ts[n]?(""+o).trim():o+"px"}function Zn(n,o){n=n.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=ks(u,o[u],m);u==="float"&&(u="cssFloat"),m?n.setProperty(u,y):n[u]=y}}var to=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(n,o){if(o){if(to[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Lr(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function ii(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ts=null,Ar=null,qn=null;function Kn(n){if(n=Us(n)){if(typeof Ts!="function")throw Error(r(280));var o=n.stateNode;o&&(o=Ea(o),Ts(n.stateNode,n.type,o))}}function ta(n){Ar?qn?qn.push(n):qn=[n]:Ar=n}function Be(){if(Ar){var n=Ar,o=qn;if(qn=Ar=null,Kn(n),o)for(n=0;n<o.length;n++)Kn(o[n])}}function st(n,o){return n(o)}function ht(){}var en=!1;function Kt(n,o,u){if(en)return n(o,u);en=!0;try{return st(n,o,u)}finally{en=!1,(Ar!==null||qn!==null)&&(ht(),Be())}}function sn(n,o){var u=n.stateNode;if(u===null)return null;var m=Ea(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Gn=!1;if(p)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Gn=!1}function pr(n,o,u,m,y,j,T,D,U){var ce=Array.prototype.slice.call(arguments,3);try{o.apply(u,ce)}catch(ye){this.onError(ye)}}var on=!1,Me=null,ro=!1,na=null,Vc={onError:function(n){on=!0,Me=n}};function Zc(n,o,u,m,y,j,T,D,U){on=!1,Me=null,pr.apply(Vc,arguments)}function vl(n,o,u,m,y,j,T,D,U){if(Zc.apply(this,arguments),on){if(on){var ce=Me;on=!1,Me=null}else throw Error(r(198));ro||(ro=!0,na=ce)}}function ns(n){var o=n,u=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(u=o.return),n=o.return;while(n)}return o.tag===3?u:null}function Rs(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function xl(n){if(ns(n)!==n)throw Error(r(188))}function Af(n){var o=n.alternate;if(!o){if(o=ns(n),o===null)throw Error(r(188));return o!==n?null:n}for(var u=n,m=o;;){var y=u.return;if(y===null)break;var j=y.alternate;if(j===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===u)return xl(y),n;if(j===m)return xl(y),o;j=j.sibling}throw Error(r(188))}if(u.return!==m.return)u=y,m=j;else{for(var T=!1,D=y.child;D;){if(D===u){T=!0,u=y,m=j;break}if(D===m){T=!0,m=y,u=j;break}D=D.sibling}if(!T){for(D=j.child;D;){if(D===u){T=!0,u=j,m=y;break}if(D===m){T=!0,m=j,u=y;break}D=D.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:o}function qc(n){return n=Af(n),n!==null?Kc(n):null}function Kc(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=Kc(n);if(o!==null)return o;n=n.sibling}return null}var Gc=t.unstable_scheduleCallback,yl=t.unstable_cancelCallback,Mf=t.unstable_shouldYield,ra=t.unstable_requestPaint,Ct=t.unstable_now,Of=t.unstable_getCurrentPriorityLevel,wl=t.unstable_ImmediatePriority,Qc=t.unstable_UserBlockingPriority,sa=t.unstable_NormalPriority,_l=t.unstable_LowPriority,oi=t.unstable_IdlePriority,so=null,Qn=null;function io(n){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(so,n,void 0,(n.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:ai,yt=Math.log,ia=Math.LN2;function ai(n){return n>>>=0,n===0?32:31-(yt(n)/ia|0)|0}var Mr=64,li=4194304;function He(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vt(n,o){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,j=n.pingedLanes,T=u&268435455;if(T!==0){var D=T&~y;D!==0?m=He(D):(j&=T,j!==0&&(m=He(j)))}else T=u&~y,T!==0?m=He(T):j!==0&&(m=He(j));if(m===0)return 0;if(o!==0&&o!==m&&(o&y)===0&&(y=m&-m,j=o&-o,y>=j||y===16&&(j&4194240)!==0))return o;if((m&4)!==0&&(m|=u&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=m;0<o;)u=31-qe(o),y=1<<u,m|=n[u],o&=~y;return m}function bl(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(n,o){for(var u=n.suspendedLanes,m=n.pingedLanes,y=n.expirationTimes,j=n.pendingLanes;0<j;){var T=31-qe(j),D=1<<T,U=y[T];U===-1?((D&u)===0||(D&m)!==0)&&(y[T]=bl(D,o)):U<=o&&(n.expiredLanes|=D),j&=~D}}function an(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yc(){var n=Mr;return Mr<<=1,(Mr&4194240)===0&&(Mr=64),n}function ci(n){for(var o=[],u=0;31>u;u++)o.push(n);return o}function Yn(n,o,u){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-qe(o),n[o]=u}function Lt(n,o){var u=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<u;){var y=31-qe(u),j=1<<y;o[y]=0,m[y]=-1,n[y]=-1,u&=~j}}function Or(n,o){var u=n.entangledLanes|=o;for(n=n.entanglements;u;){var m=31-qe(u),y=1<<m;y&o|n[m]&o&&(n[m]|=o),u&=~y}}var nt=0;function ui(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var aa,Ls,la,ca,oo,ao=!1,di=[],Xn=null,Ir=null,mr=null,lo=new Map,$e=new Map,Ut=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jl(n,o){switch(n){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":lo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$e.delete(o.pointerId)}}function As(n,o,u,m,y,j){return n===null||n.nativeEvent!==j?(n={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:j,targetContainers:[y]},o!==null&&(o=Us(o),o!==null&&Ls(o)),n):(n.eventSystemFlags|=m,o=n.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),n)}function Nl(n,o,u,m,y){switch(o){case"focusin":return Xn=As(Xn,n,o,u,m,y),!0;case"dragenter":return Ir=As(Ir,n,o,u,m,y),!0;case"mouseover":return mr=As(mr,n,o,u,m,y),!0;case"pointerover":var j=y.pointerId;return lo.set(j,As(lo.get(j)||null,n,o,u,m,y)),!0;case"gotpointercapture":return j=y.pointerId,$e.set(j,As($e.get(j)||null,n,o,u,m,y)),!0}return!1}function ua(n){var o=$s(n.target);if(o!==null){var u=ns(o);if(u!==null){if(o=u.tag,o===13){if(o=Rs(u),o!==null){n.blockedOn=o,oo(n.priority,function(){la(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gr(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var u=ha(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var m=new u.constructor(u.type,u);no=m,u.target.dispatchEvent(m),no=null}else return o=Us(u),o!==null&&Ls(o),n.blockedOn=u,!1;o.shift()}return!0}function da(n,o,u){gr(n)&&u.delete(o)}function co(){ao=!1,Xn!==null&&gr(Xn)&&(Xn=null),Ir!==null&&gr(Ir)&&(Ir=null),mr!==null&&gr(mr)&&(mr=null),lo.forEach(da),$e.forEach(da)}function Et(n,o){n.blockedOn===o&&(n.blockedOn=null,ao||(ao=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,co)))}function Jn(n){function o(y){return Et(y,n)}if(0<di.length){Et(di[0],n);for(var u=1;u<di.length;u++){var m=di[u];m.blockedOn===n&&(m.blockedOn=null)}}for(Xn!==null&&Et(Xn,n),Ir!==null&&Et(Ir,n),mr!==null&&Et(mr,n),lo.forEach(o),$e.forEach(o),u=0;u<Ut.length;u++)m=Ut[u],m.blockedOn===n&&(m.blockedOn=null);for(;0<Ut.length&&(u=Ut[0],u.blockedOn===null);)ua(u),u.blockedOn===null&&Ut.shift()}var Ms=F.ReactCurrentBatchConfig,uo=!0;function If(n,o,u,m){var y=nt,j=Ms.transition;Ms.transition=null;try{nt=1,fo(n,o,u,m)}finally{nt=y,Ms.transition=j}}function Xc(n,o,u,m){var y=nt,j=Ms.transition;Ms.transition=null;try{nt=4,fo(n,o,u,m)}finally{nt=y,Ms.transition=j}}function fo(n,o,u,m){if(uo){var y=ha(n,o,u,m);if(y===null)s(n,o,m,fa,u),jl(n,m);else if(Nl(y,n,o,u,m))m.stopPropagation();else if(jl(n,m),o&4&&-1<pt.indexOf(n)){for(;y!==null;){var j=Us(y);if(j!==null&&aa(j),j=ha(n,o,u,m),j===null&&s(n,o,m,fa,u),j===y)break;y=j}y!==null&&m.stopPropagation()}else s(n,o,m,null,u)}}var fa=null;function ha(n,o,u,m){if(fa=null,n=ii(m),n=$s(n),n!==null)if(o=ns(n),o===null)n=null;else if(u=o.tag,u===13){if(n=Rs(o),n!==null)return n;n=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return fa=n,null}function et(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Of()){case wl:return 1;case Qc:return 4;case sa:case _l:return 16;case oi:return 536870912;default:return 16}default:return 16}}var rs=null,vn=null,ss=null;function Sl(){if(ss)return ss;var n,o=vn,u=o.length,m,y="value"in rs?rs.value:rs.textContent,j=y.length;for(n=0;n<u&&o[n]===y[n];n++);var T=u-n;for(m=1;m<=T&&o[u-m]===y[j-m];m++);return ss=y.slice(n,1<m?1-m:void 0)}function pa(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function fi(){return!0}function Jc(){return!1}function ln(n){function o(u,m,y,j,T){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=j,this.target=T,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(u=n[D],this[D]=u?u(j):j[D]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?fi:Jc,this.isPropagationStopped=Jc,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),o}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=ln(hi),Os=J({},hi,{view:0,detail:0}),Df=ln(Os),En,El,pi,er=J({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(En=n.screenX-pi.screenX,El=n.screenY-pi.screenY):El=En=0,pi=n),En)},movementY:function(n){return"movementY"in n?n.movementY:El}}),Pl=ln(er),eu=J({},er,{dataTransfer:0}),kl=ln(eu),Ff=J({},Os,{relatedTarget:0}),ma=ln(Ff),tu=J({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=ln(tu),Bf=J({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Tl=ln(Bf),$f=J({},hi,{data:0}),Rl=ln($f),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Is={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uf(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Is[n])?!!o[n]:!1}function Ds(){return Uf}var Pn=J({},Os,{key:function(n){if(n.key){var o=nu[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=pa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ga[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(n){return n.type==="keypress"?pa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ru=ln(Pn),su=J({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=ln(su),Ll=J({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Al=ln(Ll),Hf=J({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wf=ln(Hf),ou=J({},er,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=ln(ou),tr=[9,13,27,32],is=p&&"CompositionEvent"in window,ho=null;p&&"documentMode"in document&&(ho=document.documentMode);var Dr=p&&"TextEvent"in window&&!ho,au=p&&(!is||ho&&8<ho&&11>=ho),Fs=" ",lu=!1;function mi(n,o){switch(n){case"keyup":return tr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fr=!1;function Zf(n,o){switch(n){case"compositionend":return Ml(o);case"keypress":return o.which!==32?null:(lu=!0,Fs);case"textInput":return n=o.data,n===Fs&&lu?null:n;default:return null}}function os(n,o){if(Fr)return n==="compositionend"||!is&&mi(n,o)?(n=Sl(),ss=vn=rs=null,Fr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return au&&o.locale!=="ko"?null:o.data;default:return null}}var va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!va[n.type]:o==="textarea"}function xa(n,o,u,m){ta(m),o=h(o,"onChange"),0<o.length&&(u=new Cl("onChange","change",null,u,m),n.push({event:u,listeners:o}))}var po=null,xn=null;function qf(n){Hl(n,0)}function zr(n){var o=Hs(n);if(tt(o))return n}function Kf(n,o){if(n==="change")return o}var vr=!1;if(p){var gi;if(p){var ya="oninput"in document;if(!ya){var wa=document.createElement("div");wa.setAttribute("oninput","return;"),ya=typeof wa.oninput=="function"}gi=ya}else gi=!1;vr=gi&&(!document.documentMode||9<document.documentMode)}function mo(){po&&(po.detachEvent("onpropertychange",_a),xn=po=null)}function _a(n){if(n.propertyName==="value"&&zr(xn)){var o=[];xa(o,xn,n,ii(n)),Kt(qf,o)}}function ba(n,o,u){n==="focusin"?(mo(),po=o,xn=u,po.attachEvent("onpropertychange",_a)):n==="focusout"&&mo()}function vi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zr(xn)}function ja(n,o){if(n==="click")return zr(o)}function Ol(n,o){if(n==="input"||n==="change")return zr(o)}function uu(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var nr=typeof Object.is=="function"?Object.is:uu;function as(n,o){if(nr(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var u=Object.keys(n),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!g.call(o,y)||!nr(n[y],o[y]))return!1}return!0}function du(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Il(n,o){var u=du(n);n=0;for(var m;u;){if(u.nodeType===3){if(m=n+u.textContent.length,n<=o&&m>=o)return{node:u,offset:o-n};n=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=du(u)}}function fu(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?fu(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Dl(){for(var n=window,o=Nt();o instanceof n.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)n=o.contentWindow;else break;o=Nt(n.document)}return o}function Fl(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function xr(n){var o=Dl(),u=n.focusedElem,m=n.selectionRange;if(o!==u&&u&&u.ownerDocument&&fu(u.ownerDocument.documentElement,u)){if(m!==null&&Fl(u)){if(o=m.start,n=m.end,n===void 0&&(n=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(n,u.value.length);else if(n=(o=u.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var y=u.textContent.length,j=Math.min(m.start,y);m=m.end===void 0?j:Math.min(m.end,y),!n.extend&&j>m&&(y=m,m=j,j=y),y=Il(u,j);var T=Il(u,m);y&&T&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==T.node||n.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),n.removeAllRanges(),j>m?(n.addRange(o),n.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),n.addRange(o)))}}for(o=[],n=u;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)n=o[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Na=p&&"documentMode"in document&&11>=document.documentMode,xi=null,yi=null,go=null,Sa=!1;function hu(n,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sa||xi==null||xi!==Nt(m)||(m=xi,"selectionStart"in m&&Fl(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),go&&as(go,m)||(go=m,m=h(yi,"onSelect"),0<m.length&&(o=new Cl("onSelect","select",null,o,u),n.push({event:o,listeners:m}),o.target=xi)))}function ls(n,o){var u={};return u[n.toLowerCase()]=o.toLowerCase(),u["Webkit"+n]="webkit"+o,u["Moz"+n]="moz"+o,u}var wi={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},cs={},zl={};p&&(zl=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function vo(n){if(cs[n])return cs[n];if(!wi[n])return n;var o=wi[n],u;for(u in o)if(o.hasOwnProperty(u)&&u in zl)return cs[n]=o[u];return n}var pu=vo("animationend"),yr=vo("animationiteration"),Bl=vo("animationstart"),$l=vo("transitionend"),_i=new Map,mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(n,o){_i.set(n,o),d(o,[n])}for(var zs=0;zs<mu.length;zs++){var Ca=mu[zs],gu=Ca.toLowerCase(),Gf=Ca[0].toUpperCase()+Ca.slice(1);rr(gu,"on"+Gf)}rr(pu,"onAnimationEnd"),rr(yr,"onAnimationIteration"),rr(Bl,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr($l,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vu=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function Ul(n,o,u){var m=n.type||"unknown-event";n.currentTarget=u,vl(m,o,void 0,n),n.currentTarget=null}function Hl(n,o){o=(o&4)!==0;for(var u=0;u<n.length;u++){var m=n[u],y=m.event;m=m.listeners;e:{var j=void 0;if(o)for(var T=m.length-1;0<=T;T--){var D=m[T],U=D.instance,ce=D.currentTarget;if(D=D.listener,U!==j&&y.isPropagationStopped())break e;Ul(y,D,ce),j=U}else for(T=0;T<m.length;T++){if(D=m[T],U=D.instance,ce=D.currentTarget,D=D.listener,U!==j&&y.isPropagationStopped())break e;Ul(y,D,ce),j=U}}}if(ro)throw n=na,ro=!1,na=null,n}function mt(n,o){var u=o[Ci];u===void 0&&(u=o[Ci]=new Set);var m=n+"__bubble";u.has(m)||(xu(o,n,2,!1),u.add(m))}function Wl(n,o,u){var m=0;o&&(m|=4),xu(u,n,m,o)}var xo="_reactListening"+Math.random().toString(36).slice(2);function ji(n){if(!n[xo]){n[xo]=!0,a.forEach(function(u){u!=="selectionchange"&&(vu.has(u)||Wl(u,!1,n),Wl(u,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[xo]||(o[xo]=!0,Wl("selectionchange",!1,o))}}function xu(n,o,u,m){switch(et(o)){case 1:var y=If;break;case 4:y=Xc;break;default:y=fo}u=y.bind(null,o,u,n),y=void 0,!Gn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?n.addEventListener(o,u,{capture:!0,passive:y}):n.addEventListener(o,u,!0):y!==void 0?n.addEventListener(o,u,{passive:y}):n.addEventListener(o,u,!1)}function s(n,o,u,m,y){var j=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var D=m.stateNode.containerInfo;if(D===y||D.nodeType===8&&D.parentNode===y)break;if(T===4)for(T=m.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;T=T.return}for(;D!==null;){if(T=$s(D),T===null)return;if(U=T.tag,U===5||U===6){m=j=T;continue e}D=D.parentNode}}m=m.return}Kt(function(){var ce=j,ye=ii(u),_e=[];e:{var xe=_i.get(n);if(xe!==void 0){var Ee=Cl,Te=n;switch(n){case"keypress":if(pa(u)===0)break e;case"keydown":case"keyup":Ee=ru;break;case"focusin":Te="focus",Ee=ma;break;case"focusout":Te="blur",Ee=ma;break;case"beforeblur":case"afterblur":Ee=ma;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Al;break;case pu:case yr:case Bl:Ee=zf;break;case $l:Ee=Wf;break;case"scroll":Ee=Df;break;case"wheel":Ee=Vf;break;case"copy":case"cut":case"paste":Ee=Tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=iu}var Ae=(o&4)!==0,Mt=!Ae&&n==="scroll",ne=Ae?xe!==null?xe+"Capture":null:xe;Ae=[];for(var q=ce,oe;q!==null;){oe=q;var be=oe.stateNode;if(oe.tag===5&&be!==null&&(oe=be,ne!==null&&(be=sn(q,ne),be!=null&&Ae.push(c(q,be,oe)))),Mt)break;q=q.return}0<Ae.length&&(xe=new Ee(xe,Te,null,u,ye),_e.push({event:xe,listeners:Ae}))}}if((o&7)===0){e:{if(xe=n==="mouseover"||n==="pointerover",Ee=n==="mouseout"||n==="pointerout",xe&&u!==no&&(Te=u.relatedTarget||u.fromElement)&&($s(Te)||Te[ft]))break e;if((Ee||xe)&&(xe=ye.window===ye?ye:(xe=ye.ownerDocument)?xe.defaultView||xe.parentWindow:window,Ee?(Te=u.relatedTarget||u.toElement,Ee=ce,Te=Te?$s(Te):null,Te!==null&&(Mt=ns(Te),Te!==Mt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Ee=null,Te=ce),Ee!==Te)){if(Ae=Pl,be="onMouseLeave",ne="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=iu,be="onPointerLeave",ne="onPointerEnter",q="pointer"),Mt=Ee==null?xe:Hs(Ee),oe=Te==null?xe:Hs(Te),xe=new Ae(be,q+"leave",Ee,u,ye),xe.target=Mt,xe.relatedTarget=oe,be=null,$s(ye)===ce&&(Ae=new Ae(ne,q+"enter",Te,u,ye),Ae.target=oe,Ae.relatedTarget=Mt,be=Ae),Mt=be,Ee&&Te)t:{for(Ae=Ee,ne=Te,q=0,oe=Ae;oe;oe=x(oe))q++;for(oe=0,be=ne;be;be=x(be))oe++;for(;0<q-oe;)Ae=x(Ae),q--;for(;0<oe-q;)ne=x(ne),oe--;for(;q--;){if(Ae===ne||ne!==null&&Ae===ne.alternate)break t;Ae=x(Ae),ne=x(ne)}Ae=null}else Ae=null;Ee!==null&&C(_e,xe,Ee,Ae,!1),Te!==null&&Mt!==null&&C(_e,Mt,Te,Ae,!0)}}e:{if(xe=ce?Hs(ce):window,Ee=xe.nodeName&&xe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&xe.type==="file")var Oe=Kf;else if(cu(xe))if(vr)Oe=Ol;else{Oe=vi;var De=ba}else(Ee=xe.nodeName)&&Ee.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Oe=ja);if(Oe&&(Oe=Oe(n,ce))){xa(_e,Oe,u,ye);break e}De&&De(n,xe,ce),n==="focusout"&&(De=xe._wrapperState)&&De.controlled&&xe.type==="number"&&eo(xe,"number",xe.value)}switch(De=ce?Hs(ce):window,n){case"focusin":(cu(De)||De.contentEditable==="true")&&(xi=De,yi=ce,go=null);break;case"focusout":go=yi=xi=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,hu(_e,u,ye);break;case"selectionchange":if(Na)break;case"keydown":case"keyup":hu(_e,u,ye)}var Fe;if(is)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Fr?mi(n,u)&&(Ue="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(au&&u.locale!=="ko"&&(Fr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Fr&&(Fe=Sl()):(rs=ye,vn="value"in rs?rs.value:rs.textContent,Fr=!0)),De=h(ce,Ue),0<De.length&&(Ue=new Rl(Ue,n,null,u,ye),_e.push({event:Ue,listeners:De}),Fe?Ue.data=Fe:(Fe=Ml(u),Fe!==null&&(Ue.data=Fe)))),(Fe=Dr?Zf(n,u):os(n,u))&&(ce=h(ce,"onBeforeInput"),0<ce.length&&(ye=new Rl("onBeforeInput","beforeinput",null,u,ye),_e.push({event:ye,listeners:ce}),ye.data=Fe))}Hl(_e,o)})}function c(n,o,u){return{instance:n,listener:o,currentTarget:u}}function h(n,o){for(var u=o+"Capture",m=[];n!==null;){var y=n,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=sn(n,u),j!=null&&m.unshift(c(n,j,y)),j=sn(n,o),j!=null&&m.push(c(n,j,y))),n=n.return}return m}function x(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function C(n,o,u,m,y){for(var j=o._reactName,T=[];u!==null&&u!==m;){var D=u,U=D.alternate,ce=D.stateNode;if(U!==null&&U===m)break;D.tag===5&&ce!==null&&(D=ce,y?(U=sn(u,j),U!=null&&T.unshift(c(u,U,D))):y||(U=sn(u,j),U!=null&&T.push(c(u,U,D)))),u=u.return}T.length!==0&&n.push({event:o,listeners:T})}var A=/\r\n?/g,z=/\u0000|\uFFFD/g;function te(n){return(typeof n=="string"?n:""+n).replace(A,`
`).replace(z,"")}function le(n,o,u){if(o=te(o),te(n)!==o&&u)throw Error(r(425))}function ve(){}var Ce=null,Ie=null;function Qe(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ht=typeof setTimeout=="function"?setTimeout:void 0,It=typeof clearTimeout=="function"?clearTimeout:void 0,yn=typeof Promise=="function"?Promise:void 0,cn=typeof queueMicrotask=="function"?queueMicrotask:typeof yn<"u"?function(n){return yn.resolve(null).then(n).catch(Ni)}:Ht;function Ni(n){setTimeout(function(){throw n})}function Vl(n,o){var u=o,m=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){n.removeChild(y),Jn(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);Jn(o)}function us(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function yu(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return n;o--}else u==="/$"&&o++}n=n.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),wr="__reactFiber$"+Bs,Si="__reactProps$"+Bs,ft="__reactContainer$"+Bs,Ci="__reactEvents$"+Bs,Qf="__reactListeners$"+Bs,Yf="__reactHandles$"+Bs;function $s(n){var o=n[wr];if(o)return o;for(var u=n.parentNode;u;){if(o=u[ft]||u[wr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(n=yu(n);n!==null;){if(u=n[wr])return u;n=yu(n)}return o}n=u,u=n.parentNode}return null}function Us(n){return n=n[wr]||n[ft],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ea(n){return n[Si]||null}var Xf=[],Pa=-1;function Ei(n){return{current:n}}function wt(n){0>Pa||(n.current=Xf[Pa],Xf[Pa]=null,Pa--)}function xt(n,o){Pa++,Xf[Pa]=n.current,n.current=o}var Pi={},un=Ei(Pi),kn=Ei(!1),yo=Pi;function ka(n,o){var u=n.type.contextTypes;if(!u)return Pi;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in u)y[j]=o[j];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=y),y}function Tn(n){return n=n.childContextTypes,n!=null}function wu(){wt(kn),wt(un)}function fg(n,o,u){if(un.current!==Pi)throw Error(r(168));xt(un,o),xt(kn,u)}function hg(n,o,u){var m=n.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in o))throw Error(r(108,de(n)||"Unknown",y));return J({},u,m)}function _u(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Pi,yo=un.current,xt(un,n),xt(kn,kn.current),!0}function pg(n,o,u){var m=n.stateNode;if(!m)throw Error(r(169));u?(n=hg(n,o,yo),m.__reactInternalMemoizedMergedChildContext=n,wt(kn),wt(un),xt(un,n)):wt(kn),xt(kn,u)}var Ws=null,bu=!1,Jf=!1;function mg(n){Ws===null?Ws=[n]:Ws.push(n)}function xj(n){bu=!0,mg(n)}function ki(){if(!Jf&&Ws!==null){Jf=!0;var n=0,o=nt;try{var u=Ws;for(nt=1;n<u.length;n++){var m=u[n];do m=m(!0);while(m!==null)}Ws=null,bu=!1}catch(y){throw Ws!==null&&(Ws=Ws.slice(n+1)),Gc(wl,ki),y}finally{nt=o,Jf=!1}}return null}var Ta=[],Ra=0,ju=null,Nu=0,_r=[],br=0,wo=null,Vs=1,Zs="";function _o(n,o){Ta[Ra++]=Nu,Ta[Ra++]=ju,ju=n,Nu=o}function gg(n,o,u){_r[br++]=Vs,_r[br++]=Zs,_r[br++]=wo,wo=n;var m=Vs;n=Zs;var y=32-qe(m)-1;m&=~(1<<y),u+=1;var j=32-qe(o)+y;if(30<j){var T=y-y%5;j=(m&(1<<T)-1).toString(32),m>>=T,y-=T,Vs=1<<32-qe(o)+y|u<<y|m,Zs=j+n}else Vs=1<<j|u<<y|m,Zs=n}function eh(n){n.return!==null&&(_o(n,1),gg(n,1,0))}function th(n){for(;n===ju;)ju=Ta[--Ra],Ta[Ra]=null,Nu=Ta[--Ra],Ta[Ra]=null;for(;n===wo;)wo=_r[--br],_r[br]=null,Zs=_r[--br],_r[br]=null,Vs=_r[--br],_r[br]=null}var sr=null,ir=null,St=!1,Br=null;function vg(n,o){var u=Cr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=n,o=n.deletions,o===null?(n.deletions=[u],n.flags|=16):o.push(u)}function xg(n,o){switch(n.tag){case 5:var u=n.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,sr=n,ir=us(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,sr=n,ir=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=wo!==null?{id:Vs,overflow:Zs}:null,n.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Cr(18,null,null,0),u.stateNode=o,u.return=n,n.child=u,sr=n,ir=null,!0):!1;default:return!1}}function nh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function rh(n){if(St){var o=ir;if(o){var u=o;if(!xg(n,o)){if(nh(n))throw Error(r(418));o=us(u.nextSibling);var m=sr;o&&xg(n,o)?vg(m,u):(n.flags=n.flags&-4097|2,St=!1,sr=n)}}else{if(nh(n))throw Error(r(418));n.flags=n.flags&-4097|2,St=!1,sr=n}}}function yg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sr=n}function Su(n){if(n!==sr)return!1;if(!St)return yg(n),St=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Qe(n.type,n.memoizedProps)),o&&(o=ir)){if(nh(n))throw wg(),Error(r(418));for(;o;)vg(n,o),o=us(o.nextSibling)}if(yg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(o===0){ir=us(n.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}n=n.nextSibling}ir=null}}else ir=sr?us(n.stateNode.nextSibling):null;return!0}function wg(){for(var n=ir;n;)n=us(n.nextSibling)}function La(){ir=sr=null,St=!1}function sh(n){Br===null?Br=[n]:Br.push(n)}var yj=F.ReactCurrentBatchConfig;function Zl(n,o,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var m=u.stateNode}if(!m)throw Error(r(147,n));var y=m,j=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function(T){var D=y.refs;T===null?delete D[j]:D[j]=T},o._stringRef=j,o)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function Cu(n,o){throw n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function _g(n){var o=n._init;return o(n._payload)}function bg(n){function o(ne,q){if(n){var oe=ne.deletions;oe===null?(ne.deletions=[q],ne.flags|=16):oe.push(q)}}function u(ne,q){if(!n)return null;for(;q!==null;)o(ne,q),q=q.sibling;return null}function m(ne,q){for(ne=new Map;q!==null;)q.key!==null?ne.set(q.key,q):ne.set(q.index,q),q=q.sibling;return ne}function y(ne,q){return ne=Di(ne,q),ne.index=0,ne.sibling=null,ne}function j(ne,q,oe){return ne.index=oe,n?(oe=ne.alternate,oe!==null?(oe=oe.index,oe<q?(ne.flags|=2,q):oe):(ne.flags|=2,q)):(ne.flags|=1048576,q)}function T(ne){return n&&ne.alternate===null&&(ne.flags|=2),ne}function D(ne,q,oe,be){return q===null||q.tag!==6?(q=Gh(oe,ne.mode,be),q.return=ne,q):(q=y(q,oe),q.return=ne,q)}function U(ne,q,oe,be){var Oe=oe.type;return Oe===ee?ye(ne,q,oe.props.children,be,oe.key):q!==null&&(q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===he&&_g(Oe)===q.type)?(be=y(q,oe.props),be.ref=Zl(ne,q,oe),be.return=ne,be):(be=Qu(oe.type,oe.key,oe.props,null,ne.mode,be),be.ref=Zl(ne,q,oe),be.return=ne,be)}function ce(ne,q,oe,be){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Qh(oe,ne.mode,be),q.return=ne,q):(q=y(q,oe.children||[]),q.return=ne,q)}function ye(ne,q,oe,be,Oe){return q===null||q.tag!==7?(q=ko(oe,ne.mode,be,Oe),q.return=ne,q):(q=y(q,oe),q.return=ne,q)}function _e(ne,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Gh(""+q,ne.mode,oe),q.return=ne,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return oe=Qu(q.type,q.key,q.props,null,ne.mode,oe),oe.ref=Zl(ne,null,q),oe.return=ne,oe;case re:return q=Qh(q,ne.mode,oe),q.return=ne,q;case he:var be=q._init;return _e(ne,be(q._payload),oe)}if(Rr(q)||G(q))return q=ko(q,ne.mode,oe,null),q.return=ne,q;Cu(ne,q)}return null}function xe(ne,q,oe,be){var Oe=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Oe!==null?null:D(ne,q,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case V:return oe.key===Oe?U(ne,q,oe,be):null;case re:return oe.key===Oe?ce(ne,q,oe,be):null;case he:return Oe=oe._init,xe(ne,q,Oe(oe._payload),be)}if(Rr(oe)||G(oe))return Oe!==null?null:ye(ne,q,oe,be,null);Cu(ne,oe)}return null}function Ee(ne,q,oe,be,Oe){if(typeof be=="string"&&be!==""||typeof be=="number")return ne=ne.get(oe)||null,D(q,ne,""+be,Oe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case V:return ne=ne.get(be.key===null?oe:be.key)||null,U(q,ne,be,Oe);case re:return ne=ne.get(be.key===null?oe:be.key)||null,ce(q,ne,be,Oe);case he:var De=be._init;return Ee(ne,q,oe,De(be._payload),Oe)}if(Rr(be)||G(be))return ne=ne.get(oe)||null,ye(q,ne,be,Oe,null);Cu(q,be)}return null}function Te(ne,q,oe,be){for(var Oe=null,De=null,Fe=q,Ue=q=0,Yt=null;Fe!==null&&Ue<oe.length;Ue++){Fe.index>Ue?(Yt=Fe,Fe=null):Yt=Fe.sibling;var ot=xe(ne,Fe,oe[Ue],be);if(ot===null){Fe===null&&(Fe=Yt);break}n&&Fe&&ot.alternate===null&&o(ne,Fe),q=j(ot,q,Ue),De===null?Oe=ot:De.sibling=ot,De=ot,Fe=Yt}if(Ue===oe.length)return u(ne,Fe),St&&_o(ne,Ue),Oe;if(Fe===null){for(;Ue<oe.length;Ue++)Fe=_e(ne,oe[Ue],be),Fe!==null&&(q=j(Fe,q,Ue),De===null?Oe=Fe:De.sibling=Fe,De=Fe);return St&&_o(ne,Ue),Oe}for(Fe=m(ne,Fe);Ue<oe.length;Ue++)Yt=Ee(Fe,ne,Ue,oe[Ue],be),Yt!==null&&(n&&Yt.alternate!==null&&Fe.delete(Yt.key===null?Ue:Yt.key),q=j(Yt,q,Ue),De===null?Oe=Yt:De.sibling=Yt,De=Yt);return n&&Fe.forEach(function(Fi){return o(ne,Fi)}),St&&_o(ne,Ue),Oe}function Ae(ne,q,oe,be){var Oe=G(oe);if(typeof Oe!="function")throw Error(r(150));if(oe=Oe.call(oe),oe==null)throw Error(r(151));for(var De=Oe=null,Fe=q,Ue=q=0,Yt=null,ot=oe.next();Fe!==null&&!ot.done;Ue++,ot=oe.next()){Fe.index>Ue?(Yt=Fe,Fe=null):Yt=Fe.sibling;var Fi=xe(ne,Fe,ot.value,be);if(Fi===null){Fe===null&&(Fe=Yt);break}n&&Fe&&Fi.alternate===null&&o(ne,Fe),q=j(Fi,q,Ue),De===null?Oe=Fi:De.sibling=Fi,De=Fi,Fe=Yt}if(ot.done)return u(ne,Fe),St&&_o(ne,Ue),Oe;if(Fe===null){for(;!ot.done;Ue++,ot=oe.next())ot=_e(ne,ot.value,be),ot!==null&&(q=j(ot,q,Ue),De===null?Oe=ot:De.sibling=ot,De=ot);return St&&_o(ne,Ue),Oe}for(Fe=m(ne,Fe);!ot.done;Ue++,ot=oe.next())ot=Ee(Fe,ne,Ue,ot.value,be),ot!==null&&(n&&ot.alternate!==null&&Fe.delete(ot.key===null?Ue:ot.key),q=j(ot,q,Ue),De===null?Oe=ot:De.sibling=ot,De=ot);return n&&Fe.forEach(function(Xj){return o(ne,Xj)}),St&&_o(ne,Ue),Oe}function Mt(ne,q,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===ee&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case V:e:{for(var Oe=oe.key,De=q;De!==null;){if(De.key===Oe){if(Oe=oe.type,Oe===ee){if(De.tag===7){u(ne,De.sibling),q=y(De,oe.props.children),q.return=ne,ne=q;break e}}else if(De.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===he&&_g(Oe)===De.type){u(ne,De.sibling),q=y(De,oe.props),q.ref=Zl(ne,De,oe),q.return=ne,ne=q;break e}u(ne,De);break}else o(ne,De);De=De.sibling}oe.type===ee?(q=ko(oe.props.children,ne.mode,be,oe.key),q.return=ne,ne=q):(be=Qu(oe.type,oe.key,oe.props,null,ne.mode,be),be.ref=Zl(ne,q,oe),be.return=ne,ne=be)}return T(ne);case re:e:{for(De=oe.key;q!==null;){if(q.key===De)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){u(ne,q.sibling),q=y(q,oe.children||[]),q.return=ne,ne=q;break e}else{u(ne,q);break}else o(ne,q);q=q.sibling}q=Qh(oe,ne.mode,be),q.return=ne,ne=q}return T(ne);case he:return De=oe._init,Mt(ne,q,De(oe._payload),be)}if(Rr(oe))return Te(ne,q,oe,be);if(G(oe))return Ae(ne,q,oe,be);Cu(ne,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,q!==null&&q.tag===6?(u(ne,q.sibling),q=y(q,oe),q.return=ne,ne=q):(u(ne,q),q=Gh(oe,ne.mode,be),q.return=ne,ne=q),T(ne)):u(ne,q)}return Mt}var Aa=bg(!0),jg=bg(!1),Eu=Ei(null),Pu=null,Ma=null,ih=null;function oh(){ih=Ma=Pu=null}function ah(n){var o=Eu.current;wt(Eu),n._currentValue=o}function lh(n,o,u){for(;n!==null;){var m=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),n===u)break;n=n.return}}function Oa(n,o){Pu=n,ih=Ma=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(Rn=!0),n.firstContext=null)}function jr(n){var o=n._currentValue;if(ih!==n)if(n={context:n,memoizedValue:o,next:null},Ma===null){if(Pu===null)throw Error(r(308));Ma=n,Pu.dependencies={lanes:0,firstContext:n}}else Ma=Ma.next=n;return o}var bo=null;function ch(n){bo===null?bo=[n]:bo.push(n)}function Ng(n,o,u,m){var y=o.interleaved;return y===null?(u.next=u,ch(o)):(u.next=y.next,y.next=u),o.interleaved=u,qs(n,m)}function qs(n,o){n.lanes|=o;var u=n.alternate;for(u!==null&&(u.lanes|=o),u=n,n=n.return;n!==null;)n.childLanes|=o,u=n.alternate,u!==null&&(u.childLanes|=o),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Ti=!1;function uh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sg(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ks(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(n,o,u){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(it&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,qs(n,u)}return y=m.interleaved,y===null?(o.next=o,ch(m)):(o.next=y.next,y.next=o),m.interleaved=o,qs(n,u)}function ku(n,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=n.pendingLanes,u|=m,o.lanes=u,Or(n,u)}}function Cg(n,o){var u=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};j===null?y=j=T:j=j.next=T,u=u.next}while(u!==null);j===null?y=j=o:j=j.next=o}else y=j=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:m.shared,effects:m.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=o:n.next=o,u.lastBaseUpdate=o}function Tu(n,o,u,m){var y=n.updateQueue;Ti=!1;var j=y.firstBaseUpdate,T=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var U=D,ce=U.next;U.next=null,T===null?j=ce:T.next=ce,T=U;var ye=n.alternate;ye!==null&&(ye=ye.updateQueue,D=ye.lastBaseUpdate,D!==T&&(D===null?ye.firstBaseUpdate=ce:D.next=ce,ye.lastBaseUpdate=U))}if(j!==null){var _e=y.baseState;T=0,ye=ce=U=null,D=j;do{var xe=D.lane,Ee=D.eventTime;if((m&xe)===xe){ye!==null&&(ye=ye.next={eventTime:Ee,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Te=n,Ae=D;switch(xe=o,Ee=u,Ae.tag){case 1:if(Te=Ae.payload,typeof Te=="function"){_e=Te.call(Ee,_e,xe);break e}_e=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ae.payload,xe=typeof Te=="function"?Te.call(Ee,_e,xe):Te,xe==null)break e;_e=J({},_e,xe);break e;case 2:Ti=!0}}D.callback!==null&&D.lane!==0&&(n.flags|=64,xe=y.effects,xe===null?y.effects=[D]:xe.push(D))}else Ee={eventTime:Ee,lane:xe,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ye===null?(ce=ye=Ee,U=_e):ye=ye.next=Ee,T|=xe;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;xe=D,D=xe.next,xe.next=null,y.lastBaseUpdate=xe,y.shared.pending=null}}while(!0);if(ye===null&&(U=_e),y.baseState=U,y.firstBaseUpdate=ce,y.lastBaseUpdate=ye,o=y.shared.interleaved,o!==null){y=o;do T|=y.lane,y=y.next;while(y!==o)}else j===null&&(y.shared.lanes=0);So|=T,n.lanes=T,n.memoizedState=_e}}function Eg(n,o,u){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var m=n[o],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(r(191,y));y.call(m)}}}var ql={},ds=Ei(ql),Kl=Ei(ql),Gl=Ei(ql);function jo(n){if(n===ql)throw Error(r(174));return n}function dh(n,o){switch(xt(Gl,o),xt(Kl,n),xt(ds,ql),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Wn(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Wn(o,n)}wt(ds),xt(ds,o)}function Ia(){wt(ds),wt(Kl),wt(Gl)}function Pg(n){jo(Gl.current);var o=jo(ds.current),u=Wn(o,n.type);o!==u&&(xt(Kl,n),xt(ds,u))}function fh(n){Kl.current===n&&(wt(ds),wt(Kl))}var Pt=Ei(0);function Ru(n){for(var o=n;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var hh=[];function ph(){for(var n=0;n<hh.length;n++)hh[n]._workInProgressVersionPrimary=null;hh.length=0}var Lu=F.ReactCurrentDispatcher,mh=F.ReactCurrentBatchConfig,No=0,kt=null,Wt=null,Gt=null,Au=!1,Ql=!1,Yl=0,wj=0;function dn(){throw Error(r(321))}function gh(n,o){if(o===null)return!1;for(var u=0;u<o.length&&u<n.length;u++)if(!nr(n[u],o[u]))return!1;return!0}function vh(n,o,u,m,y,j){if(No=j,kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Lu.current=n===null||n.memoizedState===null?Nj:Sj,n=u(m,y),Ql){j=0;do{if(Ql=!1,Yl=0,25<=j)throw Error(r(301));j+=1,Gt=Wt=null,o.updateQueue=null,Lu.current=Cj,n=u(m,y)}while(Ql)}if(Lu.current=Iu,o=Wt!==null&&Wt.next!==null,No=0,Gt=Wt=kt=null,Au=!1,o)throw Error(r(300));return n}function xh(){var n=Yl!==0;return Yl=0,n}function fs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?kt.memoizedState=Gt=n:Gt=Gt.next=n,Gt}function Nr(){if(Wt===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var o=Gt===null?kt.memoizedState:Gt.next;if(o!==null)Gt=o,Wt=n;else{if(n===null)throw Error(r(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Gt===null?kt.memoizedState=Gt=n:Gt=Gt.next=n}return Gt}function Xl(n,o){return typeof o=="function"?o(n):o}function yh(n){var o=Nr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=Wt,y=m.baseQueue,j=u.pending;if(j!==null){if(y!==null){var T=y.next;y.next=j.next,j.next=T}m.baseQueue=y=j,u.pending=null}if(y!==null){j=y.next,m=m.baseState;var D=T=null,U=null,ce=j;do{var ye=ce.lane;if((No&ye)===ye)U!==null&&(U=U.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),m=ce.hasEagerState?ce.eagerState:n(m,ce.action);else{var _e={lane:ye,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};U===null?(D=U=_e,T=m):U=U.next=_e,kt.lanes|=ye,So|=ye}ce=ce.next}while(ce!==null&&ce!==j);U===null?T=m:U.next=D,nr(m,o.memoizedState)||(Rn=!0),o.memoizedState=m,o.baseState=T,o.baseQueue=U,u.lastRenderedState=m}if(n=u.interleaved,n!==null){y=n;do j=y.lane,kt.lanes|=j,So|=j,y=y.next;while(y!==n)}else y===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function wh(n){var o=Nr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=u.dispatch,y=u.pending,j=o.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do j=n(j,T.action),T=T.next;while(T!==y);nr(j,o.memoizedState)||(Rn=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),u.lastRenderedState=j}return[j,m]}function kg(){}function Tg(n,o){var u=kt,m=Nr(),y=o(),j=!nr(m.memoizedState,y);if(j&&(m.memoizedState=y,Rn=!0),m=m.queue,_h(Ag.bind(null,u,m,n),[n]),m.getSnapshot!==o||j||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,Jl(9,Lg.bind(null,u,m,y,o),void 0,null),Qt===null)throw Error(r(349));(No&30)!==0||Rg(u,o,y)}return y}function Rg(n,o,u){n.flags|=16384,n={getSnapshot:o,value:u},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.stores=[n]):(u=o.stores,u===null?o.stores=[n]:u.push(n))}function Lg(n,o,u,m){o.value=u,o.getSnapshot=m,Mg(o)&&Og(n)}function Ag(n,o,u){return u(function(){Mg(o)&&Og(n)})}function Mg(n){var o=n.getSnapshot;n=n.value;try{var u=o();return!nr(n,u)}catch{return!0}}function Og(n){var o=qs(n,1);o!==null&&Wr(o,n,1,-1)}function Ig(n){var o=fs();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:n},o.queue=n,n=n.dispatch=jj.bind(null,kt,n),[o.memoizedState,n]}function Jl(n,o,u,m){return n={tag:n,create:o,destroy:u,deps:m,next:null},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.lastEffect=n.next=n):(u=o.lastEffect,u===null?o.lastEffect=n.next=n:(m=u.next,u.next=n,n.next=m,o.lastEffect=n)),n}function Dg(){return Nr().memoizedState}function Mu(n,o,u,m){var y=fs();kt.flags|=n,y.memoizedState=Jl(1|o,u,void 0,m===void 0?null:m)}function Ou(n,o,u,m){var y=Nr();m=m===void 0?null:m;var j=void 0;if(Wt!==null){var T=Wt.memoizedState;if(j=T.destroy,m!==null&&gh(m,T.deps)){y.memoizedState=Jl(o,u,j,m);return}}kt.flags|=n,y.memoizedState=Jl(1|o,u,j,m)}function Fg(n,o){return Mu(8390656,8,n,o)}function _h(n,o){return Ou(2048,8,n,o)}function zg(n,o){return Ou(4,2,n,o)}function Bg(n,o){return Ou(4,4,n,o)}function $g(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Ug(n,o,u){return u=u!=null?u.concat([n]):null,Ou(4,4,$g.bind(null,o,n),u)}function bh(){}function Hg(n,o){var u=Nr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&gh(o,m[1])?m[0]:(u.memoizedState=[n,o],n)}function Wg(n,o){var u=Nr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&gh(o,m[1])?m[0]:(n=n(),u.memoizedState=[n,o],n)}function Vg(n,o,u){return(No&21)===0?(n.baseState&&(n.baseState=!1,Rn=!0),n.memoizedState=u):(nr(u,o)||(u=Yc(),kt.lanes|=u,So|=u,n.baseState=!0),o)}function _j(n,o){var u=nt;nt=u!==0&&4>u?u:4,n(!0);var m=mh.transition;mh.transition={};try{n(!1),o()}finally{nt=u,mh.transition=m}}function Zg(){return Nr().memoizedState}function bj(n,o,u){var m=Oi(n);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},qg(n))Kg(o,u);else if(u=Ng(n,o,u,m),u!==null){var y=_n();Wr(u,n,m,y),Gg(u,o,m)}}function jj(n,o,u){var m=Oi(n),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(qg(n))Kg(o,y);else{var j=n.alternate;if(n.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var T=o.lastRenderedState,D=j(T,u);if(y.hasEagerState=!0,y.eagerState=D,nr(D,T)){var U=o.interleaved;U===null?(y.next=y,ch(o)):(y.next=U.next,U.next=y),o.interleaved=y;return}}catch{}u=Ng(n,o,y,m),u!==null&&(y=_n(),Wr(u,n,m,y),Gg(u,o,m))}}function qg(n){var o=n.alternate;return n===kt||o!==null&&o===kt}function Kg(n,o){Ql=Au=!0;var u=n.pending;u===null?o.next=o:(o.next=u.next,u.next=o),n.pending=o}function Gg(n,o,u){if((u&4194240)!==0){var m=o.lanes;m&=n.pendingLanes,u|=m,o.lanes=u,Or(n,u)}}var Iu={readContext:jr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},Nj={readContext:jr,useCallback:function(n,o){return fs().memoizedState=[n,o===void 0?null:o],n},useContext:jr,useEffect:Fg,useImperativeHandle:function(n,o,u){return u=u!=null?u.concat([n]):null,Mu(4194308,4,$g.bind(null,o,n),u)},useLayoutEffect:function(n,o){return Mu(4194308,4,n,o)},useInsertionEffect:function(n,o){return Mu(4,2,n,o)},useMemo:function(n,o){var u=fs();return o=o===void 0?null:o,n=n(),u.memoizedState=[n,o],n},useReducer:function(n,o,u){var m=fs();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},m.queue=n,n=n.dispatch=bj.bind(null,kt,n),[m.memoizedState,n]},useRef:function(n){var o=fs();return n={current:n},o.memoizedState=n},useState:Ig,useDebugValue:bh,useDeferredValue:function(n){return fs().memoizedState=n},useTransition:function(){var n=Ig(!1),o=n[0];return n=_j.bind(null,n[1]),fs().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,u){var m=kt,y=fs();if(St){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Qt===null)throw Error(r(349));(No&30)!==0||Rg(m,o,u)}y.memoizedState=u;var j={value:u,getSnapshot:o};return y.queue=j,Fg(Ag.bind(null,m,j,n),[n]),m.flags|=2048,Jl(9,Lg.bind(null,m,j,u,o),void 0,null),u},useId:function(){var n=fs(),o=Qt.identifierPrefix;if(St){var u=Zs,m=Vs;u=(m&~(1<<32-qe(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=Yl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=wj++,o=":"+o+"r"+u.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},Sj={readContext:jr,useCallback:Hg,useContext:jr,useEffect:_h,useImperativeHandle:Ug,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Wg,useReducer:yh,useRef:Dg,useState:function(){return yh(Xl)},useDebugValue:bh,useDeferredValue:function(n){var o=Nr();return Vg(o,Wt.memoizedState,n)},useTransition:function(){var n=yh(Xl)[0],o=Nr().memoizedState;return[n,o]},useMutableSource:kg,useSyncExternalStore:Tg,useId:Zg,unstable_isNewReconciler:!1},Cj={readContext:jr,useCallback:Hg,useContext:jr,useEffect:_h,useImperativeHandle:Ug,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Wg,useReducer:wh,useRef:Dg,useState:function(){return wh(Xl)},useDebugValue:bh,useDeferredValue:function(n){var o=Nr();return Wt===null?o.memoizedState=n:Vg(o,Wt.memoizedState,n)},useTransition:function(){var n=wh(Xl)[0],o=Nr().memoizedState;return[n,o]},useMutableSource:kg,useSyncExternalStore:Tg,useId:Zg,unstable_isNewReconciler:!1};function $r(n,o){if(n&&n.defaultProps){o=J({},o),n=n.defaultProps;for(var u in n)o[u]===void 0&&(o[u]=n[u]);return o}return o}function jh(n,o,u,m){o=n.memoizedState,u=u(m,o),u=u==null?o:J({},o,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var Du={isMounted:function(n){return(n=n._reactInternals)?ns(n)===n:!1},enqueueSetState:function(n,o,u){n=n._reactInternals;var m=_n(),y=Oi(n),j=Ks(m,y);j.payload=o,u!=null&&(j.callback=u),o=Ri(n,j,y),o!==null&&(Wr(o,n,y,m),ku(o,n,y))},enqueueReplaceState:function(n,o,u){n=n._reactInternals;var m=_n(),y=Oi(n),j=Ks(m,y);j.tag=1,j.payload=o,u!=null&&(j.callback=u),o=Ri(n,j,y),o!==null&&(Wr(o,n,y,m),ku(o,n,y))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var u=_n(),m=Oi(n),y=Ks(u,m);y.tag=2,o!=null&&(y.callback=o),o=Ri(n,y,m),o!==null&&(Wr(o,n,m,u),ku(o,n,m))}};function Qg(n,o,u,m,y,j,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,j,T):o.prototype&&o.prototype.isPureReactComponent?!as(u,m)||!as(y,j):!0}function Yg(n,o,u){var m=!1,y=Pi,j=o.contextType;return typeof j=="object"&&j!==null?j=jr(j):(y=Tn(o)?yo:un.current,m=o.contextTypes,j=(m=m!=null)?ka(n,y):Pi),o=new o(u,j),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Du,n.stateNode=o,o._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=j),o}function Xg(n,o,u,m){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==n&&Du.enqueueReplaceState(o,o.state,null)}function Nh(n,o,u,m){var y=n.stateNode;y.props=u,y.state=n.memoizedState,y.refs={},uh(n);var j=o.contextType;typeof j=="object"&&j!==null?y.context=jr(j):(j=Tn(o)?yo:un.current,y.context=ka(n,j)),y.state=n.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(jh(n,o,j,u),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Du.enqueueReplaceState(y,y.state,null),Tu(n,u,y,m),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function Da(n,o){try{var u="",m=o;do u+=Y(m),m=m.return;while(m);var y=u}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:n,source:o,stack:y,digest:null}}function Sh(n,o,u){return{value:n,source:null,stack:u??null,digest:o??null}}function Ch(n,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Ej=typeof WeakMap=="function"?WeakMap:Map;function Jg(n,o,u){u=Ks(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){Wu||(Wu=!0,$h=m),Ch(n,o)},u}function ev(n,o,u){u=Ks(-1,u),u.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var y=o.value;u.payload=function(){return m(y)},u.callback=function(){Ch(n,o)}}var j=n.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){Ch(n,o),typeof m!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function tv(n,o,u){var m=n.pingCache;if(m===null){m=n.pingCache=new Ej;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(y.add(u),n=$j.bind(null,n,o,u),o.then(n,n))}function nv(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function rv(n,o,u,m,y){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ks(-1,1),o.tag=2,Ri(u,o,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var Pj=F.ReactCurrentOwner,Rn=!1;function wn(n,o,u,m){o.child=n===null?jg(o,null,u,m):Aa(o,n.child,u,m)}function sv(n,o,u,m,y){u=u.render;var j=o.ref;return Oa(o,y),m=vh(n,o,u,m,j,y),u=xh(),n!==null&&!Rn?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,Gs(n,o,y)):(St&&u&&eh(o),o.flags|=1,wn(n,o,m,y),o.child)}function iv(n,o,u,m,y){if(n===null){var j=u.type;return typeof j=="function"&&!Kh(j)&&j.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=j,ov(n,o,j,m,y)):(n=Qu(u.type,null,m,o,o.mode,y),n.ref=o.ref,n.return=o,o.child=n)}if(j=n.child,(n.lanes&y)===0){var T=j.memoizedProps;if(u=u.compare,u=u!==null?u:as,u(T,m)&&n.ref===o.ref)return Gs(n,o,y)}return o.flags|=1,n=Di(j,m),n.ref=o.ref,n.return=o,o.child=n}function ov(n,o,u,m,y){if(n!==null){var j=n.memoizedProps;if(as(j,m)&&n.ref===o.ref)if(Rn=!1,o.pendingProps=m=j,(n.lanes&y)!==0)(n.flags&131072)!==0&&(Rn=!0);else return o.lanes=n.lanes,Gs(n,o,y)}return Eh(n,o,u,m,y)}function av(n,o,u){var m=o.pendingProps,y=m.children,j=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(za,or),or|=u;else{if((u&1073741824)===0)return n=j!==null?j.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,xt(za,or),or|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=j!==null?j.baseLanes:u,xt(za,or),or|=m}else j!==null?(m=j.baseLanes|u,o.memoizedState=null):m=u,xt(za,or),or|=m;return wn(n,o,y,u),o.child}function lv(n,o){var u=o.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Eh(n,o,u,m,y){var j=Tn(u)?yo:un.current;return j=ka(o,j),Oa(o,y),u=vh(n,o,u,m,j,y),m=xh(),n!==null&&!Rn?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,Gs(n,o,y)):(St&&m&&eh(o),o.flags|=1,wn(n,o,u,y),o.child)}function cv(n,o,u,m,y){if(Tn(u)){var j=!0;_u(o)}else j=!1;if(Oa(o,y),o.stateNode===null)zu(n,o),Yg(o,u,m),Nh(o,u,m,y),m=!0;else if(n===null){var T=o.stateNode,D=o.memoizedProps;T.props=D;var U=T.context,ce=u.contextType;typeof ce=="object"&&ce!==null?ce=jr(ce):(ce=Tn(u)?yo:un.current,ce=ka(o,ce));var ye=u.getDerivedStateFromProps,_e=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function";_e||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==m||U!==ce)&&Xg(o,T,m,ce),Ti=!1;var xe=o.memoizedState;T.state=xe,Tu(o,m,T,y),U=o.memoizedState,D!==m||xe!==U||kn.current||Ti?(typeof ye=="function"&&(jh(o,u,ye,m),U=o.memoizedState),(D=Ti||Qg(o,u,D,m,xe,U,ce))?(_e||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=U),T.props=m,T.state=U,T.context=ce,m=D):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{T=o.stateNode,Sg(n,o),D=o.memoizedProps,ce=o.type===o.elementType?D:$r(o.type,D),T.props=ce,_e=o.pendingProps,xe=T.context,U=u.contextType,typeof U=="object"&&U!==null?U=jr(U):(U=Tn(u)?yo:un.current,U=ka(o,U));var Ee=u.getDerivedStateFromProps;(ye=typeof Ee=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==_e||xe!==U)&&Xg(o,T,m,U),Ti=!1,xe=o.memoizedState,T.state=xe,Tu(o,m,T,y);var Te=o.memoizedState;D!==_e||xe!==Te||kn.current||Ti?(typeof Ee=="function"&&(jh(o,u,Ee,m),Te=o.memoizedState),(ce=Ti||Qg(o,u,ce,m,xe,Te,U)||!1)?(ye||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,Te,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,Te,U)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===n.memoizedProps&&xe===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&xe===n.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Te),T.props=m,T.state=Te,T.context=U,m=ce):(typeof T.componentDidUpdate!="function"||D===n.memoizedProps&&xe===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&xe===n.memoizedState||(o.flags|=1024),m=!1)}return Ph(n,o,u,m,j,y)}function Ph(n,o,u,m,y,j){lv(n,o);var T=(o.flags&128)!==0;if(!m&&!T)return y&&pg(o,u,!1),Gs(n,o,j);m=o.stateNode,Pj.current=o;var D=T&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,n!==null&&T?(o.child=Aa(o,n.child,null,j),o.child=Aa(o,null,D,j)):wn(n,o,D,j),o.memoizedState=m.state,y&&pg(o,u,!0),o.child}function uv(n){var o=n.stateNode;o.pendingContext?fg(n,o.pendingContext,o.pendingContext!==o.context):o.context&&fg(n,o.context,!1),dh(n,o.containerInfo)}function dv(n,o,u,m,y){return La(),sh(y),o.flags|=256,wn(n,o,u,m),o.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Th(n){return{baseLanes:n,cachePool:null,transitions:null}}function fv(n,o,u){var m=o.pendingProps,y=Pt.current,j=!1,T=(o.flags&128)!==0,D;if((D=T)||(D=n!==null&&n.memoizedState===null?!1:(y&2)!==0),D?(j=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),xt(Pt,y&1),n===null)return rh(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=m.children,n=m.fallback,j?(m=o.mode,j=o.child,T={mode:"hidden",children:T},(m&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=T):j=Yu(T,m,0,null),n=ko(n,m,u,null),j.return=o,n.return=o,j.sibling=n,o.child=j,o.child.memoizedState=Th(u),o.memoizedState=kh,n):Rh(o,T));if(y=n.memoizedState,y!==null&&(D=y.dehydrated,D!==null))return kj(n,o,T,m,D,y,u);if(j){j=m.fallback,T=o.mode,y=n.child,D=y.sibling;var U={mode:"hidden",children:m.children};return(T&1)===0&&o.child!==y?(m=o.child,m.childLanes=0,m.pendingProps=U,o.deletions=null):(m=Di(y,U),m.subtreeFlags=y.subtreeFlags&14680064),D!==null?j=Di(D,j):(j=ko(j,T,u,null),j.flags|=2),j.return=o,m.return=o,m.sibling=j,o.child=m,m=j,j=o.child,T=n.child.memoizedState,T=T===null?Th(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},j.memoizedState=T,j.childLanes=n.childLanes&~u,o.memoizedState=kh,m}return j=n.child,n=j.sibling,m=Di(j,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=u),m.return=o,m.sibling=null,n!==null&&(u=o.deletions,u===null?(o.deletions=[n],o.flags|=16):u.push(n)),o.child=m,o.memoizedState=null,m}function Rh(n,o){return o=Yu({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Fu(n,o,u,m){return m!==null&&sh(m),Aa(o,n.child,null,u),n=Rh(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function kj(n,o,u,m,y,j,T){if(u)return o.flags&256?(o.flags&=-257,m=Sh(Error(r(422))),Fu(n,o,T,m)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(j=m.fallback,y=o.mode,m=Yu({mode:"visible",children:m.children},y,0,null),j=ko(j,y,T,null),j.flags|=2,m.return=o,j.return=o,m.sibling=j,o.child=m,(o.mode&1)!==0&&Aa(o,n.child,null,T),o.child.memoizedState=Th(T),o.memoizedState=kh,j);if((o.mode&1)===0)return Fu(n,o,T,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var D=m.dgst;return m=D,j=Error(r(419)),m=Sh(j,m,void 0),Fu(n,o,T,m)}if(D=(T&n.childLanes)!==0,Rn||D){if(m=Qt,m!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|T))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,qs(n,y),Wr(m,n,y,-1))}return qh(),m=Sh(Error(r(421))),Fu(n,o,T,m)}return y.data==="$?"?(o.flags|=128,o.child=n.child,o=Uj.bind(null,n),y._reactRetry=o,null):(n=j.treeContext,ir=us(y.nextSibling),sr=o,St=!0,Br=null,n!==null&&(_r[br++]=Vs,_r[br++]=Zs,_r[br++]=wo,Vs=n.id,Zs=n.overflow,wo=o),o=Rh(o,m.children),o.flags|=4096,o)}function hv(n,o,u){n.lanes|=o;var m=n.alternate;m!==null&&(m.lanes|=o),lh(n.return,o,u)}function Lh(n,o,u,m,y){var j=n.memoizedState;j===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=u,j.tailMode=y)}function pv(n,o,u){var m=o.pendingProps,y=m.revealOrder,j=m.tail;if(wn(n,o,m.children,u),m=Pt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hv(n,u,o);else if(n.tag===19)hv(n,u,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(xt(Pt,m),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(u=o.child,y=null;u!==null;)n=u.alternate,n!==null&&Ru(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Lh(o,!1,y,u,j);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(n=y.alternate,n!==null&&Ru(n)===null){o.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}Lh(o,!0,u,null,j);break;case"together":Lh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function zu(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function Gs(n,o,u){if(n!==null&&(o.dependencies=n.dependencies),So|=o.lanes,(u&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,u=Di(n,n.pendingProps),o.child=u,u.return=o;n.sibling!==null;)n=n.sibling,u=u.sibling=Di(n,n.pendingProps),u.return=o;u.sibling=null}return o.child}function Tj(n,o,u){switch(o.tag){case 3:uv(o),La();break;case 5:Pg(o);break;case 1:Tn(o.type)&&_u(o);break;case 4:dh(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,y=o.memoizedProps.value;xt(Eu,m._currentValue),m._currentValue=y;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(xt(Pt,Pt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?fv(n,o,u):(xt(Pt,Pt.current&1),n=Gs(n,o,u),n!==null?n.sibling:null);xt(Pt,Pt.current&1);break;case 19:if(m=(u&o.childLanes)!==0,(n.flags&128)!==0){if(m)return pv(n,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),xt(Pt,Pt.current),m)break;return null;case 22:case 23:return o.lanes=0,av(n,o,u)}return Gs(n,o,u)}var mv,Ah,gv,vv;mv=function(n,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ah=function(){},gv=function(n,o,u,m){var y=n.memoizedProps;if(y!==m){n=o.stateNode,jo(ds.current);var j=null;switch(u){case"input":y=gn(n,y),m=gn(n,m),j=[];break;case"select":y=J({},y,{value:void 0}),m=J({},m,{value:void 0}),j=[];break;case"textarea":y=Es(n,y),m=Es(n,m),j=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=ve)}hr(u,m);var T;u=null;for(ce in y)if(!m.hasOwnProperty(ce)&&y.hasOwnProperty(ce)&&y[ce]!=null)if(ce==="style"){var D=y[ce];for(T in D)D.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(l.hasOwnProperty(ce)?j||(j=[]):(j=j||[]).push(ce,null));for(ce in m){var U=m[ce];if(D=y?.[ce],m.hasOwnProperty(ce)&&U!==D&&(U!=null||D!=null))if(ce==="style")if(D){for(T in D)!D.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in U)U.hasOwnProperty(T)&&D[T]!==U[T]&&(u||(u={}),u[T]=U[T])}else u||(j||(j=[]),j.push(ce,u)),u=U;else ce==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,D=D?D.__html:void 0,U!=null&&D!==U&&(j=j||[]).push(ce,U)):ce==="children"?typeof U!="string"&&typeof U!="number"||(j=j||[]).push(ce,""+U):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(l.hasOwnProperty(ce)?(U!=null&&ce==="onScroll"&&mt("scroll",n),j||D===U||(j=[])):(j=j||[]).push(ce,U))}u&&(j=j||[]).push("style",u);var ce=j;(o.updateQueue=ce)&&(o.flags|=4)}},vv=function(n,o,u,m){u!==m&&(o.flags|=4)};function ec(n,o){if(!St)switch(n.tailMode){case"hidden":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function fn(n){var o=n.alternate!==null&&n.alternate.child===n.child,u=0,m=0;if(o)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=m,n.childLanes=u,o}function Rj(n,o,u){var m=o.pendingProps;switch(th(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(o),null;case 1:return Tn(o.type)&&wu(),fn(o),null;case 3:return m=o.stateNode,Ia(),wt(kn),wt(un),ph(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Su(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Br!==null&&(Wh(Br),Br=null))),Ah(n,o),fn(o),null;case 5:fh(o);var y=jo(Gl.current);if(u=o.type,n!==null&&o.stateNode!=null)gv(n,o,u,m,y),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(r(166));return fn(o),null}if(n=jo(ds.current),Su(o)){m=o.stateNode,u=o.type;var j=o.memoizedProps;switch(m[wr]=o,m[Si]=j,n=(o.mode&1)!==0,u){case"dialog":mt("cancel",m),mt("close",m);break;case"iframe":case"object":case"embed":mt("load",m);break;case"video":case"audio":for(y=0;y<bi.length;y++)mt(bi[y],m);break;case"source":mt("error",m);break;case"img":case"image":case"link":mt("error",m),mt("load",m);break;case"details":mt("toggle",m);break;case"input":kr(m,j),mt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!j.multiple},mt("invalid",m);break;case"textarea":Hn(m,j),mt("invalid",m)}hr(u,j),y=null;for(var T in j)if(j.hasOwnProperty(T)){var D=j[T];T==="children"?typeof D=="string"?m.textContent!==D&&(j.suppressHydrationWarning!==!0&&le(m.textContent,D,n),y=["children",D]):typeof D=="number"&&m.textContent!==""+D&&(j.suppressHydrationWarning!==!0&&le(m.textContent,D,n),y=["children",""+D]):l.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&mt("scroll",m)}switch(u){case"input":ze(m),Tr(m,j,!0);break;case"textarea":ze(m),Xo(m);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(m.onclick=ve)}m=y,o.updateQueue=m,m!==null&&(o.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Bt(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=T.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=T.createElement(u,{is:m.is}):(n=T.createElement(u),u==="select"&&(T=n,m.multiple?T.multiple=!0:m.size&&(T.size=m.size))):n=T.createElementNS(n,u),n[wr]=o,n[Si]=m,mv(n,o,!1,!1),o.stateNode=n;e:{switch(T=Lr(u,m),u){case"dialog":mt("cancel",n),mt("close",n),y=m;break;case"iframe":case"object":case"embed":mt("load",n),y=m;break;case"video":case"audio":for(y=0;y<bi.length;y++)mt(bi[y],n);y=m;break;case"source":mt("error",n),y=m;break;case"img":case"image":case"link":mt("error",n),mt("load",n),y=m;break;case"details":mt("toggle",n),y=m;break;case"input":kr(n,m),y=gn(n,m),mt("invalid",n);break;case"option":y=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},y=J({},m,{value:void 0}),mt("invalid",n);break;case"textarea":Hn(n,m),y=Es(n,m),mt("invalid",n);break;default:y=m}hr(u,y),D=y;for(j in D)if(D.hasOwnProperty(j)){var U=D[j];j==="style"?Zn(n,U):j==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Jo(n,U)):j==="children"?typeof U=="string"?(u!=="textarea"||U!=="")&&Vn(n,U):typeof U=="number"&&Vn(n,""+U):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(l.hasOwnProperty(j)?U!=null&&j==="onScroll"&&mt("scroll",n):U!=null&&R(n,j,U,T))}switch(u){case"input":ze(n),Tr(n,m,!1);break;case"textarea":ze(n),Xo(n);break;case"option":m.value!=null&&n.setAttribute("value",""+Ne(m.value));break;case"select":n.multiple=!!m.multiple,j=m.value,j!=null?rn(n,!!m.multiple,j,!1):m.defaultValue!=null&&rn(n,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=ve)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return fn(o),null;case 6:if(n&&o.stateNode!=null)vv(n,o,n.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(u=jo(Gl.current),jo(ds.current),Su(o)){if(m=o.stateNode,u=o.memoizedProps,m[wr]=o,(j=m.nodeValue!==u)&&(n=sr,n!==null))switch(n.tag){case 3:le(m.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&le(m.nodeValue,u,(n.mode&1)!==0)}j&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[wr]=o,o.stateNode=m}return fn(o),null;case 13:if(wt(Pt),m=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(St&&ir!==null&&(o.mode&1)!==0&&(o.flags&128)===0)wg(),La(),o.flags|=98560,j=!1;else if(j=Su(o),m!==null&&m.dehydrated!==null){if(n===null){if(!j)throw Error(r(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[wr]=o}else La(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fn(o),j=!1}else Br!==null&&(Wh(Br),Br=null),j=!0;if(!j)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(Pt.current&1)!==0?Vt===0&&(Vt=3):qh())),o.updateQueue!==null&&(o.flags|=4),fn(o),null);case 4:return Ia(),Ah(n,o),n===null&&ji(o.stateNode.containerInfo),fn(o),null;case 10:return ah(o.type._context),fn(o),null;case 17:return Tn(o.type)&&wu(),fn(o),null;case 19:if(wt(Pt),j=o.memoizedState,j===null)return fn(o),null;if(m=(o.flags&128)!==0,T=j.rendering,T===null)if(m)ec(j,!1);else{if(Vt!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(T=Ru(n),T!==null){for(o.flags|=128,ec(j,!1),m=T.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)j=u,n=m,j.flags&=14680066,T=j.alternate,T===null?(j.childLanes=0,j.lanes=n,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=T.childLanes,j.lanes=T.lanes,j.child=T.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=T.memoizedProps,j.memoizedState=T.memoizedState,j.updateQueue=T.updateQueue,j.type=T.type,n=T.dependencies,j.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return xt(Pt,Pt.current&1|2),o.child}n=n.sibling}j.tail!==null&&Ct()>Ba&&(o.flags|=128,m=!0,ec(j,!1),o.lanes=4194304)}else{if(!m)if(n=Ru(T),n!==null){if(o.flags|=128,m=!0,u=n.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ec(j,!0),j.tail===null&&j.tailMode==="hidden"&&!T.alternate&&!St)return fn(o),null}else 2*Ct()-j.renderingStartTime>Ba&&u!==1073741824&&(o.flags|=128,m=!0,ec(j,!1),o.lanes=4194304);j.isBackwards?(T.sibling=o.child,o.child=T):(u=j.last,u!==null?u.sibling=T:o.child=T,j.last=T)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=Ct(),o.sibling=null,u=Pt.current,xt(Pt,m?u&1|2:u&1),o):(fn(o),null);case 22:case 23:return Zh(),m=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(or&1073741824)!==0&&(fn(o),o.subtreeFlags&6&&(o.flags|=8192)):fn(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Lj(n,o){switch(th(o),o.tag){case 1:return Tn(o.type)&&wu(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Ia(),wt(kn),wt(un),ph(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return fh(o),null;case 13:if(wt(Pt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));La()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return wt(Pt),null;case 4:return Ia(),null;case 10:return ah(o.type._context),null;case 22:case 23:return Zh(),null;case 24:return null;default:return null}}var Bu=!1,hn=!1,Aj=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Fa(n,o){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){At(n,o,m)}else u.current=null}function Mh(n,o,u){try{u()}catch(m){At(n,o,m)}}var xv=!1;function Mj(n,o){if(Ce=uo,n=Dl(),Fl(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{u.nodeType,j.nodeType}catch{u=null;break e}var T=0,D=-1,U=-1,ce=0,ye=0,_e=n,xe=null;t:for(;;){for(var Ee;_e!==u||y!==0&&_e.nodeType!==3||(D=T+y),_e!==j||m!==0&&_e.nodeType!==3||(U=T+m),_e.nodeType===3&&(T+=_e.nodeValue.length),(Ee=_e.firstChild)!==null;)xe=_e,_e=Ee;for(;;){if(_e===n)break t;if(xe===u&&++ce===y&&(D=T),xe===j&&++ye===m&&(U=T),(Ee=_e.nextSibling)!==null)break;_e=xe,xe=_e.parentNode}_e=Ee}u=D===-1||U===-1?null:{start:D,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ie={focusedElem:n,selectionRange:u},uo=!1,Pe=o;Pe!==null;)if(o=Pe,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,Pe=n;else for(;Pe!==null;){o=Pe;try{var Te=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ae=Te.memoizedProps,Mt=Te.memoizedState,ne=o.stateNode,q=ne.getSnapshotBeforeUpdate(o.elementType===o.type?Ae:$r(o.type,Ae),Mt);ne.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var oe=o.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){At(o,o.return,be)}if(n=o.sibling,n!==null){n.return=o.return,Pe=n;break}Pe=o.return}return Te=xv,xv=!1,Te}function tc(n,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&n)===n){var j=y.destroy;y.destroy=void 0,j!==void 0&&Mh(o,u,j)}y=y.next}while(y!==m)}}function $u(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&n)===n){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function Oh(n){var o=n.ref;if(o!==null){var u=n.stateNode;n.tag,n=u,typeof o=="function"?o(n):o.current=n}}function yv(n){var o=n.alternate;o!==null&&(n.alternate=null,yv(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[wr],delete o[Si],delete o[Ci],delete o[Qf],delete o[Yf])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wv(n){return n.tag===5||n.tag===3||n.tag===4}function _v(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ih(n,o,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(n,o):u.insertBefore(n,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(n,u)):(o=u,o.appendChild(n)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ve));else if(m!==4&&(n=n.child,n!==null))for(Ih(n,o,u),n=n.sibling;n!==null;)Ih(n,o,u),n=n.sibling}function Dh(n,o,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?u.insertBefore(n,o):u.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Dh(n,o,u),n=n.sibling;n!==null;)Dh(n,o,u),n=n.sibling}var tn=null,Ur=!1;function Li(n,o,u){for(u=u.child;u!==null;)bv(n,o,u),u=u.sibling}function bv(n,o,u){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(so,u)}catch{}switch(u.tag){case 5:hn||Fa(u,o);case 6:var m=tn,y=Ur;tn=null,Li(n,o,u),tn=m,Ur=y,tn!==null&&(Ur?(n=tn,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):tn.removeChild(u.stateNode));break;case 18:tn!==null&&(Ur?(n=tn,u=u.stateNode,n.nodeType===8?Vl(n.parentNode,u):n.nodeType===1&&Vl(n,u),Jn(n)):Vl(tn,u.stateNode));break;case 4:m=tn,y=Ur,tn=u.stateNode.containerInfo,Ur=!0,Li(n,o,u),tn=m,Ur=y;break;case 0:case 11:case 14:case 15:if(!hn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var j=y,T=j.destroy;j=j.tag,T!==void 0&&((j&2)!==0||(j&4)!==0)&&Mh(u,o,T),y=y.next}while(y!==m)}Li(n,o,u);break;case 1:if(!hn&&(Fa(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(D){At(u,o,D)}Li(n,o,u);break;case 21:Li(n,o,u);break;case 22:u.mode&1?(hn=(m=hn)||u.memoizedState!==null,Li(n,o,u),hn=m):Li(n,o,u);break;default:Li(n,o,u)}}function jv(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new Aj),o.forEach(function(m){var y=Hj.bind(null,n,m);u.has(m)||(u.add(m),m.then(y,y))})}}function Hr(n,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var j=n,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 5:tn=D.stateNode,Ur=!1;break e;case 3:tn=D.stateNode.containerInfo,Ur=!0;break e;case 4:tn=D.stateNode.containerInfo,Ur=!0;break e}D=D.return}if(tn===null)throw Error(r(160));bv(j,T,y),tn=null,Ur=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(ce){At(y,o,ce)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Nv(o,n),o=o.sibling}function Nv(n,o){var u=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Hr(o,n),hs(n),m&4){try{tc(3,n,n.return),$u(3,n)}catch(Ae){At(n,n.return,Ae)}try{tc(5,n,n.return)}catch(Ae){At(n,n.return,Ae)}}break;case 1:Hr(o,n),hs(n),m&512&&u!==null&&Fa(u,u.return);break;case 5:if(Hr(o,n),hs(n),m&512&&u!==null&&Fa(u,u.return),n.flags&32){var y=n.stateNode;try{Vn(y,"")}catch(Ae){At(n,n.return,Ae)}}if(m&4&&(y=n.stateNode,y!=null)){var j=n.memoizedProps,T=u!==null?u.memoizedProps:j,D=n.type,U=n.updateQueue;if(n.updateQueue=null,U!==null)try{D==="input"&&j.type==="radio"&&j.name!=null&&fr(y,j),Lr(D,T);var ce=Lr(D,j);for(T=0;T<U.length;T+=2){var ye=U[T],_e=U[T+1];ye==="style"?Zn(y,_e):ye==="dangerouslySetInnerHTML"?Jo(y,_e):ye==="children"?Vn(y,_e):R(y,ye,_e,ce)}switch(D){case"input":Un(y,j);break;case"textarea":Yo(y,j);break;case"select":var xe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var Ee=j.value;Ee!=null?rn(y,!!j.multiple,Ee,!1):xe!==!!j.multiple&&(j.defaultValue!=null?rn(y,!!j.multiple,j.defaultValue,!0):rn(y,!!j.multiple,j.multiple?[]:"",!1))}y[Si]=j}catch(Ae){At(n,n.return,Ae)}}break;case 6:if(Hr(o,n),hs(n),m&4){if(n.stateNode===null)throw Error(r(162));y=n.stateNode,j=n.memoizedProps;try{y.nodeValue=j}catch(Ae){At(n,n.return,Ae)}}break;case 3:if(Hr(o,n),hs(n),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Jn(o.containerInfo)}catch(Ae){At(n,n.return,Ae)}break;case 4:Hr(o,n),hs(n);break;case 13:Hr(o,n),hs(n),y=n.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(Bh=Ct())),m&4&&jv(n);break;case 22:if(ye=u!==null&&u.memoizedState!==null,n.mode&1?(hn=(ce=hn)||ye,Hr(o,n),hn=ce):Hr(o,n),hs(n),m&8192){if(ce=n.memoizedState!==null,(n.stateNode.isHidden=ce)&&!ye&&(n.mode&1)!==0)for(Pe=n,ye=n.child;ye!==null;){for(_e=Pe=ye;Pe!==null;){switch(xe=Pe,Ee=xe.child,xe.tag){case 0:case 11:case 14:case 15:tc(4,xe,xe.return);break;case 1:Fa(xe,xe.return);var Te=xe.stateNode;if(typeof Te.componentWillUnmount=="function"){m=xe,u=xe.return;try{o=m,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(Ae){At(m,u,Ae)}}break;case 5:Fa(xe,xe.return);break;case 22:if(xe.memoizedState!==null){Ev(_e);continue}}Ee!==null?(Ee.return=xe,Pe=Ee):Ev(_e)}ye=ye.sibling}e:for(ye=null,_e=n;;){if(_e.tag===5){if(ye===null){ye=_e;try{y=_e.stateNode,ce?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(D=_e.stateNode,U=_e.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,D.style.display=ks("display",T))}catch(Ae){At(n,n.return,Ae)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=ce?"":_e.memoizedProps}catch(Ae){At(n,n.return,Ae)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===n)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===n)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===n)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Hr(o,n),hs(n),m&4&&jv(n);break;case 21:break;default:Hr(o,n),hs(n)}}function hs(n){var o=n.flags;if(o&2){try{e:{for(var u=n.return;u!==null;){if(wv(u)){var m=u;break e}u=u.return}throw Error(r(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Vn(y,""),m.flags&=-33);var j=_v(n);Dh(n,j,y);break;case 3:case 4:var T=m.stateNode.containerInfo,D=_v(n);Ih(n,D,T);break;default:throw Error(r(161))}}catch(U){At(n,n.return,U)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Oj(n,o,u){Pe=n,Sv(n)}function Sv(n,o,u){for(var m=(n.mode&1)!==0;Pe!==null;){var y=Pe,j=y.child;if(y.tag===22&&m){var T=y.memoizedState!==null||Bu;if(!T){var D=y.alternate,U=D!==null&&D.memoizedState!==null||hn;D=Bu;var ce=hn;if(Bu=T,(hn=U)&&!ce)for(Pe=y;Pe!==null;)T=Pe,U=T.child,T.tag===22&&T.memoizedState!==null?Pv(y):U!==null?(U.return=T,Pe=U):Pv(y);for(;j!==null;)Pe=j,Sv(j),j=j.sibling;Pe=y,Bu=D,hn=ce}Cv(n)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,Pe=j):Cv(n)}}function Cv(n){for(;Pe!==null;){var o=Pe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:hn||$u(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!hn)if(u===null)m.componentDidMount();else{var y=o.elementType===o.type?u.memoizedProps:$r(o.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&Eg(o,j,m);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Eg(o,T,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&u.focus();break;case"img":U.src&&(u.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ce=o.alternate;if(ce!==null){var ye=ce.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&Jn(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}hn||o.flags&512&&Oh(o)}catch(xe){At(o,o.return,xe)}}if(o===n){Pe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Pe=u;break}Pe=o.return}}function Ev(n){for(;Pe!==null;){var o=Pe;if(o===n){Pe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Pe=u;break}Pe=o.return}}function Pv(n){for(;Pe!==null;){var o=Pe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{$u(4,o)}catch(U){At(o,u,U)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var y=o.return;try{m.componentDidMount()}catch(U){At(o,y,U)}}var j=o.return;try{Oh(o)}catch(U){At(o,j,U)}break;case 5:var T=o.return;try{Oh(o)}catch(U){At(o,T,U)}}}catch(U){At(o,o.return,U)}if(o===n){Pe=null;break}var D=o.sibling;if(D!==null){D.return=o.return,Pe=D;break}Pe=o.return}}var Ij=Math.ceil,Uu=F.ReactCurrentDispatcher,Fh=F.ReactCurrentOwner,Sr=F.ReactCurrentBatchConfig,it=0,Qt=null,Dt=null,nn=0,or=0,za=Ei(0),Vt=0,nc=null,So=0,Hu=0,zh=0,rc=null,Ln=null,Bh=0,Ba=1/0,Qs=null,Wu=!1,$h=null,Ai=null,Vu=!1,Mi=null,Zu=0,sc=0,Uh=null,qu=-1,Ku=0;function _n(){return(it&6)!==0?Ct():qu!==-1?qu:qu=Ct()}function Oi(n){return(n.mode&1)===0?1:(it&2)!==0&&nn!==0?nn&-nn:yj.transition!==null?(Ku===0&&(Ku=Yc()),Ku):(n=nt,n!==0||(n=window.event,n=n===void 0?16:et(n.type)),n)}function Wr(n,o,u,m){if(50<sc)throw sc=0,Uh=null,Error(r(185));Yn(n,u,m),((it&2)===0||n!==Qt)&&(n===Qt&&((it&2)===0&&(Hu|=u),Vt===4&&Ii(n,nn)),An(n,m),u===1&&it===0&&(o.mode&1)===0&&(Ba=Ct()+500,bu&&ki()))}function An(n,o){var u=n.callbackNode;oa(n,o);var m=vt(n,n===Qt?nn:0);if(m===0)u!==null&&yl(u),n.callbackNode=null,n.callbackPriority=0;else if(o=m&-m,n.callbackPriority!==o){if(u!=null&&yl(u),o===1)n.tag===0?xj(Tv.bind(null,n)):mg(Tv.bind(null,n)),cn(function(){(it&6)===0&&ki()}),u=null;else{switch(ui(m)){case 1:u=wl;break;case 4:u=Qc;break;case 16:u=sa;break;case 536870912:u=oi;break;default:u=sa}u=Fv(u,kv.bind(null,n))}n.callbackPriority=o,n.callbackNode=u}}function kv(n,o){if(qu=-1,Ku=0,(it&6)!==0)throw Error(r(327));var u=n.callbackNode;if($a()&&n.callbackNode!==u)return null;var m=vt(n,n===Qt?nn:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||o)o=Gu(n,m);else{o=m;var y=it;it|=2;var j=Lv();(Qt!==n||nn!==o)&&(Qs=null,Ba=Ct()+500,Eo(n,o));do try{zj();break}catch(D){Rv(n,D)}while(!0);oh(),Uu.current=j,it=y,Dt!==null?o=0:(Qt=null,nn=0,o=Vt)}if(o!==0){if(o===2&&(y=an(n),y!==0&&(m=y,o=Hh(n,y))),o===1)throw u=nc,Eo(n,0),Ii(n,m),An(n,Ct()),u;if(o===6)Ii(n,m);else{if(y=n.current.alternate,(m&30)===0&&!Dj(y)&&(o=Gu(n,m),o===2&&(j=an(n),j!==0&&(m=j,o=Hh(n,j))),o===1))throw u=nc,Eo(n,0),Ii(n,m),An(n,Ct()),u;switch(n.finishedWork=y,n.finishedLanes=m,o){case 0:case 1:throw Error(r(345));case 2:Po(n,Ln,Qs);break;case 3:if(Ii(n,m),(m&130023424)===m&&(o=Bh+500-Ct(),10<o)){if(vt(n,0)!==0)break;if(y=n.suspendedLanes,(y&m)!==m){_n(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=Ht(Po.bind(null,n,Ln,Qs),o);break}Po(n,Ln,Qs);break;case 4:if(Ii(n,m),(m&4194240)===m)break;for(o=n.eventTimes,y=-1;0<m;){var T=31-qe(m);j=1<<T,T=o[T],T>y&&(y=T),m&=~j}if(m=y,m=Ct()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Ij(m/1960))-m,10<m){n.timeoutHandle=Ht(Po.bind(null,n,Ln,Qs),m);break}Po(n,Ln,Qs);break;case 5:Po(n,Ln,Qs);break;default:throw Error(r(329))}}}return An(n,Ct()),n.callbackNode===u?kv.bind(null,n):null}function Hh(n,o){var u=rc;return n.current.memoizedState.isDehydrated&&(Eo(n,o).flags|=256),n=Gu(n,o),n!==2&&(o=Ln,Ln=u,o!==null&&Wh(o)),n}function Wh(n){Ln===null?Ln=n:Ln.push.apply(Ln,n)}function Dj(n){for(var o=n;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],j=y.getSnapshot;y=y.value;try{if(!nr(j(),y))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ii(n,o){for(o&=~zh,o&=~Hu,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var u=31-qe(o),m=1<<u;n[u]=-1,o&=~m}}function Tv(n){if((it&6)!==0)throw Error(r(327));$a();var o=vt(n,0);if((o&1)===0)return An(n,Ct()),null;var u=Gu(n,o);if(n.tag!==0&&u===2){var m=an(n);m!==0&&(o=m,u=Hh(n,m))}if(u===1)throw u=nc,Eo(n,0),Ii(n,o),An(n,Ct()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Po(n,Ln,Qs),An(n,Ct()),null}function Vh(n,o){var u=it;it|=1;try{return n(o)}finally{it=u,it===0&&(Ba=Ct()+500,bu&&ki())}}function Co(n){Mi!==null&&Mi.tag===0&&(it&6)===0&&$a();var o=it;it|=1;var u=Sr.transition,m=nt;try{if(Sr.transition=null,nt=1,n)return n()}finally{nt=m,Sr.transition=u,it=o,(it&6)===0&&ki()}}function Zh(){or=za.current,wt(za)}function Eo(n,o){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,It(u)),Dt!==null)for(u=Dt.return;u!==null;){var m=u;switch(th(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&wu();break;case 3:Ia(),wt(kn),wt(un),ph();break;case 5:fh(m);break;case 4:Ia();break;case 13:wt(Pt);break;case 19:wt(Pt);break;case 10:ah(m.type._context);break;case 22:case 23:Zh()}u=u.return}if(Qt=n,Dt=n=Di(n.current,null),nn=or=o,Vt=0,nc=null,zh=Hu=So=0,Ln=rc=null,bo!==null){for(o=0;o<bo.length;o++)if(u=bo[o],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,j=u.pending;if(j!==null){var T=j.next;j.next=y,m.next=T}u.pending=m}bo=null}return n}function Rv(n,o){do{var u=Dt;try{if(oh(),Lu.current=Iu,Au){for(var m=kt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Au=!1}if(No=0,Gt=Wt=kt=null,Ql=!1,Yl=0,Fh.current=null,u===null||u.return===null){Vt=1,nc=o,Dt=null;break}e:{var j=n,T=u.return,D=u,U=o;if(o=nn,D.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var ce=U,ye=D,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var xe=ye.alternate;xe?(ye.updateQueue=xe.updateQueue,ye.memoizedState=xe.memoizedState,ye.lanes=xe.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ee=nv(T);if(Ee!==null){Ee.flags&=-257,rv(Ee,T,D,j,o),Ee.mode&1&&tv(j,ce,o),o=Ee,U=ce;var Te=o.updateQueue;if(Te===null){var Ae=new Set;Ae.add(U),o.updateQueue=Ae}else Te.add(U);break e}else{if((o&1)===0){tv(j,ce,o),qh();break e}U=Error(r(426))}}else if(St&&D.mode&1){var Mt=nv(T);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),rv(Mt,T,D,j,o),sh(Da(U,D));break e}}j=U=Da(U,D),Vt!==4&&(Vt=2),rc===null?rc=[j]:rc.push(j),j=T;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var ne=Jg(j,U,o);Cg(j,ne);break e;case 1:D=U;var q=j.type,oe=j.stateNode;if((j.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Ai===null||!Ai.has(oe)))){j.flags|=65536,o&=-o,j.lanes|=o;var be=ev(j,D,o);Cg(j,be);break e}}j=j.return}while(j!==null)}Mv(u)}catch(Oe){o=Oe,Dt===u&&u!==null&&(Dt=u=u.return);continue}break}while(!0)}function Lv(){var n=Uu.current;return Uu.current=Iu,n===null?Iu:n}function qh(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Qt===null||(So&268435455)===0&&(Hu&268435455)===0||Ii(Qt,nn)}function Gu(n,o){var u=it;it|=2;var m=Lv();(Qt!==n||nn!==o)&&(Qs=null,Eo(n,o));do try{Fj();break}catch(y){Rv(n,y)}while(!0);if(oh(),it=u,Uu.current=m,Dt!==null)throw Error(r(261));return Qt=null,nn=0,Vt}function Fj(){for(;Dt!==null;)Av(Dt)}function zj(){for(;Dt!==null&&!Mf();)Av(Dt)}function Av(n){var o=Dv(n.alternate,n,or);n.memoizedProps=n.pendingProps,o===null?Mv(n):Dt=o,Fh.current=null}function Mv(n){var o=n;do{var u=o.alternate;if(n=o.return,(o.flags&32768)===0){if(u=Rj(u,o,or),u!==null){Dt=u;return}}else{if(u=Lj(u,o),u!==null){u.flags&=32767,Dt=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vt=6,Dt=null;return}}if(o=o.sibling,o!==null){Dt=o;return}Dt=o=n}while(o!==null);Vt===0&&(Vt=5)}function Po(n,o,u){var m=nt,y=Sr.transition;try{Sr.transition=null,nt=1,Bj(n,o,u,m)}finally{Sr.transition=y,nt=m}return null}function Bj(n,o,u,m){do $a();while(Mi!==null);if((it&6)!==0)throw Error(r(327));u=n.finishedWork;var y=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var j=u.lanes|u.childLanes;if(Lt(n,j),n===Qt&&(Dt=Qt=null,nn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Vu||(Vu=!0,Fv(sa,function(){return $a(),null})),j=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||j){j=Sr.transition,Sr.transition=null;var T=nt;nt=1;var D=it;it|=4,Fh.current=null,Mj(n,u),Nv(u,n),xr(Ie),uo=!!Ce,Ie=Ce=null,n.current=u,Oj(u),ra(),it=D,nt=T,Sr.transition=j}else n.current=u;if(Vu&&(Vu=!1,Mi=n,Zu=y),j=n.pendingLanes,j===0&&(Ai=null),io(u.stateNode),An(n,Ct()),o!==null)for(m=n.onRecoverableError,u=0;u<o.length;u++)y=o[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(Wu)throw Wu=!1,n=$h,$h=null,n;return(Zu&1)!==0&&n.tag!==0&&$a(),j=n.pendingLanes,(j&1)!==0?n===Uh?sc++:(sc=0,Uh=n):sc=0,ki(),null}function $a(){if(Mi!==null){var n=ui(Zu),o=Sr.transition,u=nt;try{if(Sr.transition=null,nt=16>n?16:n,Mi===null)var m=!1;else{if(n=Mi,Mi=null,Zu=0,(it&6)!==0)throw Error(r(331));var y=it;for(it|=4,Pe=n.current;Pe!==null;){var j=Pe,T=j.child;if((Pe.flags&16)!==0){var D=j.deletions;if(D!==null){for(var U=0;U<D.length;U++){var ce=D[U];for(Pe=ce;Pe!==null;){var ye=Pe;switch(ye.tag){case 0:case 11:case 15:tc(8,ye,j)}var _e=ye.child;if(_e!==null)_e.return=ye,Pe=_e;else for(;Pe!==null;){ye=Pe;var xe=ye.sibling,Ee=ye.return;if(yv(ye),ye===ce){Pe=null;break}if(xe!==null){xe.return=Ee,Pe=xe;break}Pe=Ee}}}var Te=j.alternate;if(Te!==null){var Ae=Te.child;if(Ae!==null){Te.child=null;do{var Mt=Ae.sibling;Ae.sibling=null,Ae=Mt}while(Ae!==null)}}Pe=j}}if((j.subtreeFlags&2064)!==0&&T!==null)T.return=j,Pe=T;else e:for(;Pe!==null;){if(j=Pe,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:tc(9,j,j.return)}var ne=j.sibling;if(ne!==null){ne.return=j.return,Pe=ne;break e}Pe=j.return}}var q=n.current;for(Pe=q;Pe!==null;){T=Pe;var oe=T.child;if((T.subtreeFlags&2064)!==0&&oe!==null)oe.return=T,Pe=oe;else e:for(T=q;Pe!==null;){if(D=Pe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:$u(9,D)}}catch(Oe){At(D,D.return,Oe)}if(D===T){Pe=null;break e}var be=D.sibling;if(be!==null){be.return=D.return,Pe=be;break e}Pe=D.return}}if(it=y,ki(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(so,n)}catch{}m=!0}return m}finally{nt=u,Sr.transition=o}}return!1}function Ov(n,o,u){o=Da(u,o),o=Jg(n,o,1),n=Ri(n,o,1),o=_n(),n!==null&&(Yn(n,1,o),An(n,o))}function At(n,o,u){if(n.tag===3)Ov(n,n,u);else for(;o!==null;){if(o.tag===3){Ov(o,n,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ai===null||!Ai.has(m))){n=Da(u,n),n=ev(o,n,1),o=Ri(o,n,1),n=_n(),o!==null&&(Yn(o,1,n),An(o,n));break}}o=o.return}}function $j(n,o,u){var m=n.pingCache;m!==null&&m.delete(o),o=_n(),n.pingedLanes|=n.suspendedLanes&u,Qt===n&&(nn&u)===u&&(Vt===4||Vt===3&&(nn&130023424)===nn&&500>Ct()-Bh?Eo(n,0):zh|=u),An(n,o)}function Iv(n,o){o===0&&((n.mode&1)===0?o=1:(o=li,li<<=1,(li&130023424)===0&&(li=4194304)));var u=_n();n=qs(n,o),n!==null&&(Yn(n,o,u),An(n,u))}function Uj(n){var o=n.memoizedState,u=0;o!==null&&(u=o.retryLane),Iv(n,u)}function Hj(n,o){var u=0;switch(n.tag){case 13:var m=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(o),Iv(n,u)}var Dv;Dv=function(n,o,u){if(n!==null)if(n.memoizedProps!==o.pendingProps||kn.current)Rn=!0;else{if((n.lanes&u)===0&&(o.flags&128)===0)return Rn=!1,Tj(n,o,u);Rn=(n.flags&131072)!==0}else Rn=!1,St&&(o.flags&1048576)!==0&&gg(o,Nu,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;zu(n,o),n=o.pendingProps;var y=ka(o,un.current);Oa(o,u),y=vh(null,o,m,n,y,u);var j=xh();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Tn(m)?(j=!0,_u(o)):j=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,uh(o),y.updater=Du,o.stateNode=y,y._reactInternals=o,Nh(o,m,n,u),o=Ph(null,o,m,!0,j,u)):(o.tag=0,St&&j&&eh(o),wn(null,o,y,u),o=o.child),o;case 16:m=o.elementType;e:{switch(zu(n,o),n=o.pendingProps,y=m._init,m=y(m._payload),o.type=m,y=o.tag=Vj(m),n=$r(m,n),y){case 0:o=Eh(null,o,m,n,u);break e;case 1:o=cv(null,o,m,n,u);break e;case 11:o=sv(null,o,m,n,u);break e;case 14:o=iv(null,o,m,$r(m.type,n),u);break e}throw Error(r(306,m,""))}return o;case 0:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),Eh(n,o,m,y,u);case 1:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),cv(n,o,m,y,u);case 3:e:{if(uv(o),n===null)throw Error(r(387));m=o.pendingProps,j=o.memoizedState,y=j.element,Sg(n,o),Tu(o,m,null,u);var T=o.memoizedState;if(m=T.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){y=Da(Error(r(423)),o),o=dv(n,o,m,u,y);break e}else if(m!==y){y=Da(Error(r(424)),o),o=dv(n,o,m,u,y);break e}else for(ir=us(o.stateNode.containerInfo.firstChild),sr=o,St=!0,Br=null,u=jg(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(La(),m===y){o=Gs(n,o,u);break e}wn(n,o,m,u)}o=o.child}return o;case 5:return Pg(o),n===null&&rh(o),m=o.type,y=o.pendingProps,j=n!==null?n.memoizedProps:null,T=y.children,Qe(m,y)?T=null:j!==null&&Qe(m,j)&&(o.flags|=32),lv(n,o),wn(n,o,T,u),o.child;case 6:return n===null&&rh(o),null;case 13:return fv(n,o,u);case 4:return dh(o,o.stateNode.containerInfo),m=o.pendingProps,n===null?o.child=Aa(o,null,m,u):wn(n,o,m,u),o.child;case 11:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),sv(n,o,m,y,u);case 7:return wn(n,o,o.pendingProps,u),o.child;case 8:return wn(n,o,o.pendingProps.children,u),o.child;case 12:return wn(n,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,y=o.pendingProps,j=o.memoizedProps,T=y.value,xt(Eu,m._currentValue),m._currentValue=T,j!==null)if(nr(j.value,T)){if(j.children===y.children&&!kn.current){o=Gs(n,o,u);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var D=j.dependencies;if(D!==null){T=j.child;for(var U=D.firstContext;U!==null;){if(U.context===m){if(j.tag===1){U=Ks(-1,u&-u),U.tag=2;var ce=j.updateQueue;if(ce!==null){ce=ce.shared;var ye=ce.pending;ye===null?U.next=U:(U.next=ye.next,ye.next=U),ce.pending=U}}j.lanes|=u,U=j.alternate,U!==null&&(U.lanes|=u),lh(j.return,u,o),D.lanes|=u;break}U=U.next}}else if(j.tag===10)T=j.type===o.type?null:j.child;else if(j.tag===18){if(T=j.return,T===null)throw Error(r(341));T.lanes|=u,D=T.alternate,D!==null&&(D.lanes|=u),lh(T,u,o),T=j.sibling}else T=j.child;if(T!==null)T.return=j;else for(T=j;T!==null;){if(T===o){T=null;break}if(j=T.sibling,j!==null){j.return=T.return,T=j;break}T=T.return}j=T}wn(n,o,y.children,u),o=o.child}return o;case 9:return y=o.type,m=o.pendingProps.children,Oa(o,u),y=jr(y),m=m(y),o.flags|=1,wn(n,o,m,u),o.child;case 14:return m=o.type,y=$r(m,o.pendingProps),y=$r(m.type,y),iv(n,o,m,y,u);case 15:return ov(n,o,o.type,o.pendingProps,u);case 17:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),zu(n,o),o.tag=1,Tn(m)?(n=!0,_u(o)):n=!1,Oa(o,u),Yg(o,m,y),Nh(o,m,y,u),Ph(null,o,m,!0,n,u);case 19:return pv(n,o,u);case 22:return av(n,o,u)}throw Error(r(156,o.tag))};function Fv(n,o){return Gc(n,o)}function Wj(n,o,u,m){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(n,o,u,m){return new Wj(n,o,u,m)}function Kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vj(n){if(typeof n=="function")return Kh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Z)return 11;if(n===pe)return 14}return 2}function Di(n,o){var u=n.alternate;return u===null?(u=Cr(n.tag,o,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=o,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,o=n.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function Qu(n,o,u,m,y,j){var T=2;if(m=n,typeof n=="function")Kh(n)&&(T=1);else if(typeof n=="string")T=5;else e:switch(n){case ee:return ko(u.children,y,j,o);case se:T=8,y|=8;break;case K:return n=Cr(12,u,o,y|2),n.elementType=K,n.lanes=j,n;case ue:return n=Cr(13,u,o,y),n.elementType=ue,n.lanes=j,n;case ie:return n=Cr(19,u,o,y),n.elementType=ie,n.lanes=j,n;case me:return Yu(u,y,j,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:T=10;break e;case ae:T=9;break e;case Z:T=11;break e;case pe:T=14;break e;case he:T=16,m=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return o=Cr(T,u,o,y),o.elementType=n,o.type=m,o.lanes=j,o}function ko(n,o,u,m){return n=Cr(7,n,m,o),n.lanes=u,n}function Yu(n,o,u,m){return n=Cr(22,n,m,o),n.elementType=me,n.lanes=u,n.stateNode={isHidden:!1},n}function Gh(n,o,u){return n=Cr(6,n,null,o),n.lanes=u,n}function Qh(n,o,u){return o=Cr(4,n.children!==null?n.children:[],n.key,o),o.lanes=u,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function Zj(n,o,u,m,y){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Yh(n,o,u,m,y,j,T,D,U){return n=new Zj(n,o,u,D,U),o===1?(o=1,j===!0&&(o|=8)):o=0,j=Cr(3,null,null,o),n.current=j,j.stateNode=n,j.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},uh(j),n}function qj(n,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:m==null?null:""+m,children:n,containerInfo:o,implementation:u}}function zv(n){if(!n)return Pi;n=n._reactInternals;e:{if(ns(n)!==n||n.tag!==1)throw Error(r(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(Tn(u))return hg(n,u,o)}return o}function Bv(n,o,u,m,y,j,T,D,U){return n=Yh(u,m,!0,n,y,j,T,D,U),n.context=zv(null),u=n.current,m=_n(),y=Oi(u),j=Ks(m,y),j.callback=o??null,Ri(u,j,y),n.current.lanes=y,Yn(n,y,m),An(n,m),n}function Xu(n,o,u,m){var y=o.current,j=_n(),T=Oi(y);return u=zv(u),o.context===null?o.context=u:o.pendingContext=u,o=Ks(j,T),o.payload={element:n},m=m===void 0?null:m,m!==null&&(o.callback=m),n=Ri(y,o,T),n!==null&&(Wr(n,y,T,j),ku(n,y,T)),T}function Ju(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function $v(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<o?u:o}}function Xh(n,o){$v(n,o),(n=n.alternate)&&$v(n,o)}function Kj(){return null}var Uv=typeof reportError=="function"?reportError:function(n){console.error(n)};function Jh(n){this._internalRoot=n}ed.prototype.render=Jh.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));Xu(n,o,null,null)},ed.prototype.unmount=Jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Co(function(){Xu(null,n,null,null)}),o[ft]=null}};function ed(n){this._internalRoot=n}ed.prototype.unstable_scheduleHydration=function(n){if(n){var o=ca();n={blockedOn:null,target:n,priority:o};for(var u=0;u<Ut.length&&o!==0&&o<Ut[u].priority;u++);Ut.splice(u,0,n),u===0&&ua(n)}};function ep(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function td(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Hv(){}function Gj(n,o,u,m,y){if(y){if(typeof m=="function"){var j=m;m=function(){var ce=Ju(T);j.call(ce)}}var T=Bv(o,m,n,0,null,!1,!1,"",Hv);return n._reactRootContainer=T,n[ft]=T.current,ji(n.nodeType===8?n.parentNode:n),Co(),T}for(;y=n.lastChild;)n.removeChild(y);if(typeof m=="function"){var D=m;m=function(){var ce=Ju(U);D.call(ce)}}var U=Yh(n,0,!1,null,null,!1,!1,"",Hv);return n._reactRootContainer=U,n[ft]=U.current,ji(n.nodeType===8?n.parentNode:n),Co(function(){Xu(o,U,u,m)}),U}function nd(n,o,u,m,y){var j=u._reactRootContainer;if(j){var T=j;if(typeof y=="function"){var D=y;y=function(){var U=Ju(T);D.call(U)}}Xu(o,T,n,y)}else T=Gj(u,o,n,y,m);return Ju(T)}aa=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var u=He(o.pendingLanes);u!==0&&(Or(o,u|1),An(o,Ct()),(it&6)===0&&(Ba=Ct()+500,ki()))}break;case 13:Co(function(){var m=qs(n,1);if(m!==null){var y=_n();Wr(m,n,1,y)}}),Xh(n,1)}},Ls=function(n){if(n.tag===13){var o=qs(n,134217728);if(o!==null){var u=_n();Wr(o,n,134217728,u)}Xh(n,134217728)}},la=function(n){if(n.tag===13){var o=Oi(n),u=qs(n,o);if(u!==null){var m=_n();Wr(u,n,o,m)}Xh(n,o)}},ca=function(){return nt},oo=function(n,o){var u=nt;try{return nt=n,o()}finally{nt=u}},Ts=function(n,o,u){switch(o){case"input":if(Un(n,u),o=u.name,u.type==="radio"&&o!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==n&&m.form===n.form){var y=Ea(m);if(!y)throw Error(r(90));tt(m),Un(m,y)}}}break;case"textarea":Yo(n,u);break;case"select":o=u.value,o!=null&&rn(n,!!u.multiple,o,!1)}},st=Vh,ht=Co;var Qj={usingClientEntryPoint:!1,Events:[Us,Hs,Ea,ta,Be,Vh]},ic={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yj={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qc(n),n===null?null:n.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||Kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{so=rd.inject(Yj),Qn=rd}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qj,Mn.createPortal=function(n,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ep(o))throw Error(r(200));return qj(n,o,null,u)},Mn.createRoot=function(n,o){if(!ep(n))throw Error(r(299));var u=!1,m="",y=Uv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Yh(n,1,!1,null,null,u,!1,m,y),n[ft]=o.current,ji(n.nodeType===8?n.parentNode:n),new Jh(o)},Mn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=qc(o),n=n===null?null:n.stateNode,n},Mn.flushSync=function(n){return Co(n)},Mn.hydrate=function(n,o,u){if(!td(o))throw Error(r(200));return nd(null,n,o,!0,u)},Mn.hydrateRoot=function(n,o,u){if(!ep(n))throw Error(r(405));var m=u!=null&&u.hydratedSources||null,y=!1,j="",T=Uv;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Bv(o,null,n,1,u??null,y,!1,j,T),n[ft]=o.current,ji(n),m)for(n=0;n<m.length;n++)u=m[n],y=u._getVersion,y=y(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,y]:o.mutableSourceEagerHydrationData.push(u,y);return new ed(o)},Mn.render=function(n,o,u){if(!td(o))throw Error(r(200));return nd(null,n,o,!1,u)},Mn.unmountComponentAtNode=function(n){if(!td(n))throw Error(r(40));return n._reactRootContainer?(Co(function(){nd(null,null,n,!1,function(){n._reactRootContainer=null,n[ft]=null})}),!0):!1},Mn.unstable_batchedUpdates=Vh,Mn.unstable_renderSubtreeIntoContainer=function(n,o,u,m){if(!td(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return nd(n,o,u,!1,m)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var Yv;function Vy(){if(Yv)return rp.exports;Yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rp.exports=iN(),rp.exports}var Xv;function oN(){if(Xv)return sd;Xv=1;var e=Vy();return sd.createRoot=e.createRoot,sd.hydrateRoot=e.hydrateRoot,sd}var aN=oN();const lN=1,cN=1e6;let op=0;function uN(){return op=(op+1)%Number.MAX_SAFE_INTEGER,op.toString()}const ap=new Map,Jv=e=>{if(ap.has(e))return;const t=setTimeout(()=>{ap.delete(e),vc({type:"REMOVE_TOAST",toastId:e})},cN);ap.set(e,t)},dN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Jv(r):e.toasts.forEach(a=>{Jv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},vd=[];let xd={toasts:[]};function vc(e){xd=dN(xd,e),vd.forEach(t=>{t(xd)})}function pn({...e}){const t=uN(),r=l=>vc({type:"UPDATE_TOAST",toast:{...l,id:t}}),a=()=>vc({type:"DISMISS_TOAST",toastId:t});return vc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:l=>{l||a()}}}),{id:t,dismiss:a,update:r}}function Yr(){const[e,t]=v.useState(xd);return v.useEffect(()=>(vd.push(t),()=>{const r=vd.indexOf(t);r>-1&&vd.splice(r,1)}),[e]),{...e,toast:pn,dismiss:r=>vc({type:"DISMISS_TOAST",toastId:r})}}var Zo=Vy();const Zy=Ud(Zo);function Se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e?.(l),r===!1||!l.defaultPrevented)return t?.(l)}}function ex(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function si(...e){return t=>{let r=!1;const a=e.map(l=>{const d=ex(l,t);return!r&&typeof d=="function"&&(r=!0),d});if(r)return()=>{for(let l=0;l<a.length;l++){const d=a[l];typeof d=="function"?d():ex(e[l],null)}}}}function dt(...e){return v.useCallback(si(...e),e)}function fN(e,t){const r=v.createContext(t),a=d=>{const{children:f,...p}=d,g=v.useMemo(()=>p,Object.values(p));return i.jsx(r.Provider,{value:g,children:f})};a.displayName=e+"Provider";function l(d){const f=v.useContext(r);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,l]}function Ns(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f),g=r.length;r=[...r,f];const w=N=>{const{scope:E,children:P,...k}=N,b=E?.[e]?.[g]||p,S=v.useMemo(()=>k,Object.values(k));return i.jsx(b.Provider,{value:S,children:P})};w.displayName=d+"Provider";function _(N,E){const P=E?.[e]?.[g]||p,k=v.useContext(P);if(k)return k;if(f!==void 0)return f;throw new Error(`\`${N}\` must be used within \`${d}\``)}return[w,_]}const l=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=p?.[e]||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return l.scopeName=e,[a,hN(l,...t)]}function hN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const N=g(d)[`__scope${w}`];return{...p,...N}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}function tx(e){const t=pN(e),r=v.forwardRef((a,l)=>{const{children:d,...f}=a,p=v.Children.toArray(d),g=p.find(gN);if(g){const w=g.props.children,_=p.map(N=>N===g?v.Children.count(w)>1?v.Children.only(null):v.isValidElement(w)?w.props.children:null:N);return i.jsx(t,{...f,ref:l,children:v.isValidElement(w)?v.cloneElement(w,void 0,_):null})}return i.jsx(t,{...f,ref:l,children:d})});return r.displayName=`${e}.Slot`,r}function pN(e){const t=v.forwardRef((r,a)=>{const{children:l,...d}=r;if(v.isValidElement(l)){const f=xN(l),p=vN(d,l.props);return l.type!==v.Fragment&&(p.ref=a?si(a,f):f),v.cloneElement(l,p)}return v.Children.count(l)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mN=Symbol("radix.slottable");function gN(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mN}function vN(e,t){const r={...t};for(const a in t){const l=e[a],d=t[a];/^on[A-Z]/.test(a)?l&&d?r[a]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[a]=l):a==="style"?r[a]={...l,...d}:a==="className"&&(r[a]=[l,d].filter(Boolean).join(" "))}return{...e,...r}}function xN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Vd(e){const t=e+"CollectionProvider",[r,a]=Ns(t),[l,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),f=b=>{const{scope:S,children:M}=b,I=ge.useRef(null),R=ge.useRef(new Map).current;return i.jsx(l,{scope:S,itemMap:R,collectionRef:I,children:M})};f.displayName=t;const p=e+"CollectionSlot",g=tx(p),w=ge.forwardRef((b,S)=>{const{scope:M,children:I}=b,R=d(p,M),F=dt(S,R.collectionRef);return i.jsx(g,{ref:F,children:I})});w.displayName=p;const _=e+"CollectionItemSlot",N="data-radix-collection-item",E=tx(_),P=ge.forwardRef((b,S)=>{const{scope:M,children:I,...R}=b,F=ge.useRef(null),V=dt(S,F),re=d(_,M);return ge.useEffect(()=>(re.itemMap.set(F,{ref:F,...R}),()=>{re.itemMap.delete(F)})),i.jsx(E,{[N]:"",ref:V,children:I})});P.displayName=_;function k(b){const S=d(e+"CollectionConsumer",b);return ge.useCallback(()=>{const I=S.collectionRef.current;if(!I)return[];const R=Array.from(I.querySelectorAll(`[${N}]`));return Array.from(S.itemMap.values()).sort((re,ee)=>R.indexOf(re.ref.current)-R.indexOf(ee.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:f,Slot:w,ItemSlot:P},k,a]}function yN(e){const t=wN(e),r=v.forwardRef((a,l)=>{const{children:d,...f}=a,p=v.Children.toArray(d),g=p.find(bN);if(g){const w=g.props.children,_=p.map(N=>N===g?v.Children.count(w)>1?v.Children.only(null):v.isValidElement(w)?w.props.children:null:N);return i.jsx(t,{...f,ref:l,children:v.isValidElement(w)?v.cloneElement(w,void 0,_):null})}return i.jsx(t,{...f,ref:l,children:d})});return r.displayName=`${e}.Slot`,r}function wN(e){const t=v.forwardRef((r,a)=>{const{children:l,...d}=r;if(v.isValidElement(l)){const f=NN(l),p=jN(d,l.props);return l.type!==v.Fragment&&(p.ref=a?si(a,f):f),v.cloneElement(l,p)}return v.Children.count(l)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _N=Symbol("radix.slottable");function bN(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_N}function jN(e,t){const r={...t};for(const a in t){const l=e[a],d=t[a];/^on[A-Z]/.test(a)?l&&d?r[a]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[a]=l):a==="style"?r[a]={...l,...d}:a==="className"&&(r[a]=[l,d].filter(Boolean).join(" "))}return{...e,...r}}function NN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var SN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=SN.reduce((e,t)=>{const r=yN(`Primitive.${t}`),a=v.forwardRef((l,d)=>{const{asChild:f,...p}=l,g=f?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(g,{...p,ref:d})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function xm(e,t){e&&Zo.flushSync(()=>e.dispatchEvent(t))}function Nn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>t.current?.(...r),[])}function CN(e,t=globalThis?.document){const r=Nn(e);v.useEffect(()=>{const a=l=>{l.key==="Escape"&&r(l)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var EN="DismissableLayer",Ap="dismissableLayer.update",PN="dismissableLayer.pointerDownOutside",kN="dismissableLayer.focusOutside",nx,qy=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rl=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(qy),[_,N]=v.useState(null),E=_?.ownerDocument??globalThis?.document,[,P]=v.useState({}),k=dt(t,ee=>N(ee)),b=Array.from(w.layers),[S]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),M=b.indexOf(S),I=_?b.indexOf(_):-1,R=w.layersWithOutsidePointerEventsDisabled.size>0,F=I>=M,V=RN(ee=>{const se=ee.target,K=[...w.branches].some(X=>X.contains(se));!F||K||(l?.(ee),f?.(ee),ee.defaultPrevented||p?.())},E),re=LN(ee=>{const se=ee.target;[...w.branches].some(X=>X.contains(se))||(d?.(ee),f?.(ee),ee.defaultPrevented||p?.())},E);return CN(ee=>{I===w.layers.size-1&&(a?.(ee),!ee.defaultPrevented&&p&&(ee.preventDefault(),p()))},E),v.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(nx=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),rx(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=nx)}},[_,E,r,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),rx())},[_,w]),v.useEffect(()=>{const ee=()=>P({});return document.addEventListener(Ap,ee),()=>document.removeEventListener(Ap,ee)},[]),i.jsx(Ze.div,{...g,ref:k,style:{pointerEvents:R?F?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,re.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,re.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,V.onPointerDownCapture)})});rl.displayName=EN;var TN="DismissableLayerBranch",Ky=v.forwardRef((e,t)=>{const r=v.useContext(qy),a=v.useRef(null),l=dt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),i.jsx(Ze.div,{...e,ref:l})});Ky.displayName=TN;function RN(e,t=globalThis?.document){const r=Nn(e),a=v.useRef(!1),l=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Gy(PN,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=g,t.addEventListener("click",l.current,{once:!0})):g()}else t.removeEventListener("click",l.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",l.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function LN(e,t=globalThis?.document){const r=Nn(e),a=v.useRef(!1);return v.useEffect(()=>{const l=d=>{d.target&&!a.current&&Gy(kN,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function rx(){const e=new CustomEvent(Ap);document.dispatchEvent(e)}function Gy(e,t,r,{discrete:a}){const l=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&l.addEventListener(e,t,{once:!0}),a?xm(l,d):l.dispatchEvent(d)}var AN=rl,MN=Ky,zt=globalThis?.document?v.useLayoutEffect:()=>{},ON="Portal",kc=v.forwardRef((e,t)=>{const{container:r,...a}=e,[l,d]=v.useState(!1);zt(()=>d(!0),[]);const f=r||l&&globalThis?.document?.body;return f?Zy.createPortal(i.jsx(Ze.div,{...a,ref:t}),f):null});kc.displayName=ON;function IN(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var Xr=e=>{const{present:t,children:r}=e,a=DN(t),l=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),d=dt(a.ref,FN(l));return typeof r=="function"||a.isPresent?v.cloneElement(l,{ref:d}):null};Xr.displayName="Presence";function DN(e){const[t,r]=v.useState(),a=v.useRef(null),l=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=IN(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=id(a.current);d.current=p==="mounted"?w:"none"},[p]),zt(()=>{const w=a.current,_=l.current;if(_!==e){const E=d.current,P=id(w);e?g("MOUNT"):P==="none"||w?.display==="none"?g("UNMOUNT"):g(_&&E!==P?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,g]),zt(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,N=P=>{const b=id(a.current).includes(CSS.escape(P.animationName));if(P.target===t&&b&&(g("ANIMATION_END"),!l.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},E=P=>{P.target===t&&(d.current=id(a.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",N),t.addEventListener("animationend",N),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",N),t.removeEventListener("animationend",N)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{a.current=w?getComputedStyle(w):null,r(w)},[])}}function id(e){return e?.animationName||"none"}function FN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zN=Wd[" useInsertionEffect ".trim().toString()]||zt;function Io({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[l,d,f]=BN({defaultProp:t,onChange:r}),p=e!==void 0,g=p?e:l;{const _=v.useRef(e!==void 0);v.useEffect(()=>{const N=_.current;N!==p&&console.warn(`${a} is changing from ${N?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=p},[p,a])}const w=v.useCallback(_=>{if(p){const N=$N(_)?_(e):_;N!==e&&f.current?.(N)}else d(_)},[p,e,d,f]);return[g,w]}function BN({defaultProp:e,onChange:t}){const[r,a]=v.useState(e),l=v.useRef(r),d=v.useRef(t);return zN(()=>{d.current=t},[t]),v.useEffect(()=>{l.current!==r&&(d.current?.(r),l.current=r)},[r,l]),[r,a,d]}function $N(e){return typeof e=="function"}var Qy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UN="VisuallyHidden",Zd=v.forwardRef((e,t)=>i.jsx(Ze.span,{...e,ref:t,style:{...Qy,...e.style}}));Zd.displayName=UN;var HN=Zd,ym="ToastProvider",[wm,WN,VN]=Vd("Toast"),[Yy]=Ns("Toast",[VN]),[ZN,qd]=Yy(ym),Xy=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:l="right",swipeThreshold:d=50,children:f}=e,[p,g]=v.useState(null),[w,_]=v.useState(0),N=v.useRef(!1),E=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ym}\`. Expected non-empty \`string\`.`),i.jsx(wm.Provider,{scope:t,children:i.jsx(ZN,{scope:t,label:r,duration:a,swipeDirection:l,swipeThreshold:d,toastCount:w,viewport:p,onViewportChange:g,onToastAdd:v.useCallback(()=>_(P=>P+1),[]),onToastRemove:v.useCallback(()=>_(P=>P-1),[]),isFocusedToastEscapeKeyDownRef:N,isClosePausedRef:E,children:f})})};Xy.displayName=ym;var Jy="ToastViewport",qN=["F8"],Mp="toast.viewportPause",Op="toast.viewportResume",e0=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=qN,label:l="Notifications ({hotkey})",...d}=e,f=qd(Jy,r),p=WN(r),g=v.useRef(null),w=v.useRef(null),_=v.useRef(null),N=v.useRef(null),E=dt(t,N,f.onViewportChange),P=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=f.toastCount>0;v.useEffect(()=>{const S=M=>{a.length!==0&&a.every(R=>M[R]||M.code===R)&&N.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[a]),v.useEffect(()=>{const S=g.current,M=N.current;if(k&&S&&M){const I=()=>{if(!f.isClosePausedRef.current){const re=new CustomEvent(Mp);M.dispatchEvent(re),f.isClosePausedRef.current=!0}},R=()=>{if(f.isClosePausedRef.current){const re=new CustomEvent(Op);M.dispatchEvent(re),f.isClosePausedRef.current=!1}},F=re=>{!S.contains(re.relatedTarget)&&R()},V=()=>{S.contains(document.activeElement)||R()};return S.addEventListener("focusin",I),S.addEventListener("focusout",F),S.addEventListener("pointermove",I),S.addEventListener("pointerleave",V),window.addEventListener("blur",I),window.addEventListener("focus",R),()=>{S.removeEventListener("focusin",I),S.removeEventListener("focusout",F),S.removeEventListener("pointermove",I),S.removeEventListener("pointerleave",V),window.removeEventListener("blur",I),window.removeEventListener("focus",R)}}},[k,f.isClosePausedRef]);const b=v.useCallback(({tabbingDirection:S})=>{const I=p().map(R=>{const F=R.ref.current,V=[F,...o2(F)];return S==="forwards"?V:V.reverse()});return(S==="forwards"?I.reverse():I).flat()},[p]);return v.useEffect(()=>{const S=N.current;if(S){const M=I=>{const R=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!R){const V=document.activeElement,re=I.shiftKey;if(I.target===S&&re){w.current?.focus();return}const K=b({tabbingDirection:re?"backwards":"forwards"}),X=K.findIndex(ae=>ae===V);lp(K.slice(X+1))?I.preventDefault():re?w.current?.focus():_.current?.focus()}};return S.addEventListener("keydown",M),()=>S.removeEventListener("keydown",M)}},[p,b]),i.jsxs(MN,{ref:g,role:"region","aria-label":l.replace("{hotkey}",P),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&i.jsx(Ip,{ref:w,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"forwards"});lp(S)}}),i.jsx(wm.Slot,{scope:r,children:i.jsx(Ze.ol,{tabIndex:-1,...d,ref:E})}),k&&i.jsx(Ip,{ref:_,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"backwards"});lp(S)}})]})});e0.displayName=Jy;var t0="ToastFocusProxy",Ip=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...l}=e,d=qd(t0,r);return i.jsx(Zd,{tabIndex:0,...l,ref:t,style:{position:"fixed"},onFocus:f=>{const p=f.relatedTarget;!d.viewport?.contains(p)&&a()}})});Ip.displayName=t0;var Tc="Toast",KN="toast.swipeStart",GN="toast.swipeMove",QN="toast.swipeCancel",YN="toast.swipeEnd",n0=v.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:l,onOpenChange:d,...f}=e,[p,g]=Io({prop:a,defaultProp:l??!0,onChange:d,caller:Tc});return i.jsx(Xr,{present:r||p,children:i.jsx(e2,{open:p,...f,ref:t,onClose:()=>g(!1),onPause:Nn(e.onPause),onResume:Nn(e.onResume),onSwipeStart:Se(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(e.onSwipeMove,w=>{const{x:_,y:N}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${N}px`)}),onSwipeCancel:Se(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(e.onSwipeEnd,w=>{const{x:_,y:N}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${N}px`),g(!1)})})})});n0.displayName=Tc;var[XN,JN]=Yy(Tc,{onClose(){}}),e2=v.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:l,open:d,onClose:f,onEscapeKeyDown:p,onPause:g,onResume:w,onSwipeStart:_,onSwipeMove:N,onSwipeCancel:E,onSwipeEnd:P,...k}=e,b=qd(Tc,r),[S,M]=v.useState(null),I=dt(t,ie=>M(ie)),R=v.useRef(null),F=v.useRef(null),V=l||b.duration,re=v.useRef(0),ee=v.useRef(V),se=v.useRef(0),{onToastAdd:K,onToastRemove:X}=b,ae=Nn(()=>{S?.contains(document.activeElement)&&b.viewport?.focus(),f()}),Z=v.useCallback(ie=>{!ie||ie===1/0||(window.clearTimeout(se.current),re.current=new Date().getTime(),se.current=window.setTimeout(ae,ie))},[ae]);v.useEffect(()=>{const ie=b.viewport;if(ie){const pe=()=>{Z(ee.current),w?.()},he=()=>{const me=new Date().getTime()-re.current;ee.current=ee.current-me,window.clearTimeout(se.current),g?.()};return ie.addEventListener(Mp,he),ie.addEventListener(Op,pe),()=>{ie.removeEventListener(Mp,he),ie.removeEventListener(Op,pe)}}},[b.viewport,V,g,w,Z]),v.useEffect(()=>{d&&!b.isClosePausedRef.current&&Z(V)},[d,V,b.isClosePausedRef,Z]),v.useEffect(()=>(K(),()=>X()),[K,X]);const ue=v.useMemo(()=>S?c0(S):null,[S]);return b.viewport?i.jsxs(i.Fragment,{children:[ue&&i.jsx(t2,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ue}),i.jsx(XN,{scope:r,onClose:ae,children:Zo.createPortal(i.jsx(wm.ItemSlot,{scope:r,children:i.jsx(AN,{asChild:!0,onEscapeKeyDown:Se(p,()=>{b.isFocusedToastEscapeKeyDownRef.current||ae(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ze.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":b.swipeDirection,...k,ref:I,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Se(e.onKeyDown,ie=>{ie.key==="Escape"&&(p?.(ie.nativeEvent),ie.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,ae()))}),onPointerDown:Se(e.onPointerDown,ie=>{ie.button===0&&(R.current={x:ie.clientX,y:ie.clientY})}),onPointerMove:Se(e.onPointerMove,ie=>{if(!R.current)return;const pe=ie.clientX-R.current.x,he=ie.clientY-R.current.y,me=!!F.current,B=["left","right"].includes(b.swipeDirection),G=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,J=B?G(0,pe):0,O=B?0:G(0,he),H=ie.pointerType==="touch"?10:2,$={x:J,y:O},W={originalEvent:ie,delta:$};me?(F.current=$,od(GN,N,W,{discrete:!1})):sx($,b.swipeDirection,H)?(F.current=$,od(KN,_,W,{discrete:!1}),ie.target.setPointerCapture(ie.pointerId)):(Math.abs(pe)>H||Math.abs(he)>H)&&(R.current=null)}),onPointerUp:Se(e.onPointerUp,ie=>{const pe=F.current,he=ie.target;if(he.hasPointerCapture(ie.pointerId)&&he.releasePointerCapture(ie.pointerId),F.current=null,R.current=null,pe){const me=ie.currentTarget,B={originalEvent:ie,delta:pe};sx(pe,b.swipeDirection,b.swipeThreshold)?od(YN,P,B,{discrete:!0}):od(QN,E,B,{discrete:!0}),me.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),t2=e=>{const{__scopeToast:t,children:r,...a}=e,l=qd(Tc,t),[d,f]=v.useState(!1),[p,g]=v.useState(!1);return s2(()=>f(!0)),v.useEffect(()=>{const w=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(w)},[]),p?null:i.jsx(kc,{asChild:!0,children:i.jsx(Zd,{...a,children:d&&i.jsxs(i.Fragment,{children:[l.label," ",r]})})})},n2="ToastTitle",r0=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return i.jsx(Ze.div,{...a,ref:t})});r0.displayName=n2;var r2="ToastDescription",s0=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return i.jsx(Ze.div,{...a,ref:t})});s0.displayName=r2;var i0="ToastAction",o0=v.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?i.jsx(l0,{altText:r,asChild:!0,children:i.jsx(_m,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${i0}\`. Expected non-empty \`string\`.`),null)});o0.displayName=i0;var a0="ToastClose",_m=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,l=JN(a0,r);return i.jsx(l0,{asChild:!0,children:i.jsx(Ze.button,{type:"button",...a,ref:t,onClick:Se(e.onClick,l.onClose)})})});_m.displayName=a0;var l0=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...l}=e;return i.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...l,ref:t})});function c0(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),i2(a)){const l=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!l)if(d){const f=a.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...c0(a))}}),t}function od(e,t,r,{discrete:a}){const l=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&l.addEventListener(e,t,{once:!0}),a?xm(l,d):l.dispatchEvent(d)}var sx=(e,t,r=0)=>{const a=Math.abs(e.x),l=Math.abs(e.y),d=a>l;return t==="left"||t==="right"?d&&a>r:!d&&l>r};function s2(e=()=>{}){const t=Nn(e);zt(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function i2(e){return e.nodeType===e.ELEMENT_NODE}function o2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var a2=Xy,u0=e0,d0=n0,f0=r0,h0=s0,p0=o0,m0=_m;function g0(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=g0(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function v0(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=g0(e))&&(a&&(a+=" "),a+=t);return a}const ix=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ox=v0,Kd=(e,t)=>r=>{var a;if(t?.variants==null)return ox(e,r?.class,r?.className);const{variants:l,defaultVariants:d}=t,f=Object.keys(l).map(w=>{const _=r?.[w],N=d?.[w];if(_===null)return null;const E=ix(_)||ix(N);return l[w][E]}),p=r&&Object.entries(r).reduce((w,_)=>{let[N,E]=_;return E===void 0||(w[N]=E),w},{}),g=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((w,_)=>{let{class:N,className:E,...P}=_;return Object.entries(P).every(k=>{let[b,S]=k;return Array.isArray(S)?S.includes({...d,...p}[b]):{...d,...p}[b]===S})?[...w,N,E]:w},[]);return ox(e,f,g,r?.class,r?.className)};const l2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x0=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();var c2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u2=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:d,iconNode:f,...p},g)=>v.createElement("svg",{ref:g,...c2,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:x0("lucide",l),...p},[...f.map(([w,_])=>v.createElement(w,_)),...Array.isArray(d)?d:[d]]));const Re=(e,t)=>{const r=v.forwardRef(({className:a,...l},d)=>v.createElement(u2,{ref:d,iconNode:t,className:x0(`lucide-${l2(e)}`,a),...l}));return r.displayName=`${e}`,r};const Ss=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const xc=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const d2=Re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const f2=Re("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const h2=Re("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const hc=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const y0=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const w0=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const _0=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const bm=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const p2=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Qa=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ax=Re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const m2=Re("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const g2=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Dp=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const b0=Re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const j0=Re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const jm=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const v2=Re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const x2=Re("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const y2=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const w2=Re("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const N0=Re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const lx=Re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const _2=Re("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);const Mo=Re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const cx=Re("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const b2=Re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const In=Re("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);const j2=Re("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const Ed=Re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const N2=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const ux=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const S0=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const qi=Re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const S2=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const dx=Re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Fp=Re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const C0=Re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const C2=Re("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);const E2=Re("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);const at=Re("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const P2=Re("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);const Gd=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const ti=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Hi=Re("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);const k2=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Do=Re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const T2=Re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const R2=Re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const L2=Re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Ki=Re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const E0=Re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const A2=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const Kr=Re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const Pd=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const M2=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Qd=Re("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const O2=Re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const fx=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Ro=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ya=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const hx=Re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Nm="-",I2=e=>{const t=F2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:f=>{const p=f.split(Nm);return p[0]===""&&p.length!==1&&p.shift(),P0(p,t)||D2(f)},getConflictingClassGroupIds:(f,p)=>{const g=r[f]||[];return p&&a[f]?[...g,...a[f]]:g}}},P0=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),l=a?P0(e.slice(1),a):void 0;if(l)return l;if(t.validators.length===0)return;const d=e.join(Nm);return t.validators.find(({validator:f})=>f(d))?.classGroupId},px=/^\[(.+)\]$/,D2=e=>{if(px.test(e)){const t=px.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},F2=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return B2(Object.entries(e.classGroups),r).forEach(([d,f])=>{zp(f,a,d,t)}),a},zp=(e,t,r,a)=>{e.forEach(l=>{if(typeof l=="string"){const d=l===""?t:mx(t,l);d.classGroupId=r;return}if(typeof l=="function"){if(z2(l)){zp(l(a),t,r,a);return}t.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([d,f])=>{zp(f,mx(t,d),r,a)})})},mx=(e,t)=>{let r=e;return t.split(Nm).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},z2=e=>e.isThemeGetter,B2=(e,t)=>t?e.map(([r,a])=>{const l=a.map(d=>typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,p])=>[t+f,p])):d);return[r,l]}):e,$2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const l=(d,f)=>{r.set(d,f),t++,t>e&&(t=0,a=r,r=new Map)};return{get(d){let f=r.get(d);if(f!==void 0)return f;if((f=a.get(d))!==void 0)return l(d,f),f},set(d,f){r.has(d)?r.set(d,f):l(d,f)}}},k0="!",U2=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,l=t[0],d=t.length,f=p=>{const g=[];let w=0,_=0,N;for(let S=0;S<p.length;S++){let M=p[S];if(w===0){if(M===l&&(a||p.slice(S,S+d)===t)){g.push(p.slice(_,S)),_=S+d;continue}if(M==="/"){N=S;continue}}M==="["?w++:M==="]"&&w--}const E=g.length===0?p:p.substring(_),P=E.startsWith(k0),k=P?E.substring(1):E,b=N&&N>_?N-_:void 0;return{modifiers:g,hasImportantModifier:P,baseClassName:k,maybePostfixModifierPosition:b}};return r?p=>r({className:p,parseClassName:f}):f},H2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},W2=e=>({cache:$2(e.cacheSize),parseClassName:U2(e),...I2(e)}),V2=/\s+/,Z2=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:l}=t,d=[],f=e.trim().split(V2);let p="";for(let g=f.length-1;g>=0;g-=1){const w=f[g],{modifiers:_,hasImportantModifier:N,baseClassName:E,maybePostfixModifierPosition:P}=r(w);let k=!!P,b=a(k?E.substring(0,P):E);if(!b){if(!k){p=w+(p.length>0?" "+p:p);continue}if(b=a(E),!b){p=w+(p.length>0?" "+p:p);continue}k=!1}const S=H2(_).join(":"),M=N?S+k0:S,I=M+b;if(d.includes(I))continue;d.push(I);const R=l(b,k);for(let F=0;F<R.length;++F){const V=R[F];d.push(M+V)}p=w+(p.length>0?" "+p:p)}return p};function q2(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=T0(t))&&(a&&(a+=" "),a+=r);return a}const T0=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=T0(e[a]))&&(r&&(r+=" "),r+=t);return r};function K2(e,...t){let r,a,l,d=f;function f(g){const w=t.reduce((_,N)=>N(_),e());return r=W2(w),a=r.cache.get,l=r.cache.set,d=p,p(g)}function p(g){const w=a(g);if(w)return w;const _=Z2(g,r);return l(g,_),_}return function(){return d(q2.apply(null,arguments))}}const _t=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},R0=/^\[(?:([a-z-]+):)?(.+)\]$/i,G2=/^\d+\/\d+$/,Q2=new Set(["px","full","screen"]),Y2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ys=e=>qa(e)||Q2.has(e)||G2.test(e),zi=e=>sl(e,"length",cS),qa=e=>!!e&&!Number.isNaN(Number(e)),cp=e=>sl(e,"number",qa),ac=e=>!!e&&Number.isInteger(Number(e)),nS=e=>e.endsWith("%")&&qa(e.slice(0,-1)),Xe=e=>R0.test(e),Bi=e=>Y2.test(e),rS=new Set(["length","size","percentage"]),sS=e=>sl(e,rS,L0),iS=e=>sl(e,"position",L0),oS=new Set(["image","url"]),aS=e=>sl(e,oS,dS),lS=e=>sl(e,"",uS),lc=()=>!0,sl=(e,t,r)=>{const a=R0.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},cS=e=>X2.test(e)&&!J2.test(e),L0=()=>!1,uS=e=>eS.test(e),dS=e=>tS.test(e),fS=()=>{const e=_t("colors"),t=_t("spacing"),r=_t("blur"),a=_t("brightness"),l=_t("borderColor"),d=_t("borderRadius"),f=_t("borderSpacing"),p=_t("borderWidth"),g=_t("contrast"),w=_t("grayscale"),_=_t("hueRotate"),N=_t("invert"),E=_t("gap"),P=_t("gradientColorStops"),k=_t("gradientColorStopPositions"),b=_t("inset"),S=_t("margin"),M=_t("opacity"),I=_t("padding"),R=_t("saturate"),F=_t("scale"),V=_t("sepia"),re=_t("skew"),ee=_t("space"),se=_t("translate"),K=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],ae=()=>["auto",Xe,t],Z=()=>[Xe,t],ue=()=>["",Ys,zi],ie=()=>["auto",qa,Xe],pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],he=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Xe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[qa,Xe];return{cacheSize:500,separator:":",theme:{colors:[lc],spacing:[Ys,zi],blur:["none","",Bi,Xe],brightness:O(),borderColor:[e],borderRadius:["none","","full",Bi,Xe],borderSpacing:Z(),borderWidth:ue(),contrast:O(),grayscale:G(),hueRotate:O(),invert:G(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[nS,zi],inset:ae(),margin:ae(),opacity:O(),padding:Z(),saturate:O(),scale:O(),sepia:G(),skew:O(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pe(),Xe]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ac,Xe]}],basis:[{basis:ae()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",ac,Xe]}],"grid-cols":[{"grid-cols":[lc]}],"col-start-end":[{col:["auto",{span:["full",ac,Xe]},Xe]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[lc]}],"row-start-end":[{row:["auto",{span:[ac,Xe]},Xe]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[ee]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ee]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,t]}],"min-w":[{"min-w":[Xe,t,"min","max","fit"]}],"max-w":[{"max-w":[Xe,t,"none","full","min","max","fit","prose",{screen:[Bi]},Bi]}],h:[{h:[Xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bi,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cp]}],"font-family":[{font:[lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",qa,cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ys,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ys,zi]}],"underline-offset":[{"underline-offset":["auto",Ys,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pe(),iS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[P]}],"gradient-via":[{via:[P]}],"gradient-to":[{to:[P]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...he(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:he()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...he()]}],"outline-offset":[{"outline-offset":[Ys,Xe]}],"outline-w":[{outline:[Ys,zi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[Ys,zi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bi,lS]}],"shadow-color":[{shadow:[lc]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",Bi,Xe]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[N]}],saturate:[{saturate:[R]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[N]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[ac,Xe]}],"translate-x":[{"translate-x":[se]}],"translate-y":[{"translate-y":[se]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ys,zi,cp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hS=K2(fS);function We(...e){return hS(v0(e))}const pS=a2,A0=v.forwardRef(({className:e,...t},r)=>i.jsx(u0,{ref:r,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));A0.displayName=u0.displayName;const mS=Kd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M0=v.forwardRef(({className:e,variant:t,...r},a)=>i.jsx(d0,{ref:a,className:We(mS({variant:t}),e),...r}));M0.displayName=d0.displayName;const gS=v.forwardRef(({className:e,...t},r)=>i.jsx(p0,{ref:r,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));gS.displayName=p0.displayName;const O0=v.forwardRef(({className:e,...t},r)=>i.jsx(m0,{ref:r,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Ya,{className:"h-4 w-4"})}));O0.displayName=m0.displayName;const I0=v.forwardRef(({className:e,...t},r)=>i.jsx(f0,{ref:r,className:We("text-sm font-semibold",e),...t}));I0.displayName=f0.displayName;const D0=v.forwardRef(({className:e,...t},r)=>i.jsx(h0,{ref:r,className:We("text-sm opacity-90",e),...t}));D0.displayName=h0.displayName;function vS(){const{toasts:e}=Yr();return i.jsxs(pS,{children:[e.map(function({id:t,title:r,description:a,action:l,...d}){return i.jsxs(M0,{...d,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(I0,{children:r}),a&&i.jsx(D0,{children:a})]}),l,i.jsx(O0,{})]},t)}),i.jsx(A0,{})]})}var xS=Wd[" useId ".trim().toString()]||(()=>{}),yS=0;function ws(e){const[t,r]=v.useState(xS());return zt(()=>{r(a=>a??String(yS++))},[e]),t?`radix-${t}`:""}const wS=["top","right","bottom","left"],Gi=Math.min,lr=Math.max,kd=Math.round,ad=Math.floor,_s=e=>({x:e,y:e}),_S={left:"right",right:"left",bottom:"top",top:"bottom"},bS={start:"end",end:"start"};function Bp(e,t,r){return lr(e,Gi(t,r))}function ni(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function il(e){return e.split("-")[1]}function Sm(e){return e==="x"?"y":"x"}function Cm(e){return e==="y"?"height":"width"}const jS=new Set(["top","bottom"]);function xs(e){return jS.has(ri(e))?"y":"x"}function Em(e){return Sm(xs(e))}function NS(e,t,r){r===void 0&&(r=!1);const a=il(e),l=Em(e),d=Cm(l);let f=l==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(f=Td(f)),[f,Td(f)]}function SS(e){const t=Td(e);return[$p(e),t,$p(t)]}function $p(e){return e.replace(/start|end/g,t=>bS[t])}const gx=["left","right"],vx=["right","left"],CS=["top","bottom"],ES=["bottom","top"];function PS(e,t,r){switch(e){case"top":case"bottom":return r?t?vx:gx:t?gx:vx;case"left":case"right":return t?CS:ES;default:return[]}}function kS(e,t,r,a){const l=il(e);let d=PS(ri(e),r==="start",a);return l&&(d=d.map(f=>f+"-"+l),t&&(d=d.concat(d.map($p)))),d}function Td(e){return e.replace(/left|right|bottom|top/g,t=>_S[t])}function TS(e){return{top:0,right:0,bottom:0,left:0,...e}}function F0(e){return typeof e!="number"?TS(e):{top:e,right:e,bottom:e,left:e}}function Rd(e){const{x:t,y:r,width:a,height:l}=e;return{width:a,height:l,top:r,left:t,right:t+a,bottom:r+l,x:t,y:r}}function xx(e,t,r){let{reference:a,floating:l}=e;const d=xs(t),f=Em(t),p=Cm(f),g=ri(t),w=d==="y",_=a.x+a.width/2-l.width/2,N=a.y+a.height/2-l.height/2,E=a[p]/2-l[p]/2;let P;switch(g){case"top":P={x:_,y:a.y-l.height};break;case"bottom":P={x:_,y:a.y+a.height};break;case"right":P={x:a.x+a.width,y:N};break;case"left":P={x:a.x-l.width,y:N};break;default:P={x:a.x,y:a.y}}switch(il(t)){case"start":P[f]-=E*(r&&w?-1:1);break;case"end":P[f]+=E*(r&&w?-1:1);break}return P}const RS=async(e,t,r)=>{const{placement:a="bottom",strategy:l="absolute",middleware:d=[],platform:f}=r,p=d.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(t));let w=await f.getElementRects({reference:e,floating:t,strategy:l}),{x:_,y:N}=xx(w,a,g),E=a,P={},k=0;for(let b=0;b<p.length;b++){const{name:S,fn:M}=p[b],{x:I,y:R,data:F,reset:V}=await M({x:_,y:N,initialPlacement:a,placement:E,strategy:l,middlewareData:P,rects:w,platform:f,elements:{reference:e,floating:t}});_=I??_,N=R??N,P={...P,[S]:{...P[S],...F}},V&&k<=50&&(k++,typeof V=="object"&&(V.placement&&(E=V.placement),V.rects&&(w=V.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:l}):V.rects),{x:_,y:N}=xx(w,E,g)),b=-1)}return{x:_,y:N,placement:E,strategy:l,middlewareData:P}};async function yc(e,t){var r;t===void 0&&(t={});const{x:a,y:l,platform:d,rects:f,elements:p,strategy:g}=e,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:N="floating",altBoundary:E=!1,padding:P=0}=ni(t,e),k=F0(P),S=p[E?N==="floating"?"reference":"floating":N],M=Rd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(S)))==null||r?S:S.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:w,rootBoundary:_,strategy:g})),I=N==="floating"?{x:a,y:l,width:f.floating.width,height:f.floating.height}:f.reference,R=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),F=await(d.isElement==null?void 0:d.isElement(R))?await(d.getScale==null?void 0:d.getScale(R))||{x:1,y:1}:{x:1,y:1},V=Rd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:I,offsetParent:R,strategy:g}):I);return{top:(M.top-V.top+k.top)/F.y,bottom:(V.bottom-M.bottom+k.bottom)/F.y,left:(M.left-V.left+k.left)/F.x,right:(V.right-M.right+k.right)/F.x}}const LS=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:l,rects:d,platform:f,elements:p,middlewareData:g}=t,{element:w,padding:_=0}=ni(e,t)||{};if(w==null)return{};const N=F0(_),E={x:r,y:a},P=Em(l),k=Cm(P),b=await f.getDimensions(w),S=P==="y",M=S?"top":"left",I=S?"bottom":"right",R=S?"clientHeight":"clientWidth",F=d.reference[k]+d.reference[P]-E[P]-d.floating[k],V=E[P]-d.reference[P],re=await(f.getOffsetParent==null?void 0:f.getOffsetParent(w));let ee=re?re[R]:0;(!ee||!await(f.isElement==null?void 0:f.isElement(re)))&&(ee=p.floating[R]||d.floating[k]);const se=F/2-V/2,K=ee/2-b[k]/2-1,X=Gi(N[M],K),ae=Gi(N[I],K),Z=X,ue=ee-b[k]-ae,ie=ee/2-b[k]/2+se,pe=Bp(Z,ie,ue),he=!g.arrow&&il(l)!=null&&ie!==pe&&d.reference[k]/2-(ie<Z?X:ae)-b[k]/2<0,me=he?ie<Z?ie-Z:ie-ue:0;return{[P]:E[P]+me,data:{[P]:pe,centerOffset:ie-pe-me,...he&&{alignmentOffset:me}},reset:he}}}),AS=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:l,middlewareData:d,rects:f,initialPlacement:p,platform:g,elements:w}=t,{mainAxis:_=!0,crossAxis:N=!0,fallbackPlacements:E,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:b=!0,...S}=ni(e,t);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const M=ri(l),I=xs(p),R=ri(p)===p,F=await(g.isRTL==null?void 0:g.isRTL(w.floating)),V=E||(R||!b?[Td(p)]:SS(p)),re=k!=="none";!E&&re&&V.push(...kS(p,b,k,F));const ee=[p,...V],se=await yc(t,S),K=[];let X=((a=d.flip)==null?void 0:a.overflows)||[];if(_&&K.push(se[M]),N){const ie=NS(l,f,F);K.push(se[ie[0]],se[ie[1]])}if(X=[...X,{placement:l,overflows:K}],!K.every(ie=>ie<=0)){var ae,Z;const ie=(((ae=d.flip)==null?void 0:ae.index)||0)+1,pe=ee[ie];if(pe&&(!(N==="alignment"?I!==xs(pe):!1)||X.every(B=>xs(B.placement)===I?B.overflows[0]>0:!0)))return{data:{index:ie,overflows:X},reset:{placement:pe}};let he=(Z=X.filter(me=>me.overflows[0]<=0).sort((me,B)=>me.overflows[1]-B.overflows[1])[0])==null?void 0:Z.placement;if(!he)switch(P){case"bestFit":{var ue;const me=(ue=X.filter(B=>{if(re){const G=xs(B.placement);return G===I||G==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(G=>G>0).reduce((G,J)=>G+J,0)]).sort((B,G)=>B[1]-G[1])[0])==null?void 0:ue[0];me&&(he=me);break}case"initialPlacement":he=p;break}if(l!==he)return{reset:{placement:he}}}return{}}}};function yx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wx(e){return wS.some(t=>e[t]>=0)}const MS=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...l}=ni(e,t);switch(a){case"referenceHidden":{const d=await yc(t,{...l,elementContext:"reference"}),f=yx(d,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:wx(f)}}}case"escaped":{const d=await yc(t,{...l,altBoundary:!0}),f=yx(d,r.floating);return{data:{escapedOffsets:f,escaped:wx(f)}}}default:return{}}}}},z0=new Set(["left","top"]);async function OS(e,t){const{placement:r,platform:a,elements:l}=e,d=await(a.isRTL==null?void 0:a.isRTL(l.floating)),f=ri(r),p=il(r),g=xs(r)==="y",w=z0.has(f)?-1:1,_=d&&g?-1:1,N=ni(t,e);let{mainAxis:E,crossAxis:P,alignmentAxis:k}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:N.mainAxis||0,crossAxis:N.crossAxis||0,alignmentAxis:N.alignmentAxis};return p&&typeof k=="number"&&(P=p==="end"?k*-1:k),g?{x:P*_,y:E*w}:{x:E*w,y:P*_}}const IS=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:l,y:d,placement:f,middlewareData:p}=t,g=await OS(t,e);return f===((r=p.offset)==null?void 0:r.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:l+g.x,y:d+g.y,data:{...g,placement:f}}}}},DS=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:l}=t,{mainAxis:d=!0,crossAxis:f=!1,limiter:p={fn:S=>{let{x:M,y:I}=S;return{x:M,y:I}}},...g}=ni(e,t),w={x:r,y:a},_=await yc(t,g),N=xs(ri(l)),E=Sm(N);let P=w[E],k=w[N];if(d){const S=E==="y"?"top":"left",M=E==="y"?"bottom":"right",I=P+_[S],R=P-_[M];P=Bp(I,P,R)}if(f){const S=N==="y"?"top":"left",M=N==="y"?"bottom":"right",I=k+_[S],R=k-_[M];k=Bp(I,k,R)}const b=p.fn({...t,[E]:P,[N]:k});return{...b,data:{x:b.x-r,y:b.y-a,enabled:{[E]:d,[N]:f}}}}}},FS=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:l,rects:d,middlewareData:f}=t,{offset:p=0,mainAxis:g=!0,crossAxis:w=!0}=ni(e,t),_={x:r,y:a},N=xs(l),E=Sm(N);let P=_[E],k=_[N];const b=ni(p,t),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(g){const R=E==="y"?"height":"width",F=d.reference[E]-d.floating[R]+S.mainAxis,V=d.reference[E]+d.reference[R]-S.mainAxis;P<F?P=F:P>V&&(P=V)}if(w){var M,I;const R=E==="y"?"width":"height",F=z0.has(ri(l)),V=d.reference[N]-d.floating[R]+(F&&((M=f.offset)==null?void 0:M[N])||0)+(F?0:S.crossAxis),re=d.reference[N]+d.reference[R]+(F?0:((I=f.offset)==null?void 0:I[N])||0)-(F?S.crossAxis:0);k<V?k=V:k>re&&(k=re)}return{[E]:P,[N]:k}}}},zS=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:l,rects:d,platform:f,elements:p}=t,{apply:g=()=>{},...w}=ni(e,t),_=await yc(t,w),N=ri(l),E=il(l),P=xs(l)==="y",{width:k,height:b}=d.floating;let S,M;N==="top"||N==="bottom"?(S=N,M=E===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(M=N,S=E==="end"?"top":"bottom");const I=b-_.top-_.bottom,R=k-_.left-_.right,F=Gi(b-_[S],I),V=Gi(k-_[M],R),re=!t.middlewareData.shift;let ee=F,se=V;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(se=R),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(ee=I),re&&!E){const X=lr(_.left,0),ae=lr(_.right,0),Z=lr(_.top,0),ue=lr(_.bottom,0);P?se=k-2*(X!==0||ae!==0?X+ae:lr(_.left,_.right)):ee=b-2*(Z!==0||ue!==0?Z+ue:lr(_.top,_.bottom))}await g({...t,availableWidth:se,availableHeight:ee});const K=await f.getDimensions(p.floating);return k!==K.width||b!==K.height?{reset:{rects:!0}}:{}}}};function Yd(){return typeof window<"u"}function ol(e){return B0(e)?(e.nodeName||"").toLowerCase():"#document"}function cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cs(e){var t;return(t=(B0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B0(e){return Yd()?e instanceof Node||e instanceof cr(e).Node:!1}function Gr(e){return Yd()?e instanceof Element||e instanceof cr(e).Element:!1}function js(e){return Yd()?e instanceof HTMLElement||e instanceof cr(e).HTMLElement:!1}function _x(e){return!Yd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cr(e).ShadowRoot}const BS=new Set(["inline","contents"]);function Rc(e){const{overflow:t,overflowX:r,overflowY:a,display:l}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!BS.has(l)}const $S=new Set(["table","td","th"]);function US(e){return $S.has(ol(e))}const HS=[":popover-open",":modal"];function Xd(e){return HS.some(t=>{try{return e.matches(t)}catch{return!1}})}const WS=["transform","translate","scale","rotate","perspective"],VS=["transform","translate","scale","rotate","perspective","filter"],ZS=["paint","layout","strict","content"];function Pm(e){const t=km(),r=Gr(e)?Qr(e):e;return WS.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||VS.some(a=>(r.willChange||"").includes(a))||ZS.some(a=>(r.contain||"").includes(a))}function qS(e){let t=Qi(e);for(;js(t)&&!Xa(t);){if(Pm(t))return t;if(Xd(t))return null;t=Qi(t)}return null}function km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KS=new Set(["html","body","#document"]);function Xa(e){return KS.has(ol(e))}function Qr(e){return cr(e).getComputedStyle(e)}function Jd(e){return Gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qi(e){if(ol(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_x(e)&&e.host||Cs(e);return _x(t)?t.host:t}function $0(e){const t=Qi(e);return Xa(t)?e.ownerDocument?e.ownerDocument.body:e.body:js(t)&&Rc(t)?t:$0(t)}function wc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const l=$0(e),d=l===((a=e.ownerDocument)==null?void 0:a.body),f=cr(l);if(d){const p=Up(f);return t.concat(f,f.visualViewport||[],Rc(l)?l:[],p&&r?wc(p):[])}return t.concat(l,wc(l,[],r))}function Up(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U0(e){const t=Qr(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const l=js(e),d=l?e.offsetWidth:r,f=l?e.offsetHeight:a,p=kd(r)!==d||kd(a)!==f;return p&&(r=d,a=f),{width:r,height:a,$:p}}function Tm(e){return Gr(e)?e:e.contextElement}function Ka(e){const t=Tm(e);if(!js(t))return _s(1);const r=t.getBoundingClientRect(),{width:a,height:l,$:d}=U0(t);let f=(d?kd(r.width):r.width)/a,p=(d?kd(r.height):r.height)/l;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const GS=_s(0);function H0(e){const t=cr(e);return!km()||!t.visualViewport?GS:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QS(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==cr(e)?!1:t}function Fo(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const l=e.getBoundingClientRect(),d=Tm(e);let f=_s(1);t&&(a?Gr(a)&&(f=Ka(a)):f=Ka(e));const p=QS(d,r,a)?H0(d):_s(0);let g=(l.left+p.x)/f.x,w=(l.top+p.y)/f.y,_=l.width/f.x,N=l.height/f.y;if(d){const E=cr(d),P=a&&Gr(a)?cr(a):a;let k=E,b=Up(k);for(;b&&a&&P!==k;){const S=Ka(b),M=b.getBoundingClientRect(),I=Qr(b),R=M.left+(b.clientLeft+parseFloat(I.paddingLeft))*S.x,F=M.top+(b.clientTop+parseFloat(I.paddingTop))*S.y;g*=S.x,w*=S.y,_*=S.x,N*=S.y,g+=R,w+=F,k=cr(b),b=Up(k)}}return Rd({width:_,height:N,x:g,y:w})}function ef(e,t){const r=Jd(e).scrollLeft;return t?t.left+r:Fo(Cs(e)).left+r}function W0(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-ef(e,r),l=r.top+t.scrollTop;return{x:a,y:l}}function YS(e){let{elements:t,rect:r,offsetParent:a,strategy:l}=e;const d=l==="fixed",f=Cs(a),p=t?Xd(t.floating):!1;if(a===f||p&&d)return r;let g={scrollLeft:0,scrollTop:0},w=_s(1);const _=_s(0),N=js(a);if((N||!N&&!d)&&((ol(a)!=="body"||Rc(f))&&(g=Jd(a)),js(a))){const P=Fo(a);w=Ka(a),_.x=P.x+a.clientLeft,_.y=P.y+a.clientTop}const E=f&&!N&&!d?W0(f,g):_s(0);return{width:r.width*w.x,height:r.height*w.y,x:r.x*w.x-g.scrollLeft*w.x+_.x+E.x,y:r.y*w.y-g.scrollTop*w.y+_.y+E.y}}function XS(e){return Array.from(e.getClientRects())}function JS(e){const t=Cs(e),r=Jd(e),a=e.ownerDocument.body,l=lr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=lr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-r.scrollLeft+ef(e);const p=-r.scrollTop;return Qr(a).direction==="rtl"&&(f+=lr(t.clientWidth,a.clientWidth)-l),{width:l,height:d,x:f,y:p}}const bx=25;function eC(e,t){const r=cr(e),a=Cs(e),l=r.visualViewport;let d=a.clientWidth,f=a.clientHeight,p=0,g=0;if(l){d=l.width,f=l.height;const _=km();(!_||_&&t==="fixed")&&(p=l.offsetLeft,g=l.offsetTop)}const w=ef(a);if(w<=0){const _=a.ownerDocument,N=_.body,E=getComputedStyle(N),P=_.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,k=Math.abs(a.clientWidth-N.clientWidth-P);k<=bx&&(d-=k)}else w<=bx&&(d+=w);return{width:d,height:f,x:p,y:g}}const tC=new Set(["absolute","fixed"]);function nC(e,t){const r=Fo(e,!0,t==="fixed"),a=r.top+e.clientTop,l=r.left+e.clientLeft,d=js(e)?Ka(e):_s(1),f=e.clientWidth*d.x,p=e.clientHeight*d.y,g=l*d.x,w=a*d.y;return{width:f,height:p,x:g,y:w}}function jx(e,t,r){let a;if(t==="viewport")a=eC(e,r);else if(t==="document")a=JS(Cs(e));else if(Gr(t))a=nC(t,r);else{const l=H0(e);a={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Rd(a)}function V0(e,t){const r=Qi(e);return r===t||!Gr(r)||Xa(r)?!1:Qr(r).position==="fixed"||V0(r,t)}function rC(e,t){const r=t.get(e);if(r)return r;let a=wc(e,[],!1).filter(p=>Gr(p)&&ol(p)!=="body"),l=null;const d=Qr(e).position==="fixed";let f=d?Qi(e):e;for(;Gr(f)&&!Xa(f);){const p=Qr(f),g=Pm(f);!g&&p.position==="fixed"&&(l=null),(d?!g&&!l:!g&&p.position==="static"&&!!l&&tC.has(l.position)||Rc(f)&&!g&&V0(e,f))?a=a.filter(_=>_!==f):l=p,f=Qi(f)}return t.set(e,a),a}function sC(e){let{element:t,boundary:r,rootBoundary:a,strategy:l}=e;const f=[...r==="clippingAncestors"?Xd(t)?[]:rC(t,this._c):[].concat(r),a],p=f[0],g=f.reduce((w,_)=>{const N=jx(t,_,l);return w.top=lr(N.top,w.top),w.right=Gi(N.right,w.right),w.bottom=Gi(N.bottom,w.bottom),w.left=lr(N.left,w.left),w},jx(t,p,l));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function iC(e){const{width:t,height:r}=U0(e);return{width:t,height:r}}function oC(e,t,r){const a=js(t),l=Cs(t),d=r==="fixed",f=Fo(e,!0,d,t);let p={scrollLeft:0,scrollTop:0};const g=_s(0);function w(){g.x=ef(l)}if(a||!a&&!d)if((ol(t)!=="body"||Rc(l))&&(p=Jd(t)),a){const P=Fo(t,!0,d,t);g.x=P.x+t.clientLeft,g.y=P.y+t.clientTop}else l&&w();d&&!a&&l&&w();const _=l&&!a&&!d?W0(l,p):_s(0),N=f.left+p.scrollLeft-g.x-_.x,E=f.top+p.scrollTop-g.y-_.y;return{x:N,y:E,width:f.width,height:f.height}}function up(e){return Qr(e).position==="static"}function Nx(e,t){if(!js(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Cs(e)===r&&(r=r.ownerDocument.body),r}function Z0(e,t){const r=cr(e);if(Xd(e))return r;if(!js(e)){let l=Qi(e);for(;l&&!Xa(l);){if(Gr(l)&&!up(l))return l;l=Qi(l)}return r}let a=Nx(e,t);for(;a&&US(a)&&up(a);)a=Nx(a,t);return a&&Xa(a)&&up(a)&&!Pm(a)?r:a||qS(e)||r}const aC=async function(e){const t=this.getOffsetParent||Z0,r=this.getDimensions,a=await r(e.floating);return{reference:oC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function lC(e){return Qr(e).direction==="rtl"}const cC={convertOffsetParentRelativeRectToViewportRelativeRect:YS,getDocumentElement:Cs,getClippingRect:sC,getOffsetParent:Z0,getElementRects:aC,getClientRects:XS,getDimensions:iC,getScale:Ka,isElement:Gr,isRTL:lC};function q0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uC(e,t){let r=null,a;const l=Cs(e);function d(){var p;clearTimeout(a),(p=r)==null||p.disconnect(),r=null}function f(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),d();const w=e.getBoundingClientRect(),{left:_,top:N,width:E,height:P}=w;if(p||t(),!E||!P)return;const k=ad(N),b=ad(l.clientWidth-(_+E)),S=ad(l.clientHeight-(N+P)),M=ad(_),R={rootMargin:-k+"px "+-b+"px "+-S+"px "+-M+"px",threshold:lr(0,Gi(1,g))||1};let F=!0;function V(re){const ee=re[0].intersectionRatio;if(ee!==g){if(!F)return f();ee?f(!1,ee):a=setTimeout(()=>{f(!1,1e-7)},1e3)}ee===1&&!q0(w,e.getBoundingClientRect())&&f(),F=!1}try{r=new IntersectionObserver(V,{...R,root:l.ownerDocument})}catch{r=new IntersectionObserver(V,R)}r.observe(e)}return f(!0),d}function dC(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:d=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,w=Tm(e),_=l||d?[...w?wc(w):[],...wc(t)]:[];_.forEach(M=>{l&&M.addEventListener("scroll",r,{passive:!0}),d&&M.addEventListener("resize",r)});const N=w&&p?uC(w,r):null;let E=-1,P=null;f&&(P=new ResizeObserver(M=>{let[I]=M;I&&I.target===w&&P&&(P.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var R;(R=P)==null||R.observe(t)})),r()}),w&&!g&&P.observe(w),P.observe(t));let k,b=g?Fo(e):null;g&&S();function S(){const M=Fo(e);b&&!q0(b,M)&&r(),b=M,k=requestAnimationFrame(S)}return r(),()=>{var M;_.forEach(I=>{l&&I.removeEventListener("scroll",r),d&&I.removeEventListener("resize",r)}),N?.(),(M=P)==null||M.disconnect(),P=null,g&&cancelAnimationFrame(k)}}const fC=IS,hC=DS,pC=AS,mC=zS,gC=MS,Sx=LS,vC=FS,xC=(e,t,r)=>{const a=new Map,l={platform:cC,...r},d={...l.platform,_c:a};return RS(e,t,{...l,platform:d})};var yC=typeof document<"u",wC=function(){},yd=yC?v.useLayoutEffect:wC;function Ld(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Ld(e[a],t[a]))return!1;return!0}if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){const d=l[a];if(!(d==="_owner"&&e.$$typeof)&&!Ld(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function K0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Cx(e,t){const r=K0(e);return Math.round(t*r)/r}function dp(e){const t=v.useRef(e);return yd(()=>{t.current=e}),t}function _C(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:l,elements:{reference:d,floating:f}={},transform:p=!0,whileElementsMounted:g,open:w}=e,[_,N]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[E,P]=v.useState(a);Ld(E,a)||P(a);const[k,b]=v.useState(null),[S,M]=v.useState(null),I=v.useCallback(B=>{B!==re.current&&(re.current=B,b(B))},[]),R=v.useCallback(B=>{B!==ee.current&&(ee.current=B,M(B))},[]),F=d||k,V=f||S,re=v.useRef(null),ee=v.useRef(null),se=v.useRef(_),K=g!=null,X=dp(g),ae=dp(l),Z=dp(w),ue=v.useCallback(()=>{if(!re.current||!ee.current)return;const B={placement:t,strategy:r,middleware:E};ae.current&&(B.platform=ae.current),xC(re.current,ee.current,B).then(G=>{const J={...G,isPositioned:Z.current!==!1};ie.current&&!Ld(se.current,J)&&(se.current=J,Zo.flushSync(()=>{N(J)}))})},[E,t,r,ae,Z]);yd(()=>{w===!1&&se.current.isPositioned&&(se.current.isPositioned=!1,N(B=>({...B,isPositioned:!1})))},[w]);const ie=v.useRef(!1);yd(()=>(ie.current=!0,()=>{ie.current=!1}),[]),yd(()=>{if(F&&(re.current=F),V&&(ee.current=V),F&&V){if(X.current)return X.current(F,V,ue);ue()}},[F,V,ue,X,K]);const pe=v.useMemo(()=>({reference:re,floating:ee,setReference:I,setFloating:R}),[I,R]),he=v.useMemo(()=>({reference:F,floating:V}),[F,V]),me=v.useMemo(()=>{const B={position:r,left:0,top:0};if(!he.floating)return B;const G=Cx(he.floating,_.x),J=Cx(he.floating,_.y);return p?{...B,transform:"translate("+G+"px, "+J+"px)",...K0(he.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:J}},[r,p,he.floating,_.x,_.y]);return v.useMemo(()=>({..._,update:ue,refs:pe,elements:he,floatingStyles:me}),[_,ue,pe,he,me])}const bC=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:l}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?Sx({element:a.current,padding:l}).fn(r):{}:a?Sx({element:a,padding:l}).fn(r):{}}}},jC=(e,t)=>({...fC(e),options:[e,t]}),NC=(e,t)=>({...hC(e),options:[e,t]}),SC=(e,t)=>({...vC(e),options:[e,t]}),CC=(e,t)=>({...pC(e),options:[e,t]}),EC=(e,t)=>({...mC(e),options:[e,t]}),PC=(e,t)=>({...gC(e),options:[e,t]}),kC=(e,t)=>({...bC(e),options:[e,t]});var TC="Arrow",G0=v.forwardRef((e,t)=>{const{children:r,width:a=10,height:l=5,...d}=e;return i.jsx(Ze.svg,{...d,ref:t,width:a,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});G0.displayName=TC;var RC=G0;function LC(e){const[t,r]=v.useState(void 0);return zt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const d=l[0];let f,p;if("borderBoxSize"in d){const g=d.borderBoxSize,w=Array.isArray(g)?g[0]:g;f=w.inlineSize,p=w.blockSize}else f=e.offsetWidth,p=e.offsetHeight;r({width:f,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var Rm="Popper",[Q0,al]=Ns(Rm),[AC,Y0]=Q0(Rm),X0=e=>{const{__scopePopper:t,children:r}=e,[a,l]=v.useState(null);return i.jsx(AC,{scope:t,anchor:a,onAnchorChange:l,children:r})};X0.displayName=Rm;var J0="PopperAnchor",ew=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...l}=e,d=Y0(J0,r),f=v.useRef(null),p=dt(t,f),g=v.useRef(null);return v.useEffect(()=>{const w=g.current;g.current=a?.current||f.current,w!==g.current&&d.onAnchorChange(g.current)}),a?null:i.jsx(Ze.div,{...l,ref:p})});ew.displayName=J0;var Lm="PopperContent",[MC,OC]=Q0(Lm),tw=v.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:l=0,align:d="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:w=[],collisionPadding:_=0,sticky:N="partial",hideWhenDetached:E=!1,updatePositionStrategy:P="optimized",onPlaced:k,...b}=e,S=Y0(Lm,r),[M,I]=v.useState(null),R=dt(t,de=>I(de)),[F,V]=v.useState(null),re=LC(F),ee=re?.width??0,se=re?.height??0,K=a+(d!=="center"?"-"+d:""),X=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ae=Array.isArray(w)?w:[w],Z=ae.length>0,ue={padding:X,boundary:ae.filter(DC),altBoundary:Z},{refs:ie,floatingStyles:pe,placement:he,isPositioned:me,middlewareData:B}=_C({strategy:"fixed",placement:K,whileElementsMounted:(...de)=>dC(...de,{animationFrame:P==="always"}),elements:{reference:S.anchor},middleware:[jC({mainAxis:l+se,alignmentAxis:f}),g&&NC({mainAxis:!0,crossAxis:!1,limiter:N==="partial"?SC():void 0,...ue}),g&&CC({...ue}),EC({...ue,apply:({elements:de,rects:Ne,availableWidth:Le,availableHeight:ke})=>{const{width:ze,height:tt}=Ne.reference,Nt=de.floating.style;Nt.setProperty("--radix-popper-available-width",`${Le}px`),Nt.setProperty("--radix-popper-available-height",`${ke}px`),Nt.setProperty("--radix-popper-anchor-width",`${ze}px`),Nt.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),F&&kC({element:F,padding:p}),FC({arrowWidth:ee,arrowHeight:se}),E&&PC({strategy:"referenceHidden",...ue})]}),[G,J]=sw(he),O=Nn(k);zt(()=>{me&&O?.()},[me,O]);const H=B.arrow?.x,$=B.arrow?.y,W=B.arrow?.centerOffset!==0,[Y,Q]=v.useState();return zt(()=>{M&&Q(window.getComputedStyle(M).zIndex)},[M]),i.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:me?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(MC,{scope:r,placedSide:G,onArrowChange:V,arrowX:H,arrowY:$,shouldHideArrow:W,children:i.jsx(Ze.div,{"data-side":G,"data-align":J,...b,ref:R,style:{...b.style,animation:me?void 0:"none"}})})})});tw.displayName=Lm;var nw="PopperArrow",IC={top:"bottom",right:"left",bottom:"top",left:"right"},rw=v.forwardRef(function(t,r){const{__scopePopper:a,...l}=t,d=OC(nw,a),f=IC[d.placedSide];return i.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:i.jsx(RC,{...l,ref:r,style:{...l.style,display:"block"}})})});rw.displayName=nw;function DC(e){return e!==null}var FC=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:l}=t,f=l.arrow?.centerOffset!==0,p=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[w,_]=sw(r),N={start:"0%",center:"50%",end:"100%"}[_],E=(l.arrow?.x??0)+p/2,P=(l.arrow?.y??0)+g/2;let k="",b="";return w==="bottom"?(k=f?N:`${E}px`,b=`${-g}px`):w==="top"?(k=f?N:`${E}px`,b=`${a.floating.height+g}px`):w==="right"?(k=`${-g}px`,b=f?N:`${P}px`):w==="left"&&(k=`${a.floating.width+g}px`,b=f?N:`${P}px`),{data:{x:k,y:b}}}});function sw(e){const[t,r="center"]=e.split("-");return[t,r]}var iw=X0,Am=ew,Mm=tw,Om=rw,zC=Symbol("radix.slottable");function BC(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=zC,t}var[tf]=Ns("Tooltip",[al]),Im=al(),ow="TooltipProvider",$C=700,Ex="tooltip.open",[UC,aw]=tf(ow),lw=e=>{const{__scopeTooltip:t,delayDuration:r=$C,skipDelayDuration:a=300,disableHoverableContent:l=!1,children:d}=e,f=v.useRef(!0),p=v.useRef(!1),g=v.useRef(0);return v.useEffect(()=>{const w=g.current;return()=>window.clearTimeout(w)},[]),i.jsx(UC,{scope:t,isOpenDelayedRef:f,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(g.current),f.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>f.current=!0,a)},[a]),isPointerInTransitRef:p,onPointerInTransitChange:v.useCallback(w=>{p.current=w},[]),disableHoverableContent:l,children:d})};lw.displayName=ow;var cw="Tooltip",[JO,nf]=tf(cw),Hp="TooltipTrigger",HC=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,l=nf(Hp,r),d=aw(Hp,r),f=Im(r),p=v.useRef(null),g=dt(t,p,l.onTriggerChange),w=v.useRef(!1),_=v.useRef(!1),N=v.useCallback(()=>w.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",N),[N]),i.jsx(Am,{asChild:!0,...f,children:i.jsx(Ze.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...a,ref:g,onPointerMove:Se(e.onPointerMove,E=>{E.pointerType!=="touch"&&!_.current&&!d.isPointerInTransitRef.current&&(l.onTriggerEnter(),_.current=!0)}),onPointerLeave:Se(e.onPointerLeave,()=>{l.onTriggerLeave(),_.current=!1}),onPointerDown:Se(e.onPointerDown,()=>{l.open&&l.onClose(),w.current=!0,document.addEventListener("pointerup",N,{once:!0})}),onFocus:Se(e.onFocus,()=>{w.current||l.onOpen()}),onBlur:Se(e.onBlur,l.onClose),onClick:Se(e.onClick,l.onClose)})})});HC.displayName=Hp;var WC="TooltipPortal",[eI,VC]=tf(WC,{forceMount:void 0}),Ja="TooltipContent",uw=v.forwardRef((e,t)=>{const r=VC(Ja,e.__scopeTooltip),{forceMount:a=r.forceMount,side:l="top",...d}=e,f=nf(Ja,e.__scopeTooltip);return i.jsx(Xr,{present:a||f.open,children:f.disableHoverableContent?i.jsx(dw,{side:l,...d,ref:t}):i.jsx(ZC,{side:l,...d,ref:t})})}),ZC=v.forwardRef((e,t)=>{const r=nf(Ja,e.__scopeTooltip),a=aw(Ja,e.__scopeTooltip),l=v.useRef(null),d=dt(t,l),[f,p]=v.useState(null),{trigger:g,onClose:w}=r,_=l.current,{onPointerInTransitChange:N}=a,E=v.useCallback(()=>{p(null),N(!1)},[N]),P=v.useCallback((k,b)=>{const S=k.currentTarget,M={x:k.clientX,y:k.clientY},I=YC(M,S.getBoundingClientRect()),R=XC(M,I),F=JC(b.getBoundingClientRect()),V=tE([...R,...F]);p(V),N(!0)},[N]);return v.useEffect(()=>()=>E(),[E]),v.useEffect(()=>{if(g&&_){const k=S=>P(S,_),b=S=>P(S,g);return g.addEventListener("pointerleave",k),_.addEventListener("pointerleave",b),()=>{g.removeEventListener("pointerleave",k),_.removeEventListener("pointerleave",b)}}},[g,_,P,E]),v.useEffect(()=>{if(f){const k=b=>{const S=b.target,M={x:b.clientX,y:b.clientY},I=g?.contains(S)||_?.contains(S),R=!eE(M,f);I?E():R&&(E(),w())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[g,_,f,w,E]),i.jsx(dw,{...e,ref:d})}),[qC,KC]=tf(cw,{isInside:!1}),GC=BC("TooltipContent"),dw=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":l,onEscapeKeyDown:d,onPointerDownOutside:f,...p}=e,g=nf(Ja,r),w=Im(r),{onClose:_}=g;return v.useEffect(()=>(document.addEventListener(Ex,_),()=>document.removeEventListener(Ex,_)),[_]),v.useEffect(()=>{if(g.trigger){const N=E=>{E.target?.contains(g.trigger)&&_()};return window.addEventListener("scroll",N,{capture:!0}),()=>window.removeEventListener("scroll",N,{capture:!0})}},[g.trigger,_]),i.jsx(rl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:N=>N.preventDefault(),onDismiss:_,children:i.jsxs(Mm,{"data-state":g.stateAttribute,...w,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(GC,{children:a}),i.jsx(qC,{scope:r,isInside:!0,children:i.jsx(HN,{id:g.contentId,role:"tooltip",children:l||a})})]})})});uw.displayName=Ja;var fw="TooltipArrow",QC=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,l=Im(r);return KC(fw,r).isInside?null:i.jsx(Om,{...l,...a,ref:t})});QC.displayName=fw;function YC(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(r,a,l,d)){case d:return"left";case l:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function XC(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function JC(e){const{top:t,right:r,bottom:a,left:l}=e;return[{x:l,y:t},{x:r,y:t},{x:r,y:a},{x:l,y:a}]}function eE(e,t){const{x:r,y:a}=e;let l=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d],g=t[f],w=p.x,_=p.y,N=g.x,E=g.y;_>a!=E>a&&r<(N-w)*(a-_)/(E-_)+w&&(l=!l)}return l}function tE(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),nE(t)}function nE(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const l=e[a];for(;t.length>=2;){const d=t[t.length-1],f=t[t.length-2];if((d.x-f.x)*(l.y-f.y)>=(d.y-f.y)*(l.x-f.x))t.pop();else break}t.push(l)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const l=e[a];for(;r.length>=2;){const d=r[r.length-1],f=r[r.length-2];if((d.x-f.x)*(l.y-f.y)>=(d.y-f.y)*(l.x-f.x))r.pop();else break}r.push(l)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var rE=lw,hw=uw;const sE=rE,iE=v.forwardRef(({className:e,sideOffset:t=4,...r},a)=>i.jsx(hw,{ref:a,sideOffset:t,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));iE.displayName=hw.displayName;var ll=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oE={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},aE=class{#e=oE;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Lo=new aE;function lE(e){setTimeout(e,0)}var zo=typeof window>"u"||"Deno"in globalThis;function jn(){}function cE(e,t){return typeof e=="function"?e(t):e}function Wp(e){return typeof e=="number"&&e>=0&&e!==1/0}function pw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wi(e,t){return typeof e=="function"?e(t):e}function Er(e,t){return typeof e=="function"?e(t):e}function Px(e,t){const{type:r="all",exact:a,fetchStatus:l,predicate:d,queryKey:f,stale:p}=e;if(f){if(a){if(t.queryHash!==Dm(f,t.options))return!1}else if(!_c(t.queryKey,f))return!1}if(r!=="all"){const g=t.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||l&&l!==t.state.fetchStatus||d&&!d(t))}function kx(e,t){const{exact:r,status:a,predicate:l,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(r){if(Bo(t.options.mutationKey)!==Bo(d))return!1}else if(!_c(t.options.mutationKey,d))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function Dm(e,t){return(t?.queryKeyHashFn||Bo)(e)}function Bo(e){return JSON.stringify(e,(t,r)=>Vp(r)?Object.keys(r).sort().reduce((a,l)=>(a[l]=r[l],a),{}):r)}function _c(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>_c(e[r],t[r])):!1}var uE=Object.prototype.hasOwnProperty;function mw(e,t){if(e===t)return e;const r=Tx(e)&&Tx(t);if(!r&&!(Vp(e)&&Vp(t)))return t;const l=(r?e:Object.keys(e)).length,d=r?t:Object.keys(t),f=d.length,p=r?new Array(f):{};let g=0;for(let w=0;w<f;w++){const _=r?w:d[w],N=e[_],E=t[_];if(N===E){p[_]=N,(r?w<l:uE.call(e,_))&&g++;continue}if(N===null||E===null||typeof N!="object"||typeof E!="object"){p[_]=E;continue}const P=mw(N,E);p[_]=P,P===N&&g++}return l===f&&g===l?e:p}function Ad(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Tx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vp(e){if(!Rx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Rx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rx(e){return Object.prototype.toString.call(e)==="[object Object]"}function dE(e){return new Promise(t=>{Lo.setTimeout(t,e)})}function Zp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?mw(e,t):t}function fE(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function hE(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var Fm=Symbol();function gw(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Fm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function vw(e,t){return typeof e=="function"?e(...t):!!e}var pE=class extends ll{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!zo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zm=new pE;function qp(){let e,t;const r=new Promise((l,d)=>{e=l,t=d});r.status="pending",r.catch(()=>{});function a(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},r.reject=l=>{a({status:"rejected",reason:l}),t(l)},r}var mE=lE;function gE(){let e=[],t=0,r=p=>{p()},a=p=>{p()},l=mE;const d=p=>{t?e.push(p):l(()=>{r(p)})},f=()=>{const p=e;e=[],p.length&&l(()=>{a(()=>{p.forEach(g=>{r(g)})})})};return{batch:p=>{let g;t++;try{g=p()}finally{t--,t||f()}return g},batchCalls:p=>(...g)=>{d(()=>{p(...g)})},schedule:d,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{l=p}}}var Zt=gE(),vE=class extends ll{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!zo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Md=new vE;function xE(e){return Math.min(1e3*2**e,3e4)}function xw(e){return(e??"online")==="online"?Md.isOnline():!0}var Kp=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function yw(e){let t=!1,r=0,a;const l=qp(),d=()=>l.status!=="pending",f=b=>{if(!d()){const S=new Kp(b);E(S),e.onCancel?.(S)}},p=()=>{t=!0},g=()=>{t=!1},w=()=>zm.isFocused()&&(e.networkMode==="always"||Md.isOnline())&&e.canRun(),_=()=>xw(e.networkMode)&&e.canRun(),N=b=>{d()||(a?.(),l.resolve(b))},E=b=>{d()||(a?.(),l.reject(b))},P=()=>new Promise(b=>{a=S=>{(d()||w())&&b(S)},e.onPause?.()}).then(()=>{a=void 0,d()||e.onContinue?.()}),k=()=>{if(d())return;let b;const S=r===0?e.initialPromise:void 0;try{b=S??e.fn()}catch(M){b=Promise.reject(M)}Promise.resolve(b).then(N).catch(M=>{if(d())return;const I=e.retry??(zo?0:3),R=e.retryDelay??xE,F=typeof R=="function"?R(r,M):R,V=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,M);if(t||!V){E(M);return}r++,e.onFail?.(r,M),dE(F).then(()=>w()?void 0:P()).then(()=>{t?E(M):k()})})};return{promise:l,status:()=>l.status,cancel:f,continue:()=>(a?.(),l),cancelRetry:p,continueRetry:g,canStart:_,start:()=>(_()?k():P().then(k),l)}}var ww=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wp(this.gcTime)&&(this.#e=Lo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Lo.clearTimeout(this.#e),this.#e=void 0)}},yE=class extends ww{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ax(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ax(this.options);t.data!==void 0&&(this.setState(Lx(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=Zp(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Er(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!pw(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},l=()=>{const p=gw(this.options,t),w=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(_),_})();return this.#a=!1,this.options.persister?this.options.persister(p,w,this):p(w)},f=(()=>{const p={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:l};return a(p),p})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#i({type:"fetch",meta:f.fetchOptions?.meta}),this.#r=yw({initialPromise:t?.initialPromise,fn:f.fetchFn,onCancel:p=>{p instanceof Kp&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(p,g)=>{this.#i({type:"failed",failureCount:p,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const p=await this.#r.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof Kp){if(p.silent)return this.#r.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#i({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._w(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Lx(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function _w(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lx(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ax(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wE=class extends ll{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#a=qp(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Mx(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Gp(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Gp(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Er(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#t.setOptions(this.options),t._defaulted&&!Ad(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&Ox(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),a&&(this.#t!==r||Er(this.options.enabled,this.#t)!==Er(t.enabled,this.#t)||Wi(this.options.staleTime,this.#t)!==Wi(t.staleTime,this.#t))&&this.#g();const l=this.#v();a&&(this.#t!==r||Er(this.options.enabled,this.#t)!==Er(t.enabled,this.#t)||l!==this.#l)&&this.#x(l)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return bE(this,r)&&(this.#s=r,this.#o=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#b();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(jn)),t}#g(){this.#w();const e=Wi(this.options.staleTime,this.#t);if(zo||this.#s.isStale||!Wp(e))return;const r=pw(this.#s.dataUpdatedAt,e)+1;this.#c=Lo.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#_(),this.#l=e,!(zo||Er(this.options.enabled,this.#t)===!1||!Wp(this.#l)||this.#l===0)&&(this.#u=Lo.setInterval(()=>{(this.options.refetchIntervalInBackground||zm.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#w(){this.#c&&(Lo.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(Lo.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,a=this.options,l=this.#s,d=this.#r,f=this.#o,g=e!==r?e.state:this.#n,{state:w}=e;let _={...w},N=!1,E;if(t._optimisticResults){const se=this.hasListeners(),K=!se&&Mx(e,t),X=se&&Ox(e,r,t,a);(K||X)&&(_={..._,..._w(w.data,e.options)}),t._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:P,errorUpdatedAt:k,status:b}=_;E=_.data;let S=!1;if(t.placeholderData!==void 0&&E===void 0&&b==="pending"){let se;l?.isPlaceholderData&&t.placeholderData===f?.placeholderData?(se=l.data,S=!0):se=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,se!==void 0&&(b="success",E=Zp(l?.data,se,t),N=!0)}if(t.select&&E!==void 0&&!S)if(l&&E===d?.data&&t.select===this.#m)E=this.#f;else try{this.#m=t.select,E=t.select(E),E=Zp(l?.data,E,t),this.#f=E,this.#i=null}catch(se){this.#i=se}this.#i&&(P=this.#i,E=this.#f,k=Date.now(),b="error");const M=_.fetchStatus==="fetching",I=b==="pending",R=b==="error",F=I&&M,V=E!==void 0,ee={status:b,fetchStatus:_.fetchStatus,isPending:I,isSuccess:b==="success",isError:R,isInitialLoading:F,isLoading:F,data:E,dataUpdatedAt:_.dataUpdatedAt,error:P,errorUpdatedAt:k,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>g.dataUpdateCount||_.errorUpdateCount>g.errorUpdateCount,isFetching:M,isRefetching:M&&!I,isLoadingError:R&&!V,isPaused:_.fetchStatus==="paused",isPlaceholderData:N,isRefetchError:R&&V,isStale:Bm(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Er(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const se=ae=>{ee.status==="error"?ae.reject(ee.error):ee.data!==void 0&&ae.resolve(ee.data)},K=()=>{const ae=this.#a=ee.promise=qp();se(ae)},X=this.#a;switch(X.status){case"pending":e.queryHash===r.queryHash&&se(X);break;case"fulfilled":(ee.status==="error"||ee.data!==X.value)&&K();break;case"rejected":(ee.status!=="error"||ee.error!==X.reason)&&K();break}}return ee}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Ad(t,e))return;this.#s=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#p.size)return!0;const d=new Set(l??this.#p);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(f=>{const p=f;return this.#s[p]!==e[p]&&d.has(p)})};this.#j({listeners:r()})}#b(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){Zt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function _E(e,t){return Er(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Mx(e,t){return _E(e,t)||e.state.data!==void 0&&Gp(e,t,t.refetchOnMount)}function Gp(e,t,r){if(Er(t.enabled,e)!==!1&&Wi(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&Bm(e,t)}return!1}function Ox(e,t,r,a){return(e!==t||Er(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Bm(e,r)}function Bm(e,t){return Er(t.enabled,e)!==!1&&e.isStaleByTime(Wi(t.staleTime,e))}function bE(e,t){return!Ad(e.getCurrentResult(),t)}function Ix(e){return{onFetch:(t,r)=>{const a=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,d=t.state.data?.pages||[],f=t.state.data?.pageParams||[];let p={pages:[],pageParams:[]},g=0;const w=async()=>{let _=!1;const N=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},E=gw(t.options,t.fetchOptions),P=async(k,b,S)=>{if(_)return Promise.reject();if(b==null&&k.pages.length)return Promise.resolve(k);const I=(()=>{const re={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return N(re),re})(),R=await E(I),{maxPages:F}=t.options,V=S?hE:fE;return{pages:V(k.pages,R,F),pageParams:V(k.pageParams,b,F)}};if(l&&d.length){const k=l==="backward",b=k?jE:Dx,S={pages:d,pageParams:f},M=b(a,S);p=await P(S,M,k)}else{const k=e??d.length;do{const b=g===0?f[0]??a.initialPageParam:Dx(a,p);if(g>0&&b==null)break;p=await P(p,b),g++}while(g<k)}return p};t.options.persister?t.fetchFn=()=>t.options.persister?.(w,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=w}}}function Dx(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function jE(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var NE=class extends ww{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||bw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=yw({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(d,f)=>{this.#r({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",l=!this.#s.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,r);const f=await this.options.onMutate?.(e,r);f!==this.state.context&&this.#r({type:"pending",context:f,variables:e,isPaused:l})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,r),await this.options.onSuccess?.(d,e,this.state.context,r),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(d,null,e,this.state.context,r),this.#r({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,r),await this.options.onError?.(d,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,d,e,this.state.context,r),d}finally{this.#r({type:"error",error:d})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function bw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var SE=class extends ll{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const a=new NE({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#e.add(e);const t=ld(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=ld(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ld(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=ld(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>kx(t,r))}findAll(e={}){return this.getAll().filter(t=>kx(e,t))}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Zt.batch(()=>Promise.all(e.map(t=>t.continue().catch(jn))))}};function ld(e){return e.options.scope?.id}var CE=class extends ll{#e;#t=void 0;#n;#s;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Ad(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Bo(r.mutationKey)!==Bo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(t,r){return this.#s=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??bw();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Zt.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context,l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,r,a,l),this.#s.onSettled?.(t.data,null,r,a,l)):t?.type==="error"&&(this.#s.onError?.(t.error,r,a,l),this.#s.onSettled?.(void 0,t.error,r,a,l))}this.listeners.forEach(r=>{r(this.#t)})})}},EE=class extends ll{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const a=t.queryKey,l=t.queryHash??Dm(a,t);let d=this.get(l);return d||(d=new yE({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Px(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Px(e,r)):t}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},PE=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(e={}){this.#e=e.queryCache||new EE,this.#t=e.mutationCache||new SE,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=zm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Md.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(a.queryHash)?.state.data,f=cE(t,d);if(f!==void 0)return this.#e.build(this,a).setData(f,{...r,manual:!0})}setQueriesData(e,t,r){return Zt.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Zt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Zt.batch(()=>this.#e.findAll(e).map(l=>l.cancel(r)));return Promise.all(a).then(jn).catch(jn)}invalidateQueries(e,t={}){return Zt.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Zt.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let d=l.fetch(void 0,r);return r.throwOnError||(d=d.catch(jn)),l.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(jn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Wi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jn).catch(jn)}fetchInfiniteQuery(e){return e.behavior=Ix(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jn).catch(jn)}ensureInfiniteQueryData(e){return e.behavior=Ix(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Md.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Bo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(a=>{_c(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Bo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(a=>{_c(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},jw=v.createContext(void 0),cl=e=>{const t=v.useContext(jw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kE=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(jw.Provider,{value:e,children:t})),Nw=v.createContext(!1),TE=()=>v.useContext(Nw);Nw.Provider;function RE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LE=v.createContext(RE()),AE=()=>v.useContext(LE),ME=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},OE=e=>{v.useEffect(()=>{e.clearReset()},[e])},IE=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(l&&e.data===void 0||vw(r,[e.error,a])),DE=e=>{if(e.suspense){const r=l=>l==="static"?l:Math.max(l??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...l)=>r(a(...l)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},FE=(e,t)=>e.isLoading&&e.isFetching&&!t,zE=(e,t)=>e?.suspense&&t.isPending,Fx=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function BE(e,t,r){const a=TE(),l=AE(),d=cl(),f=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=a?"isRestoring":"optimistic",DE(f),ME(f,l),OE(l);const p=!d.getQueryCache().get(f.queryHash),[g]=v.useState(()=>new t(d,f)),w=g.getOptimisticResult(f),_=!a&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(N=>{const E=_?g.subscribe(Zt.batchCalls(N)):jn;return g.updateResult(),E},[g,_]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),v.useEffect(()=>{g.setOptions(f)},[f,g]),zE(f,w))throw Fx(f,g,l);if(IE({result:w,errorResetBoundary:l,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw w.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(f,w),f.experimental_prefetchInRender&&!zo&&FE(w,a)&&(p?Fx(f,g,l):d.getQueryCache().get(f.queryHash)?.promise)?.catch(jn).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?w:g.trackResult(w)}function el(e,t){return BE(e,wE)}function rf(e,t){const r=cl(),[a]=v.useState(()=>new CE(r,e));v.useEffect(()=>{a.setOptions(e)},[a,e]);const l=v.useSyncExternalStore(v.useCallback(f=>a.subscribe(Zt.batchCalls(f)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),d=v.useCallback((f,p)=>{a.mutate(f,p).catch(jn)},[a]);if(l.error&&vw(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:d,mutateAsync:l.mutate}}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bc.apply(this,arguments)}var Ui;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ui||(Ui={}));const zx="popstate";function $E(e){e===void 0&&(e={});function t(a,l){let{pathname:d,search:f,hash:p}=a.location;return Qp("",{pathname:d,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:Od(l)}return HE(t,r,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $m(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UE(){return Math.random().toString(36).substr(2,8)}function Bx(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,r,a){return r===void 0&&(r=null),bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ul(t):t,{state:r,key:t&&t.key||a||UE()})}function Od(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function HE(e,t,r,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:d=!1}=a,f=l.history,p=Ui.Pop,g=null,w=_();w==null&&(w=0,f.replaceState(bc({},f.state,{idx:w}),""));function _(){return(f.state||{idx:null}).idx}function N(){p=Ui.Pop;let S=_(),M=S==null?null:S-w;w=S,g&&g({action:p,location:b.location,delta:M})}function E(S,M){p=Ui.Push;let I=Qp(b.location,S,M);w=_()+1;let R=Bx(I,w),F=b.createHref(I);try{f.pushState(R,"",F)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(F)}d&&g&&g({action:p,location:b.location,delta:1})}function P(S,M){p=Ui.Replace;let I=Qp(b.location,S,M);w=_();let R=Bx(I,w),F=b.createHref(I);f.replaceState(R,"",F),d&&g&&g({action:p,location:b.location,delta:0})}function k(S){let M=l.location.origin!=="null"?l.location.origin:l.location.href,I=typeof S=="string"?S:Od(S);return I=I.replace(/ $/,"%20"),Ft(M,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,M)}let b={get action(){return p},get location(){return e(l,f)},listen(S){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(zx,N),g=S,()=>{l.removeEventListener(zx,N),g=null}},createHref(S){return t(l,S)},createURL:k,encodeLocation(S){let M=k(S);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:P,go(S){return f.go(S)}};return b}var $x;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($x||($x={}));function WE(e,t,r){return r===void 0&&(r="/"),VE(e,t,r)}function VE(e,t,r,a){let l=typeof t=="string"?ul(t):t,d=Um(l.pathname||"/",r);if(d==null)return null;let f=Sw(e);ZE(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let w=sP(d);p=tP(f[g],w)}return p}function Sw(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let l=(d,f,p)=>{let g={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(Ft(g.relativePath.startsWith(a),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(a.length));let w=Vi([a,g.relativePath]),_=r.concat(g);d.children&&d.children.length>0&&(Ft(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Sw(d.children,t,_,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:JE(w,d.index),routesMeta:_})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))l(d,f);else for(let g of Cw(d.path))l(d,f,g)}),t}function Cw(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return l?[d,""]:[d];let f=Cw(a.join("/")),p=[];return p.push(...f.map(g=>g===""?d:[d,g].join("/"))),l&&p.push(...f),p.map(g=>e.startsWith("/")&&g===""?"/":g)}function ZE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:eP(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const qE=/^:[\w-]+$/,KE=3,GE=2,QE=1,YE=10,XE=-2,Ux=e=>e==="*";function JE(e,t){let r=e.split("/"),a=r.length;return r.some(Ux)&&(a+=XE),t&&(a+=GE),r.filter(l=>!Ux(l)).reduce((l,d)=>l+(qE.test(d)?KE:d===""?QE:YE),a)}function eP(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function tP(e,t,r){let{routesMeta:a}=e,l={},d="/",f=[];for(let p=0;p<a.length;++p){let g=a[p],w=p===a.length-1,_=d==="/"?t:t.slice(d.length)||"/",N=nP({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},_),E=g.route;if(!N)return null;Object.assign(l,N.params),f.push({params:l,pathname:Vi([d,N.pathname]),pathnameBase:cP(Vi([d,N.pathnameBase])),route:E}),N.pathnameBase!=="/"&&(d=Vi([d,N.pathnameBase]))}return f}function nP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=rP(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let d=l[0],f=d.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((w,_,N)=>{let{paramName:E,isOptional:P}=_;if(E==="*"){let b=p[N]||"";f=d.slice(0,d.length-b.length).replace(/(.)\/+$/,"$1")}const k=p[N];return P&&!k?w[E]=void 0:w[E]=(k||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:e}}function rP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$m(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function sP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Um(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const iP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oP=e=>iP.test(e);function aP(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:l=""}=typeof e=="string"?ul(e):e,d;if(r)if(oP(r))d=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),$m(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+r))}r.startsWith("/")?d=Hx(r.substring(1),"/"):d=Hx(r,t)}else d=t;return{pathname:d,search:uP(a),hash:dP(l)}}function Hx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function fp(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ew(e,t){let r=lP(e);return t?r.map((a,l)=>l===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Pw(e,t,r,a){a===void 0&&(a=!1);let l;typeof e=="string"?l=ul(e):(l=bc({},e),Ft(!l.pathname||!l.pathname.includes("?"),fp("?","pathname","search",l)),Ft(!l.pathname||!l.pathname.includes("#"),fp("#","pathname","hash",l)),Ft(!l.search||!l.search.includes("#"),fp("#","search","hash",l)));let d=e===""||l.pathname==="",f=d?"/":l.pathname,p;if(f==null)p=r;else{let N=t.length-1;if(!a&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),N-=1;l.pathname=E.join("/")}p=N>=0?t[N]:"/"}let g=aP(l,p),w=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(w||_)&&(g.pathname+="/"),g}const Vi=e=>e.join("/").replace(/\/\/+/g,"/"),cP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kw=["post","put","patch","delete"];new Set(kw);const hP=["get",...kw];new Set(hP);function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jc.apply(this,arguments)}const Hm=v.createContext(null),pP=v.createContext(null),qo=v.createContext(null),sf=v.createContext(null),Yi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Tw=v.createContext(null);function mP(e,t){let{relative:r}=t===void 0?{}:t;Lc()||Ft(!1);let{basename:a,navigator:l}=v.useContext(qo),{hash:d,pathname:f,search:p}=Lw(e,{relative:r}),g=f;return a!=="/"&&(g=f==="/"?a:Vi([a,f])),l.createHref({pathname:g,search:p,hash:d})}function Lc(){return v.useContext(sf)!=null}function Ko(){return Lc()||Ft(!1),v.useContext(sf).location}function Rw(e){v.useContext(qo).static||v.useLayoutEffect(e)}function jt(){let{isDataRoute:e}=v.useContext(Yi);return e?PP():gP()}function gP(){Lc()||Ft(!1);let e=v.useContext(Hm),{basename:t,future:r,navigator:a}=v.useContext(qo),{matches:l}=v.useContext(Yi),{pathname:d}=Ko(),f=JSON.stringify(Ew(l,r.v7_relativeSplatPath)),p=v.useRef(!1);return Rw(()=>{p.current=!0}),v.useCallback(function(w,_){if(_===void 0&&(_={}),!p.current)return;if(typeof w=="number"){a.go(w);return}let N=Pw(w,JSON.parse(f),d,_.relative==="path");e==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:Vi([t,N.pathname])),(_.replace?a.replace:a.push)(N,_.state,_)},[t,a,f,d,e])}function of(){let{matches:e}=v.useContext(Yi),t=e[e.length-1];return t?t.params:{}}function Lw(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=v.useContext(qo),{matches:l}=v.useContext(Yi),{pathname:d}=Ko(),f=JSON.stringify(Ew(l,a.v7_relativeSplatPath));return v.useMemo(()=>Pw(e,JSON.parse(f),d,r==="path"),[e,f,d,r])}function vP(e,t){return xP(e,t)}function xP(e,t,r,a){Lc()||Ft(!1);let{navigator:l}=v.useContext(qo),{matches:d}=v.useContext(Yi),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let w=Ko(),_;if(t){var N;let S=typeof t=="string"?ul(t):t;g==="/"||(N=S.pathname)!=null&&N.startsWith(g)||Ft(!1),_=S}else _=w;let E=_.pathname||"/",P=E;if(g!=="/"){let S=g.replace(/^\//,"").split("/");P="/"+E.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=WE(e,{pathname:P}),b=jP(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Vi([g,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:Vi([g,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),d,r,a);return t&&b?v.createElement(sf.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Ui.Pop}},b):b}function yP(){let e=EP(),t=fP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:l},r):null,null)}const wP=v.createElement(yP,null);class _P extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Yi.Provider,{value:this.props.routeContext},v.createElement(Tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bP(e){let{routeContext:t,match:r,children:a}=e,l=v.useContext(Hm);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Yi.Provider,{value:t},a)}function jP(e,t,r,a){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,p=(l=r)==null?void 0:l.errors;if(p!=null){let _=f.findIndex(N=>N.route.id&&p?.[N.route.id]!==void 0);_>=0||Ft(!1),f=f.slice(0,Math.min(f.length,_+1))}let g=!1,w=-1;if(r&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let N=f[_];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(w=_),N.route.id){let{loaderData:E,errors:P}=r,k=N.route.loader&&E[N.route.id]===void 0&&(!P||P[N.route.id]===void 0);if(N.route.lazy||k){g=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((_,N,E)=>{let P,k=!1,b=null,S=null;r&&(P=p&&N.route.id?p[N.route.id]:void 0,b=N.route.errorElement||wP,g&&(w<0&&E===0?(kP("route-fallback"),k=!0,S=null):w===E&&(k=!0,S=N.route.hydrateFallbackElement||null)));let M=t.concat(f.slice(0,E+1)),I=()=>{let R;return P?R=b:k?R=S:N.route.Component?R=v.createElement(N.route.Component,null):N.route.element?R=N.route.element:R=_,v.createElement(bP,{match:N,routeContext:{outlet:_,matches:M,isDataRoute:r!=null},children:R})};return r&&(N.route.ErrorBoundary||N.route.errorElement||E===0)?v.createElement(_P,{location:r.location,revalidation:r.revalidation,component:b,error:P,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}var Aw=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Aw||{}),Mw=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Mw||{});function NP(e){let t=v.useContext(Hm);return t||Ft(!1),t}function SP(e){let t=v.useContext(pP);return t||Ft(!1),t}function CP(e){let t=v.useContext(Yi);return t||Ft(!1),t}function Ow(e){let t=CP(),r=t.matches[t.matches.length-1];return r.route.id||Ft(!1),r.route.id}function EP(){var e;let t=v.useContext(Tw),r=SP(),a=Ow();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function PP(){let{router:e}=NP(Aw.UseNavigateStable),t=Ow(Mw.UseNavigateStable),r=v.useRef(!1);return Rw(()=>{r.current=!0}),v.useCallback(function(l,d){d===void 0&&(d={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,jc({fromRouteId:t},d)))},[e,t])}const Wx={};function kP(e,t,r){Wx[e]||(Wx[e]=!0)}function TP(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Tt(e){Ft(!1)}function RP(e){let{basename:t="/",children:r=null,location:a,navigationType:l=Ui.Pop,navigator:d,static:f=!1,future:p}=e;Lc()&&Ft(!1);let g=t.replace(/^\/*/,"/"),w=v.useMemo(()=>({basename:g,navigator:d,static:f,future:jc({v7_relativeSplatPath:!1},p)}),[g,p,d,f]);typeof a=="string"&&(a=ul(a));let{pathname:_="/",search:N="",hash:E="",state:P=null,key:k="default"}=a,b=v.useMemo(()=>{let S=Um(_,g);return S==null?null:{location:{pathname:S,search:N,hash:E,state:P,key:k},navigationType:l}},[g,_,N,E,P,k,l]);return b==null?null:v.createElement(qo.Provider,{value:w},v.createElement(sf.Provider,{children:r,value:b}))}function LP(e){let{children:t,location:r}=e;return vP(Yp(t),r)}new Promise(()=>{});function Yp(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(a,l)=>{if(!v.isValidElement(a))return;let d=[...t,l];if(a.type===v.Fragment){r.push.apply(r,Yp(a.props.children,d));return}a.type!==Tt&&Ft(!1),!a.props.index||!a.props.children||Ft(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Yp(a.props.children,d)),r.push(f)}),r}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xp.apply(this,arguments)}function AP(e,t){if(e==null)return{};var r={},a=Object.keys(e),l,d;for(d=0;d<a.length;d++)l=a[d],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function MP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OP(e,t){return e.button===0&&(!t||t==="_self")&&!MP(e)}function Jp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(l=>[r,l]):[[r,a]])},[]))}function IP(e,t){let r=Jp(e);return t&&t.forEach((a,l)=>{r.has(l)||t.getAll(l).forEach(d=>{r.append(l,d)})}),r}const DP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FP="6";try{window.__reactRouterVersion=FP}catch{}const zP="startTransition",Vx=Wd[zP];function BP(e){let{basename:t,children:r,future:a,window:l}=e,d=v.useRef();d.current==null&&(d.current=$E({window:l,v5Compat:!0}));let f=d.current,[p,g]=v.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},_=v.useCallback(N=>{w&&Vx?Vx(()=>g(N)):g(N)},[g,w]);return v.useLayoutEffect(()=>f.listen(_),[f,_]),v.useEffect(()=>TP(a),[a]),v.createElement(RP,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:a})}const $P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=v.forwardRef(function(t,r){let{onClick:a,relative:l,reloadDocument:d,replace:f,state:p,target:g,to:w,preventScrollReset:_,viewTransition:N}=t,E=AP(t,DP),{basename:P}=v.useContext(qo),k,b=!1;if(typeof w=="string"&&UP.test(w)&&(k=w,$P))try{let R=new URL(window.location.href),F=w.startsWith("//")?new URL(R.protocol+w):new URL(w),V=Um(F.pathname,P);F.origin===R.origin&&V!=null?w=V+F.search+F.hash:b=!0}catch{}let S=mP(w,{relative:l}),M=HP(w,{replace:f,state:p,target:g,preventScrollReset:_,relative:l,viewTransition:N});function I(R){a&&a(R),R.defaultPrevented||M(R)}return v.createElement("a",Xp({},E,{href:k||S,onClick:b||d?a:I,ref:r,target:g}))});var Zx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zx||(Zx={}));var qx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qx||(qx={}));function HP(e,t){let{target:r,replace:a,state:l,preventScrollReset:d,relative:f,viewTransition:p}=t===void 0?{}:t,g=jt(),w=Ko(),_=Lw(e,{relative:f});return v.useCallback(N=>{if(OP(N,r)){N.preventDefault();let E=a!==void 0?a:Od(w)===Od(_);g(e,{replace:E,state:l,preventScrollReset:d,relative:f,viewTransition:p})}},[w,g,_,a,l,r,e,d,f,p])}function Iw(e){let t=v.useRef(Jp(e)),r=v.useRef(!1),a=Ko(),l=v.useMemo(()=>IP(a.search,r.current?null:t.current),[a.search]),d=jt(),f=v.useCallback((p,g)=>{const w=Jp(typeof p=="function"?p(l):p);r.current=!0,d("?"+w,g)},[d,l]);return[l,f]}const Dw=v.createContext(),Sn=()=>v.useContext(Dw),Fw=({children:e})=>{const[t,r]=v.useState(null),[a,l]=v.useState(null);v.useEffect(()=>{const g=localStorage.getItem("access_token"),w=localStorage.getItem("user");g&&w&&(l(g),r(JSON.parse(w)))},[]);const d=(g,w)=>{r(g),l(w),localStorage.setItem("access_token",w),localStorage.setItem("user",JSON.stringify(g))},f=()=>{r(null),l(null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user")},p=!!a;return i.jsx(Dw.Provider,{value:{user:t,token:a,login:d,logout:f,isAuthenticated:p},children:e})},WP={en:{"nav.home":"Home","nav.marketplace":"Marketplace","nav.orders":"Orders","nav.profile":"Profile","nav.favourites":"Favourites","nav.services":"Services","nav.getStarted":"Get Started","hero.tagline":"Recycle. Earn. Repeat.","hero.title":"Turn Your Waste Into Value","hero.subtitle":"Connect with certified recycling factories, schedule pickups, and earn rewards for your recyclable materials. Join the circular economy today.","hero.cta":"Start Recycling","hero.secondaryCta":"How It Works","hero.stat1":"Recycling Partners","hero.stat2":"Materials Collected","hero.stat3":"Happy Users","features.tagline":"Why Choose Jaddid?","features.title":"The Smart Way to Recycle","features.subtitle":"We connect you directly with certified recycling factories, making recycling convenient, profitable, and transparent.","features.track.title":"Track Everything","features.track.desc":"Real-time tracking from pickup to processing. Know exactly where your materials go and their environmental impact.","features.earn.title":"Earn Rewards","features.earn.desc":"Get paid for your recyclables! Earn points, coupons, and cash rewards for every material you recycle.","features.eco.title":"Eco-Friendly","features.eco.desc":"Reduce landfill waste and carbon footprint. Every item recycled contributes to a cleaner planet.","features.verified.title":"Verified Partners","features.verified.desc":"All factories and couriers are certified and verified for quality assurance and trust.","how.tagline":"Simple & Easy","how.title":"How Jaddid Works","how.subtitle":"From your home to the recycling factory in just a few simple steps.","how.step1.title":"List Your Materials","how.step1.desc":"Add your recyclable materials to the platform - plastics, paper, metals, electronics, and more.","how.step2.title":"Schedule Pickup","how.step2.desc":"Choose a convenient time for our verified courier to collect your materials from your doorstep.","how.step3.title":"Get Rewarded","how.step3.desc":"Track your delivery, receive confirmation, and earn rewards once materials reach the factory.","cta.title":"Ready to Make an Impact?","cta.subtitle":"Join thousands of eco-conscious users who are turning waste into value every day.","cta.button":"Start Recycling Now","cta.secondary":"Partner With Us","footer.tagline":"Connecting communities with sustainable recycling solutions.","footer.quickLinks":"Quick Links","footer.forPartners":"For Partners","footer.contact":"Contact","footer.rights":"All rights reserved."},ar:{"nav.home":"","nav.marketplace":"","nav.orders":"","nav.profile":" ","nav.favourites":"","nav.services":"","nav.getStarted":" ","hero.tagline":" . . .","hero.title":"   ","hero.subtitle":"                .    .","hero.cta":" ","hero.secondaryCta":" ","hero.stat1":" ","hero.stat2":"  ","hero.stat3":" ","features.tagline":" ","features.title":"   ","features.subtitle":"          .","features.track.title":"  ","features.track.desc":"     .       .","features.earn.title":" ","features.earn.desc":"   !         .","features.eco.title":" ","features.eco.desc":"     .        .","features.verified.title":" ","features.verified.desc":"       .","how.tagline":" ","how.title":"  ","how.subtitle":"        .","how.step1.title":" ","how.step1.desc":"     -     .","how.step2.title":"  ","how.step2.desc":"         .","how.step3.title":"  ","how.step3.desc":"          .","cta.title":"  ","cta.subtitle":"           .","cta.button":"  ","cta.secondary":"  ","footer.tagline":"     .","footer.quickLinks":" ","footer.forPartners":"","footer.contact":" ","footer.rights":"  ."}},zw=v.createContext(void 0);function VP({children:e}){const[t,r]=v.useState(()=>localStorage.getItem("language")||"en"),a=t==="ar";v.useEffect(()=>{localStorage.setItem("language",t)},[t]),v.useEffect(()=>{document.documentElement.dir=a?"rtl":"ltr",document.documentElement.lang=t,document.body.dir=a?"rtl":"ltr"},[t,a]);const l=d=>WP[t][d]||d;return i.jsx(zw.Provider,{value:{language:t,setLanguage:r,t:l,isRTL:a},children:e})}function qt(){const e=v.useContext(zw);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}var ZP=Symbol.for("react.lazy"),Id=Wd[" use ".trim().toString()];function qP(e){return typeof e=="object"&&e!==null&&"then"in e}function Bw(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===ZP&&"_payload"in e&&qP(e._payload)}function af(e){const t=GP(e),r=v.forwardRef((a,l)=>{let{children:d,...f}=a;Bw(d)&&typeof Id=="function"&&(d=Id(d._payload));const p=v.Children.toArray(d),g=p.find(YP);if(g){const w=g.props.children,_=p.map(N=>N===g?v.Children.count(w)>1?v.Children.only(null):v.isValidElement(w)?w.props.children:null:N);return i.jsx(t,{...f,ref:l,children:v.isValidElement(w)?v.cloneElement(w,void 0,_):null})}return i.jsx(t,{...f,ref:l,children:d})});return r.displayName=`${e}.Slot`,r}var KP=af("Slot");function GP(e){const t=v.forwardRef((r,a)=>{let{children:l,...d}=r;if(Bw(l)&&typeof Id=="function"&&(l=Id(l._payload)),v.isValidElement(l)){const f=JP(l),p=XP(d,l.props);return l.type!==v.Fragment&&(p.ref=a?si(a,f):f),v.cloneElement(l,p)}return v.Children.count(l)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QP=Symbol("radix.slottable");function YP(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QP}function XP(e,t){const r={...t};for(const a in t){const l=e[a],d=t[a];/^on[A-Z]/.test(a)?l&&d?r[a]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[a]=l):a==="style"?r[a]={...l,...d}:a==="className"&&(r[a]=[l,d].filter(Boolean).join(" "))}return{...e,...r}}function JP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const ek=Kd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),je=v.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...l},d)=>{const f=a?KP:"button";return i.jsx(f,{className:We(ek({variant:t,size:r,className:e})),ref:d,...l})});je.displayName="Button";var tk=v.createContext(void 0);function lf(e){const t=v.useContext(tk);return e||t||"ltr"}var hp=0;function Wm(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kx()),document.body.insertAdjacentElement("beforeend",e[1]??Kx()),hp++,()=>{hp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hp--}},[])}function Kx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pp="focusScope.autoFocusOnMount",mp="focusScope.autoFocusOnUnmount",Gx={bubbles:!1,cancelable:!0},nk="FocusScope",cf=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:l,onUnmountAutoFocus:d,...f}=e,[p,g]=v.useState(null),w=Nn(l),_=Nn(d),N=v.useRef(null),E=dt(t,b=>g(b)),P=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let b=function(R){if(P.paused||!p)return;const F=R.target;p.contains(F)?N.current=F:$i(N.current,{select:!0})},S=function(R){if(P.paused||!p)return;const F=R.relatedTarget;F!==null&&(p.contains(F)||$i(N.current,{select:!0}))},M=function(R){if(document.activeElement===document.body)for(const V of R)V.removedNodes.length>0&&$i(p)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const I=new MutationObserver(M);return p&&I.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),I.disconnect()}}},[a,p,P.paused]),v.useEffect(()=>{if(p){Yx.add(P);const b=document.activeElement;if(!p.contains(b)){const M=new CustomEvent(pp,Gx);p.addEventListener(pp,w),p.dispatchEvent(M),M.defaultPrevented||(rk(lk($w(p)),{select:!0}),document.activeElement===b&&$i(p))}return()=>{p.removeEventListener(pp,w),setTimeout(()=>{const M=new CustomEvent(mp,Gx);p.addEventListener(mp,_),p.dispatchEvent(M),M.defaultPrevented||$i(b??document.body,{select:!0}),p.removeEventListener(mp,_),Yx.remove(P)},0)}}},[p,w,_,P]);const k=v.useCallback(b=>{if(!r&&!a||P.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,M=document.activeElement;if(S&&M){const I=b.currentTarget,[R,F]=sk(I);R&&F?!b.shiftKey&&M===F?(b.preventDefault(),r&&$i(R,{select:!0})):b.shiftKey&&M===R&&(b.preventDefault(),r&&$i(F,{select:!0})):M===I&&b.preventDefault()}},[r,a,P.paused]);return i.jsx(Ze.div,{tabIndex:-1,...f,ref:E,onKeyDown:k})});cf.displayName=nk;function rk(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if($i(a,{select:t}),document.activeElement!==r)return}function sk(e){const t=$w(e),r=Qx(t,e),a=Qx(t.reverse(),e);return[r,a]}function $w(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qx(e,t){for(const r of e)if(!ik(r,{upTo:t}))return r}function ik(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ok(e){return e instanceof HTMLInputElement&&"select"in e}function $i(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ok(e)&&t&&e.select()}}var Yx=ak();function ak(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Xx(e,t),e.unshift(t)},remove(t){e=Xx(e,t),e[0]?.resume()}}}function Xx(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function lk(e){return e.filter(t=>t.tagName!=="A")}var gp="rovingFocusGroup.onEntryFocus",ck={bubbles:!1,cancelable:!0},Ac="RovingFocusGroup",[em,Uw,uk]=Vd(Ac),[dk,uf]=Ns(Ac,[uk]),[fk,hk]=dk(Ac),Hw=v.forwardRef((e,t)=>i.jsx(em.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(em.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(pk,{...e,ref:t})})}));Hw.displayName=Ac;var pk=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:l=!1,dir:d,currentTabStopId:f,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:w,preventScrollOnEntryFocus:_=!1,...N}=e,E=v.useRef(null),P=dt(t,E),k=lf(d),[b,S]=Io({prop:f,defaultProp:p??null,onChange:g,caller:Ac}),[M,I]=v.useState(!1),R=Nn(w),F=Uw(r),V=v.useRef(!1),[re,ee]=v.useState(0);return v.useEffect(()=>{const se=E.current;if(se)return se.addEventListener(gp,R),()=>se.removeEventListener(gp,R)},[R]),i.jsx(fk,{scope:r,orientation:a,dir:k,loop:l,currentTabStopId:b,onItemFocus:v.useCallback(se=>S(se),[S]),onItemShiftTab:v.useCallback(()=>I(!0),[]),onFocusableItemAdd:v.useCallback(()=>ee(se=>se+1),[]),onFocusableItemRemove:v.useCallback(()=>ee(se=>se-1),[]),children:i.jsx(Ze.div,{tabIndex:M||re===0?-1:0,"data-orientation":a,...N,ref:P,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{V.current=!0}),onFocus:Se(e.onFocus,se=>{const K=!V.current;if(se.target===se.currentTarget&&K&&!M){const X=new CustomEvent(gp,ck);if(se.currentTarget.dispatchEvent(X),!X.defaultPrevented){const ae=F().filter(he=>he.focusable),Z=ae.find(he=>he.active),ue=ae.find(he=>he.id===b),pe=[Z,ue,...ae].filter(Boolean).map(he=>he.ref.current);Zw(pe,_)}}V.current=!1}),onBlur:Se(e.onBlur,()=>I(!1))})})}),Ww="RovingFocusGroupItem",Vw=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:d,children:f,...p}=e,g=ws(),w=d||g,_=hk(Ww,r),N=_.currentTabStopId===w,E=Uw(r),{onFocusableItemAdd:P,onFocusableItemRemove:k,currentTabStopId:b}=_;return v.useEffect(()=>{if(a)return P(),()=>k()},[a,P,k]),i.jsx(em.ItemSlot,{scope:r,id:w,focusable:a,active:l,children:i.jsx(Ze.span,{tabIndex:N?0:-1,"data-orientation":_.orientation,...p,ref:t,onMouseDown:Se(e.onMouseDown,S=>{a?_.onItemFocus(w):S.preventDefault()}),onFocus:Se(e.onFocus,()=>_.onItemFocus(w)),onKeyDown:Se(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){_.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const M=vk(S,_.orientation,_.dir);if(M!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let R=E().filter(F=>F.focusable).map(F=>F.ref.current);if(M==="last")R.reverse();else if(M==="prev"||M==="next"){M==="prev"&&R.reverse();const F=R.indexOf(S.currentTarget);R=_.loop?xk(R,F+1):R.slice(F+1)}setTimeout(()=>Zw(R))}}),children:typeof f=="function"?f({isCurrentTabStop:N,hasTabStop:b!=null}):f})})});Vw.displayName=Ww;var mk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gk(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vk(e,t,r){const a=gk(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return mk[a]}function Zw(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function xk(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var qw=Hw,Kw=Vw;function yk(e){const t=wk(e),r=v.forwardRef((a,l)=>{const{children:d,...f}=a,p=v.Children.toArray(d),g=p.find(bk);if(g){const w=g.props.children,_=p.map(N=>N===g?v.Children.count(w)>1?v.Children.only(null):v.isValidElement(w)?w.props.children:null:N);return i.jsx(t,{...f,ref:l,children:v.isValidElement(w)?v.cloneElement(w,void 0,_):null})}return i.jsx(t,{...f,ref:l,children:d})});return r.displayName=`${e}.Slot`,r}function wk(e){const t=v.forwardRef((r,a)=>{const{children:l,...d}=r;if(v.isValidElement(l)){const f=Nk(l),p=jk(d,l.props);return l.type!==v.Fragment&&(p.ref=a?si(a,f):f),v.cloneElement(l,p)}return v.Children.count(l)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _k=Symbol("radix.slottable");function bk(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_k}function jk(e,t){const r={...t};for(const a in t){const l=e[a],d=t[a];/^on[A-Z]/.test(a)?l&&d?r[a]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[a]=l):a==="style"?r[a]={...l,...d}:a==="className"&&(r[a]=[l,d].filter(Boolean).join(" "))}return{...e,...r}}function Nk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ua=new WeakMap,cd=new WeakMap,ud={},vp=0,Gw=function(e){return e&&(e.host||Gw(e.parentNode))},Ck=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=Gw(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Ek=function(e,t,r,a){var l=Ck(t,Array.isArray(e)?e:[e]);ud[r]||(ud[r]=new WeakMap);var d=ud[r],f=[],p=new Set,g=new Set(l),w=function(N){!N||p.has(N)||(p.add(N),w(N.parentNode))};l.forEach(w);var _=function(N){!N||g.has(N)||Array.prototype.forEach.call(N.children,function(E){if(p.has(E))_(E);else try{var P=E.getAttribute(a),k=P!==null&&P!=="false",b=(Ua.get(E)||0)+1,S=(d.get(E)||0)+1;Ua.set(E,b),d.set(E,S),f.push(E),b===1&&k&&cd.set(E,!0),S===1&&E.setAttribute(r,"true"),k||E.setAttribute(a,"true")}catch(M){console.error("aria-hidden: cannot operate on ",E,M)}})};return _(t),p.clear(),vp++,function(){f.forEach(function(N){var E=Ua.get(N)-1,P=d.get(N)-1;Ua.set(N,E),d.set(N,P),E||(cd.has(N)||N.removeAttribute(a),cd.delete(N)),P||N.removeAttribute(r)}),vp--,vp||(Ua=new WeakMap,Ua=new WeakMap,cd=new WeakMap,ud={})}},Vm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),l=Sk(e);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live], script"))),Ek(a,l,r,"aria-hidden")):function(){return null}},vs=function(){return vs=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},vs.apply(this,arguments)};function Qw(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r}function Pk(e,t,r){if(r||arguments.length===2)for(var a=0,l=t.length,d;a<l;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var wd="right-scroll-bar-position",_d="width-before-scroll-bar",kk="with-scroll-bars-hidden",Tk="--removed-body-scroll-bar-size";function xp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rk(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var l=r.value;l!==a&&(r.value=a,r.callback(a,l))}}}})[0];return r.callback=t,r.facade}var Lk=typeof window<"u"?v.useLayoutEffect:v.useEffect,Jx=new WeakMap;function Ak(e,t){var r=Rk(null,function(a){return e.forEach(function(l){return xp(l,a)})});return Lk(function(){var a=Jx.get(r);if(a){var l=new Set(a),d=new Set(e),f=r.current;l.forEach(function(p){d.has(p)||xp(p,null)}),d.forEach(function(p){l.has(p)||xp(p,f)})}Jx.set(r,e)},[e]),r}function Mk(e){return e}function Ok(e,t){t===void 0&&(t=Mk);var r=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var f=t(d,a);return r.push(f),function(){r=r.filter(function(p){return p!==f})}},assignSyncMedium:function(d){for(a=!0;r.length;){var f=r;r=[],f.forEach(d)}r={push:function(p){return d(p)},filter:function(){return r}}},assignMedium:function(d){a=!0;var f=[];if(r.length){var p=r;r=[],p.forEach(d),f=r}var g=function(){var _=f;f=[],_.forEach(d)},w=function(){return Promise.resolve().then(g)};w(),r={push:function(_){f.push(_),w()},filter:function(_){return f=f.filter(_),r}}}};return l}function Ik(e){e===void 0&&(e={});var t=Ok(null);return t.options=vs({async:!0,ssr:!1},e),t}var Yw=function(e){var t=e.sideCar,r=Qw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,vs({},r))};Yw.isSideCarExport=!0;function Dk(e,t){return e.useMedium(t),Yw}var Xw=Ik(),yp=function(){},df=v.forwardRef(function(e,t){var r=v.useRef(null),a=v.useState({onScrollCapture:yp,onWheelCapture:yp,onTouchMoveCapture:yp}),l=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,N=e.shards,E=e.sideCar,P=e.noRelative,k=e.noIsolation,b=e.inert,S=e.allowPinchZoom,M=e.as,I=M===void 0?"div":M,R=e.gapMode,F=Qw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=E,re=Ak([r,t]),ee=vs(vs({},F),l);return v.createElement(v.Fragment,null,_&&v.createElement(V,{sideCar:Xw,removeScrollBar:w,shards:N,noRelative:P,noIsolation:k,inert:b,setCallbacks:d,allowPinchZoom:!!S,lockRef:r,gapMode:R}),f?v.cloneElement(v.Children.only(p),vs(vs({},ee),{ref:re})):v.createElement(I,vs({},ee,{className:g,ref:re}),p))});df.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};df.classNames={fullWidth:_d,zeroRight:wd};var Fk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Fk();return t&&e.setAttribute("nonce",t),e}function Bk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $k(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Uk=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zk())&&(Bk(t,r),$k(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hk=function(){var e=Uk();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Jw=function(){var e=Hk(),t=function(r){var a=r.styles,l=r.dynamic;return e(a,l),null};return t},Wk={left:0,top:0,right:0,gap:0},wp=function(e){return parseInt(e||"",10)||0},Vk=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[wp(r),wp(a),wp(l)]},Zk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Wk;var t=Vk(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},qk=Jw(),Ga="data-scroll-locked",Kk=function(e,t,r,a){var l=e.left,d=e.top,f=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kk,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(Ga,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wd,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(_d,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(wd," .").concat(wd,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ga,`] {
    `).concat(Tk,": ").concat(p,`px;
  }
`)},ey=function(){var e=parseInt(document.body.getAttribute(Ga)||"0",10);return isFinite(e)?e:0},Gk=function(){v.useEffect(function(){return document.body.setAttribute(Ga,(ey()+1).toString()),function(){var e=ey()-1;e<=0?document.body.removeAttribute(Ga):document.body.setAttribute(Ga,e.toString())}},[])},Qk=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,l=a===void 0?"margin":a;Gk();var d=v.useMemo(function(){return Zk(l)},[l]);return v.createElement(qk,{styles:Kk(d,!t,l,r?"":"!important")})},tm=!1;if(typeof window<"u")try{var dd=Object.defineProperty({},"passive",{get:function(){return tm=!0,!0}});window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{tm=!1}var Ha=tm?{passive:!1}:!1,Yk=function(e){return e.tagName==="TEXTAREA"},e_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Yk(e)&&r[t]==="visible")},Xk=function(e){return e_(e,"overflowY")},Jk=function(e){return e_(e,"overflowX")},ty=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=t_(e,a);if(l){var d=n_(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},eT=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},tT=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},t_=function(e,t){return e==="v"?Xk(t):Jk(t)},n_=function(e,t){return e==="v"?eT(t):tT(t)},nT=function(e,t){return e==="h"&&t==="rtl"?-1:1},rT=function(e,t,r,a,l){var d=nT(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,g=t.contains(p),w=!1,_=f>0,N=0,E=0;do{if(!p)break;var P=n_(e,p),k=P[0],b=P[1],S=P[2],M=b-S-d*k;(k||M)&&t_(e,p)&&(N+=M,E+=k);var I=p.parentNode;p=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(N)<1||!_&&Math.abs(E)<1)&&(w=!0),w},fd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ny=function(e){return[e.deltaX,e.deltaY]},ry=function(e){return e&&"current"in e?e.current:e},sT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oT=0,Wa=[];function aT(e){var t=v.useRef([]),r=v.useRef([0,0]),a=v.useRef(),l=v.useState(oT++)[0],d=v.useState(Jw)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var b=Pk([e.lockRef.current],(e.shards||[]).map(ry),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!f.current.allowPinchZoom;var M=fd(b),I=r.current,R="deltaX"in b?b.deltaX:I[0]-M[0],F="deltaY"in b?b.deltaY:I[1]-M[1],V,re=b.target,ee=Math.abs(R)>Math.abs(F)?"h":"v";if("touches"in b&&ee==="h"&&re.type==="range")return!1;var se=window.getSelection(),K=se&&se.anchorNode,X=K?K===re||K.contains(re):!1;if(X)return!1;var ae=ty(ee,re);if(!ae)return!0;if(ae?V=ee:(V=ee==="v"?"h":"v",ae=ty(ee,re)),!ae)return!1;if(!a.current&&"changedTouches"in b&&(R||F)&&(a.current=V),!V)return!0;var Z=a.current||V;return rT(Z,S,b,Z==="h"?R:F)},[]),g=v.useCallback(function(b){var S=b;if(!(!Wa.length||Wa[Wa.length-1]!==d)){var M="deltaY"in S?ny(S):fd(S),I=t.current.filter(function(V){return V.name===S.type&&(V.target===S.target||S.target===V.shadowParent)&&sT(V.delta,M)})[0];if(I&&I.should){S.cancelable&&S.preventDefault();return}if(!I){var R=(f.current.shards||[]).map(ry).filter(Boolean).filter(function(V){return V.contains(S.target)}),F=R.length>0?p(S,R[0]):!f.current.noIsolation;F&&S.cancelable&&S.preventDefault()}}},[]),w=v.useCallback(function(b,S,M,I){var R={name:b,delta:S,target:M,should:I,shadowParent:lT(M)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(F){return F!==R})},1)},[]),_=v.useCallback(function(b){r.current=fd(b),a.current=void 0},[]),N=v.useCallback(function(b){w(b.type,ny(b),b.target,p(b,e.lockRef.current))},[]),E=v.useCallback(function(b){w(b.type,fd(b),b.target,p(b,e.lockRef.current))},[]);v.useEffect(function(){return Wa.push(d),e.setCallbacks({onScrollCapture:N,onWheelCapture:N,onTouchMoveCapture:E}),document.addEventListener("wheel",g,Ha),document.addEventListener("touchmove",g,Ha),document.addEventListener("touchstart",_,Ha),function(){Wa=Wa.filter(function(b){return b!==d}),document.removeEventListener("wheel",g,Ha),document.removeEventListener("touchmove",g,Ha),document.removeEventListener("touchstart",_,Ha)}},[]);var P=e.removeScrollBar,k=e.inert;return v.createElement(v.Fragment,null,k?v.createElement(d,{styles:iT(l)}):null,P?v.createElement(Qk,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cT=Dk(Xw,aT);var ff=v.forwardRef(function(e,t){return v.createElement(df,vs({},e,{ref:t,sideCar:cT}))});ff.classNames=df.classNames;var nm=["Enter"," "],uT=["ArrowDown","PageUp","Home"],r_=["ArrowUp","PageDown","End"],dT=[...uT,...r_],fT={ltr:[...nm,"ArrowRight"],rtl:[...nm,"ArrowLeft"]},hT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mc="Menu",[Nc,pT,mT]=Vd(Mc),[Go,s_]=Ns(Mc,[mT,al,uf]),hf=al(),i_=uf(),[gT,Qo]=Go(Mc),[vT,Oc]=Go(Mc),o_=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:l,onOpenChange:d,modal:f=!0}=e,p=hf(t),[g,w]=v.useState(null),_=v.useRef(!1),N=Nn(d),E=lf(l);return v.useEffect(()=>{const P=()=>{_.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>_.current=!1;return document.addEventListener("keydown",P,{capture:!0}),()=>{document.removeEventListener("keydown",P,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),i.jsx(iw,{...p,children:i.jsx(gT,{scope:t,open:r,onOpenChange:N,content:g,onContentChange:w,children:i.jsx(vT,{scope:t,onClose:v.useCallback(()=>N(!1),[N]),isUsingKeyboardRef:_,dir:E,modal:f,children:a})})})};o_.displayName=Mc;var xT="MenuAnchor",Zm=v.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,l=hf(r);return i.jsx(Am,{...l,...a,ref:t})});Zm.displayName=xT;var qm="MenuPortal",[yT,a_]=Go(qm,{forceMount:void 0}),l_=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:l}=e,d=Qo(qm,t);return i.jsx(yT,{scope:t,forceMount:r,children:i.jsx(Xr,{present:r||d.open,children:i.jsx(kc,{asChild:!0,container:l,children:a})})})};l_.displayName=qm;var Pr="MenuContent",[wT,Km]=Go(Pr),c_=v.forwardRef((e,t)=>{const r=a_(Pr,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,d=Qo(Pr,e.__scopeMenu),f=Oc(Pr,e.__scopeMenu);return i.jsx(Nc.Provider,{scope:e.__scopeMenu,children:i.jsx(Xr,{present:a||d.open,children:i.jsx(Nc.Slot,{scope:e.__scopeMenu,children:f.modal?i.jsx(_T,{...l,ref:t}):i.jsx(bT,{...l,ref:t})})})})}),_T=v.forwardRef((e,t)=>{const r=Qo(Pr,e.__scopeMenu),a=v.useRef(null),l=dt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return Vm(d)},[]),i.jsx(Gm,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),bT=v.forwardRef((e,t)=>{const r=Qo(Pr,e.__scopeMenu);return i.jsx(Gm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),jT=yk("MenuContent.ScrollLock"),Gm=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:l,onOpenAutoFocus:d,onCloseAutoFocus:f,disableOutsidePointerEvents:p,onEntryFocus:g,onEscapeKeyDown:w,onPointerDownOutside:_,onFocusOutside:N,onInteractOutside:E,onDismiss:P,disableOutsideScroll:k,...b}=e,S=Qo(Pr,r),M=Oc(Pr,r),I=hf(r),R=i_(r),F=pT(r),[V,re]=v.useState(null),ee=v.useRef(null),se=dt(t,ee,S.onContentChange),K=v.useRef(0),X=v.useRef(""),ae=v.useRef(0),Z=v.useRef(null),ue=v.useRef("right"),ie=v.useRef(0),pe=k?ff:v.Fragment,he=k?{as:jT,allowPinchZoom:!0}:void 0,me=G=>{const J=X.current+G,O=F().filter(de=>!de.disabled),H=document.activeElement,$=O.find(de=>de.ref.current===H)?.textValue,W=O.map(de=>de.textValue),Y=OT(W,J,$),Q=O.find(de=>de.textValue===Y)?.ref.current;(function de(Ne){X.current=Ne,window.clearTimeout(K.current),Ne!==""&&(K.current=window.setTimeout(()=>de(""),1e3))})(J),Q&&setTimeout(()=>Q.focus())};v.useEffect(()=>()=>window.clearTimeout(K.current),[]),Wm();const B=v.useCallback(G=>ue.current===Z.current?.side&&DT(G,Z.current?.area),[]);return i.jsx(wT,{scope:r,searchRef:X,onItemEnter:v.useCallback(G=>{B(G)&&G.preventDefault()},[B]),onItemLeave:v.useCallback(G=>{B(G)||(ee.current?.focus(),re(null))},[B]),onTriggerLeave:v.useCallback(G=>{B(G)&&G.preventDefault()},[B]),pointerGraceTimerRef:ae,onPointerGraceIntentChange:v.useCallback(G=>{Z.current=G},[]),children:i.jsx(pe,{...he,children:i.jsx(cf,{asChild:!0,trapped:l,onMountAutoFocus:Se(d,G=>{G.preventDefault(),ee.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:f,children:i.jsx(rl,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:w,onPointerDownOutside:_,onFocusOutside:N,onInteractOutside:E,onDismiss:P,children:i.jsx(qw,{asChild:!0,...R,dir:M.dir,orientation:"vertical",loop:a,currentTabStopId:V,onCurrentTabStopIdChange:re,onEntryFocus:Se(g,G=>{M.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Mm,{role:"menu","aria-orientation":"vertical","data-state":S_(S.open),"data-radix-menu-content":"",dir:M.dir,...I,...b,ref:se,style:{outline:"none",...b.style},onKeyDown:Se(b.onKeyDown,G=>{const O=G.target.closest("[data-radix-menu-content]")===G.currentTarget,H=G.ctrlKey||G.altKey||G.metaKey,$=G.key.length===1;O&&(G.key==="Tab"&&G.preventDefault(),!H&&$&&me(G.key));const W=ee.current;if(G.target!==W||!dT.includes(G.key))return;G.preventDefault();const Q=F().filter(de=>!de.disabled).map(de=>de.ref.current);r_.includes(G.key)&&Q.reverse(),AT(Q)}),onBlur:Se(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(K.current),X.current="")}),onPointerMove:Se(e.onPointerMove,Sc(G=>{const J=G.target,O=ie.current!==G.clientX;if(G.currentTarget.contains(J)&&O){const H=G.clientX>ie.current?"right":"left";ue.current=H,ie.current=G.clientX}}))})})})})})})});c_.displayName=Pr;var NT="MenuGroup",Qm=v.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return i.jsx(Ze.div,{role:"group",...a,ref:t})});Qm.displayName=NT;var ST="MenuLabel",u_=v.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return i.jsx(Ze.div,{...a,ref:t})});u_.displayName=ST;var Dd="MenuItem",sy="menu.itemSelect",pf=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...l}=e,d=v.useRef(null),f=Oc(Dd,e.__scopeMenu),p=Km(Dd,e.__scopeMenu),g=dt(t,d),w=v.useRef(!1),_=()=>{const N=d.current;if(!r&&N){const E=new CustomEvent(sy,{bubbles:!0,cancelable:!0});N.addEventListener(sy,P=>a?.(P),{once:!0}),xm(N,E),E.defaultPrevented?w.current=!1:f.onClose()}};return i.jsx(d_,{...l,ref:g,disabled:r,onClick:Se(e.onClick,_),onPointerDown:N=>{e.onPointerDown?.(N),w.current=!0},onPointerUp:Se(e.onPointerUp,N=>{w.current||N.currentTarget?.click()}),onKeyDown:Se(e.onKeyDown,N=>{const E=p.searchRef.current!=="";r||E&&N.key===" "||nm.includes(N.key)&&(N.currentTarget.click(),N.preventDefault())})})});pf.displayName=Dd;var d_=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:l,...d}=e,f=Km(Dd,r),p=i_(r),g=v.useRef(null),w=dt(t,g),[_,N]=v.useState(!1),[E,P]=v.useState("");return v.useEffect(()=>{const k=g.current;k&&P((k.textContent??"").trim())},[d.children]),i.jsx(Nc.ItemSlot,{scope:r,disabled:a,textValue:l??E,children:i.jsx(Kw,{asChild:!0,...p,focusable:!a,children:i.jsx(Ze.div,{role:"menuitem","data-highlighted":_?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...d,ref:w,onPointerMove:Se(e.onPointerMove,Sc(k=>{a?f.onItemLeave(k):(f.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(e.onPointerLeave,Sc(k=>f.onItemLeave(k))),onFocus:Se(e.onFocus,()=>N(!0)),onBlur:Se(e.onBlur,()=>N(!1))})})})}),CT="MenuCheckboxItem",f_=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...l}=e;return i.jsx(v_,{scope:e.__scopeMenu,checked:r,children:i.jsx(pf,{role:"menuitemcheckbox","aria-checked":Fd(r)?"mixed":r,...l,ref:t,"data-state":Xm(r),onSelect:Se(l.onSelect,()=>a?.(Fd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});f_.displayName=CT;var h_="MenuRadioGroup",[ET,PT]=Go(h_,{value:void 0,onValueChange:()=>{}}),p_=v.forwardRef((e,t)=>{const{value:r,onValueChange:a,...l}=e,d=Nn(a);return i.jsx(ET,{scope:e.__scopeMenu,value:r,onValueChange:d,children:i.jsx(Qm,{...l,ref:t})})});p_.displayName=h_;var m_="MenuRadioItem",g_=v.forwardRef((e,t)=>{const{value:r,...a}=e,l=PT(m_,e.__scopeMenu),d=r===l.value;return i.jsx(v_,{scope:e.__scopeMenu,checked:d,children:i.jsx(pf,{role:"menuitemradio","aria-checked":d,...a,ref:t,"data-state":Xm(d),onSelect:Se(a.onSelect,()=>l.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});g_.displayName=m_;var Ym="MenuItemIndicator",[v_,kT]=Go(Ym,{checked:!1}),x_=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...l}=e,d=kT(Ym,r);return i.jsx(Xr,{present:a||Fd(d.checked)||d.checked===!0,children:i.jsx(Ze.span,{...l,ref:t,"data-state":Xm(d.checked)})})});x_.displayName=Ym;var TT="MenuSeparator",y_=v.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return i.jsx(Ze.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});y_.displayName=TT;var RT="MenuArrow",w_=v.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,l=hf(r);return i.jsx(Om,{...l,...a,ref:t})});w_.displayName=RT;var LT="MenuSub",[nI,__]=Go(LT),pc="MenuSubTrigger",b_=v.forwardRef((e,t)=>{const r=Qo(pc,e.__scopeMenu),a=Oc(pc,e.__scopeMenu),l=__(pc,e.__scopeMenu),d=Km(pc,e.__scopeMenu),f=v.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:g}=d,w={__scopeMenu:e.__scopeMenu},_=v.useCallback(()=>{f.current&&window.clearTimeout(f.current),f.current=null},[]);return v.useEffect(()=>_,[_]),v.useEffect(()=>{const N=p.current;return()=>{window.clearTimeout(N),g(null)}},[p,g]),i.jsx(Zm,{asChild:!0,...w,children:i.jsx(d_,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":S_(r.open),...e,ref:si(t,l.onTriggerChange),onClick:N=>{e.onClick?.(N),!(e.disabled||N.defaultPrevented)&&(N.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(e.onPointerMove,Sc(N=>{d.onItemEnter(N),!N.defaultPrevented&&!e.disabled&&!r.open&&!f.current&&(d.onPointerGraceIntentChange(null),f.current=window.setTimeout(()=>{r.onOpenChange(!0),_()},100))})),onPointerLeave:Se(e.onPointerLeave,Sc(N=>{_();const E=r.content?.getBoundingClientRect();if(E){const P=r.content?.dataset.side,k=P==="right",b=k?-5:5,S=E[k?"left":"right"],M=E[k?"right":"left"];d.onPointerGraceIntentChange({area:[{x:N.clientX+b,y:N.clientY},{x:S,y:E.top},{x:M,y:E.top},{x:M,y:E.bottom},{x:S,y:E.bottom}],side:P}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(N),N.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:Se(e.onKeyDown,N=>{const E=d.searchRef.current!=="";e.disabled||E&&N.key===" "||fT[a.dir].includes(N.key)&&(r.onOpenChange(!0),r.content?.focus(),N.preventDefault())})})})});b_.displayName=pc;var j_="MenuSubContent",N_=v.forwardRef((e,t)=>{const r=a_(Pr,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,d=Qo(Pr,e.__scopeMenu),f=Oc(Pr,e.__scopeMenu),p=__(j_,e.__scopeMenu),g=v.useRef(null),w=dt(t,g);return i.jsx(Nc.Provider,{scope:e.__scopeMenu,children:i.jsx(Xr,{present:a||d.open,children:i.jsx(Nc.Slot,{scope:e.__scopeMenu,children:i.jsx(Gm,{id:p.contentId,"aria-labelledby":p.triggerId,...l,ref:w,align:"start",side:f.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:_=>{f.isUsingKeyboardRef.current&&g.current?.focus(),_.preventDefault()},onCloseAutoFocus:_=>_.preventDefault(),onFocusOutside:Se(e.onFocusOutside,_=>{_.target!==p.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:Se(e.onEscapeKeyDown,_=>{f.onClose(),_.preventDefault()}),onKeyDown:Se(e.onKeyDown,_=>{const N=_.currentTarget.contains(_.target),E=hT[f.dir].includes(_.key);N&&E&&(d.onOpenChange(!1),p.trigger?.focus(),_.preventDefault())})})})})})});N_.displayName=j_;function S_(e){return e?"open":"closed"}function Fd(e){return e==="indeterminate"}function Xm(e){return Fd(e)?"indeterminate":e?"checked":"unchecked"}function AT(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function MT(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function OT(e,t,r){const l=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let f=MT(e,Math.max(d,0));l.length===1&&(f=f.filter(w=>w!==r));const g=f.find(w=>w.toLowerCase().startsWith(l.toLowerCase()));return g!==r?g:void 0}function IT(e,t){const{x:r,y:a}=e;let l=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d],g=t[f],w=p.x,_=p.y,N=g.x,E=g.y;_>a!=E>a&&r<(N-w)*(a-_)/(E-_)+w&&(l=!l)}return l}function DT(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return IT(r,t)}function Sc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var FT=o_,zT=Zm,BT=l_,$T=c_,UT=Qm,HT=u_,WT=pf,VT=f_,ZT=p_,qT=g_,KT=x_,GT=y_,QT=w_,YT=b_,XT=N_,mf="DropdownMenu",[JT]=Ns(mf,[s_]),Cn=s_(),[eR,C_]=JT(mf),E_=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:l,defaultOpen:d,onOpenChange:f,modal:p=!0}=e,g=Cn(t),w=v.useRef(null),[_,N]=Io({prop:l,defaultProp:d??!1,onChange:f,caller:mf});return i.jsx(eR,{scope:t,triggerId:ws(),triggerRef:w,contentId:ws(),open:_,onOpenChange:N,onOpenToggle:v.useCallback(()=>N(E=>!E),[N]),modal:p,children:i.jsx(FT,{...g,open:_,onOpenChange:N,dir:a,modal:p,children:r})})};E_.displayName=mf;var P_="DropdownMenuTrigger",k_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...l}=e,d=C_(P_,r),f=Cn(r);return i.jsx(zT,{asChild:!0,...f,children:i.jsx(Ze.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...l,ref:si(t,d.triggerRef),onPointerDown:Se(e.onPointerDown,p=>{!a&&p.button===0&&p.ctrlKey===!1&&(d.onOpenToggle(),d.open||p.preventDefault())}),onKeyDown:Se(e.onKeyDown,p=>{a||(["Enter"," "].includes(p.key)&&d.onOpenToggle(),p.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});k_.displayName=P_;var tR="DropdownMenuPortal",T_=e=>{const{__scopeDropdownMenu:t,...r}=e,a=Cn(t);return i.jsx(BT,{...a,...r})};T_.displayName=tR;var R_="DropdownMenuContent",L_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=C_(R_,r),d=Cn(r),f=v.useRef(!1);return i.jsx($T,{id:l.contentId,"aria-labelledby":l.triggerId,...d,...a,ref:t,onCloseAutoFocus:Se(e.onCloseAutoFocus,p=>{f.current||l.triggerRef.current?.focus(),f.current=!1,p.preventDefault()}),onInteractOutside:Se(e.onInteractOutside,p=>{const g=p.detail.originalEvent,w=g.button===0&&g.ctrlKey===!0,_=g.button===2||w;(!l.modal||_)&&(f.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L_.displayName=R_;var nR="DropdownMenuGroup",rR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(UT,{...l,...a,ref:t})});rR.displayName=nR;var sR="DropdownMenuLabel",A_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(HT,{...l,...a,ref:t})});A_.displayName=sR;var iR="DropdownMenuItem",M_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(WT,{...l,...a,ref:t})});M_.displayName=iR;var oR="DropdownMenuCheckboxItem",O_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(VT,{...l,...a,ref:t})});O_.displayName=oR;var aR="DropdownMenuRadioGroup",lR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(ZT,{...l,...a,ref:t})});lR.displayName=aR;var cR="DropdownMenuRadioItem",I_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(qT,{...l,...a,ref:t})});I_.displayName=cR;var uR="DropdownMenuItemIndicator",D_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(KT,{...l,...a,ref:t})});D_.displayName=uR;var dR="DropdownMenuSeparator",F_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(GT,{...l,...a,ref:t})});F_.displayName=dR;var fR="DropdownMenuArrow",hR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(QT,{...l,...a,ref:t})});hR.displayName=fR;var pR="DropdownMenuSubTrigger",z_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(YT,{...l,...a,ref:t})});z_.displayName=pR;var mR="DropdownMenuSubContent",B_=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=Cn(r);return i.jsx(XT,{...l,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B_.displayName=mR;var gR=E_,vR=k_,xR=T_,$_=L_,U_=A_,H_=M_,W_=O_,V_=I_,Z_=D_,q_=F_,K_=z_,G_=B_;const _p=gR,bp=vR,yR=v.forwardRef(({className:e,inset:t,children:r,...a},l)=>i.jsxs(K_,{ref:l,className:We("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...a,children:[r,i.jsx(bm,{className:"ml-auto h-4 w-4"})]}));yR.displayName=K_.displayName;const wR=v.forwardRef(({className:e,...t},r)=>i.jsx(G_,{ref:r,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));wR.displayName=G_.displayName;const bd=v.forwardRef(({className:e,sideOffset:t=4,...r},a)=>i.jsx(xR,{children:i.jsx($_,{ref:a,sideOffset:t,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));bd.displayName=$_.displayName;const Xs=v.forwardRef(({className:e,inset:t,...r},a)=>i.jsx(H_,{ref:a,className:We("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Xs.displayName=H_.displayName;const _R=v.forwardRef(({className:e,children:t,checked:r,...a},l)=>i.jsxs(W_,{ref:l,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...a,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Z_,{children:i.jsx(y0,{className:"h-4 w-4"})})}),t]}));_R.displayName=W_.displayName;const bR=v.forwardRef(({className:e,children:t,...r},a)=>i.jsxs(V_,{ref:a,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Z_,{children:i.jsx(g2,{className:"h-2 w-2 fill-current"})})}),t]}));bR.displayName=V_.displayName;const rm=v.forwardRef(({className:e,inset:t,...r},a)=>i.jsx(U_,{ref:a,className:We("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));rm.displayName=U_.displayName;const Za=v.forwardRef(({className:e,...t},r)=>i.jsx(q_,{ref:r,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));Za.displayName=q_.displayName;const jR=Kd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zn({className:e,variant:t,...r}){return i.jsx("div",{className:We(jR({variant:t}),e),...r})}function Q_(e,t){return function(){return e.apply(t,arguments)}}const{toString:NR}=Object.prototype,{getPrototypeOf:Jm}=Object,{iterator:gf,toStringTag:Y_}=Symbol,vf=(e=>t=>{const r=NR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Jr=e=>(e=e.toLowerCase(),t=>vf(t)===e),xf=e=>t=>typeof t===e,{isArray:dl}=Array,tl=xf("undefined");function Ic(e){return e!==null&&!tl(e)&&e.constructor!==null&&!tl(e.constructor)&&Dn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const X_=Jr("ArrayBuffer");function SR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&X_(e.buffer),t}const CR=xf("string"),Dn=xf("function"),J_=xf("number"),Dc=e=>e!==null&&typeof e=="object",ER=e=>e===!0||e===!1,jd=e=>{if(vf(e)!=="object")return!1;const t=Jm(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Y_ in e)&&!(gf in e)},PR=e=>{if(!Dc(e)||Ic(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},kR=Jr("Date"),TR=Jr("File"),RR=Jr("Blob"),LR=Jr("FileList"),AR=e=>Dc(e)&&Dn(e.pipe),MR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Dn(e.append)&&((t=vf(e))==="formdata"||t==="object"&&Dn(e.toString)&&e.toString()==="[object FormData]"))},OR=Jr("URLSearchParams"),[IR,DR,FR,zR]=["ReadableStream","Request","Response","Headers"].map(Jr),BR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,l;if(typeof e!="object"&&(e=[e]),dl(e))for(a=0,l=e.length;a<l;a++)t.call(null,e[a],a,e);else{if(Ic(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let p;for(a=0;a<f;a++)p=d[a],t.call(null,e[p],p,e)}}function eb(e,t){if(Ic(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,l;for(;a-- >0;)if(l=r[a],t===l.toLowerCase())return l;return null}const Ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tb=e=>!tl(e)&&e!==Ao;function sm(){const{caseless:e,skipUndefined:t}=tb(this)&&this||{},r={},a=(l,d)=>{const f=e&&eb(r,d)||d;jd(r[f])&&jd(l)?r[f]=sm(r[f],l):jd(l)?r[f]=sm({},l):dl(l)?r[f]=l.slice():(!t||!tl(l))&&(r[f]=l)};for(let l=0,d=arguments.length;l<d;l++)arguments[l]&&Fc(arguments[l],a);return r}const $R=(e,t,r,{allOwnKeys:a}={})=>(Fc(t,(l,d)=>{r&&Dn(l)?e[d]=Q_(l,r):e[d]=l},{allOwnKeys:a}),e),UR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),HR=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},WR=(e,t,r,a)=>{let l,d,f;const p={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),d=l.length;d-- >0;)f=l[d],(!a||a(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=r!==!1&&Jm(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},VR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},ZR=e=>{if(!e)return null;if(dl(e))return e;let t=e.length;if(!J_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},qR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jm(Uint8Array)),KR=(e,t)=>{const a=(e&&e[gf]).call(e);let l;for(;(l=a.next())&&!l.done;){const d=l.value;t.call(e,d[0],d[1])}},GR=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},QR=Jr("HTMLFormElement"),YR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,l){return a.toUpperCase()+l}),iy=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),XR=Jr("RegExp"),nb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Fc(r,(l,d)=>{let f;(f=t(l,d,e))!==!1&&(a[d]=f||l)}),Object.defineProperties(e,a)},JR=e=>{nb(e,(t,r)=>{if(Dn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Dn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},eL=(e,t)=>{const r={},a=l=>{l.forEach(d=>{r[d]=!0})};return dl(e)?a(e):a(String(e).split(t)),r},tL=()=>{},nL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function rL(e){return!!(e&&Dn(e.append)&&e[Y_]==="FormData"&&e[gf])}const sL=e=>{const t=new Array(10),r=(a,l)=>{if(Dc(a)){if(t.indexOf(a)>=0)return;if(Ic(a))return a;if(!("toJSON"in a)){t[l]=a;const d=dl(a)?[]:{};return Fc(a,(f,p)=>{const g=r(f,l+1);!tl(g)&&(d[p]=g)}),t[l]=void 0,d}}return a};return r(e,0)},iL=Jr("AsyncFunction"),oL=e=>e&&(Dc(e)||Dn(e))&&Dn(e.then)&&Dn(e.catch),rb=((e,t)=>e?setImmediate:t?((r,a)=>(Ao.addEventListener("message",({source:l,data:d})=>{l===Ao&&d===r&&a.length&&a.shift()()},!1),l=>{a.push(l),Ao.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Dn(Ao.postMessage)),aL=typeof queueMicrotask<"u"?queueMicrotask.bind(Ao):typeof process<"u"&&process.nextTick||rb,lL=e=>e!=null&&Dn(e[gf]),fe={isArray:dl,isArrayBuffer:X_,isBuffer:Ic,isFormData:MR,isArrayBufferView:SR,isString:CR,isNumber:J_,isBoolean:ER,isObject:Dc,isPlainObject:jd,isEmptyObject:PR,isReadableStream:IR,isRequest:DR,isResponse:FR,isHeaders:zR,isUndefined:tl,isDate:kR,isFile:TR,isBlob:RR,isRegExp:XR,isFunction:Dn,isStream:AR,isURLSearchParams:OR,isTypedArray:qR,isFileList:LR,forEach:Fc,merge:sm,extend:$R,trim:BR,stripBOM:UR,inherits:HR,toFlatObject:WR,kindOf:vf,kindOfTest:Jr,endsWith:VR,toArray:ZR,forEachEntry:KR,matchAll:GR,isHTMLForm:QR,hasOwnProperty:iy,hasOwnProp:iy,reduceDescriptors:nb,freezeMethods:JR,toObjectSet:eL,toCamelCase:YR,noop:tL,toFiniteNumber:nL,findKey:eb,global:Ao,isContextDefined:tb,isSpecCompliantForm:rL,toJSONObject:sL,isAsyncFn:iL,isThenable:oL,setImmediate:rb,asap:aL,isIterable:lL};function Ye(e,t,r,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}fe.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const sb=Ye.prototype,ib={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ib[e]={value:e}});Object.defineProperties(Ye,ib);Object.defineProperty(sb,"isAxiosError",{value:!0});Ye.from=(e,t,r,a,l,d)=>{const f=Object.create(sb);fe.toFlatObject(e,f,function(_){return _!==Error.prototype},w=>w!=="isAxiosError");const p=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return Ye.call(f,p,g,r,a,l),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",d&&Object.assign(f,d),f};const cL=null;function im(e){return fe.isPlainObject(e)||fe.isArray(e)}function ob(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function oy(e,t,r){return e?e.concat(t).map(function(l,d){return l=ob(l),!r&&d?"["+l+"]":l}).join(r?".":""):t}function uL(e){return fe.isArray(e)&&!e.some(im)}const dL=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function yf(e,t,r){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=fe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!fe.isUndefined(S[b])});const a=r.metaTokens,l=r.visitor||_,d=r.dots,f=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(l))throw new TypeError("visitor must be a function");function w(k){if(k===null)return"";if(fe.isDate(k))return k.toISOString();if(fe.isBoolean(k))return k.toString();if(!g&&fe.isBlob(k))throw new Ye("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(k)||fe.isTypedArray(k)?g&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function _(k,b,S){let M=k;if(k&&!S&&typeof k=="object"){if(fe.endsWith(b,"{}"))b=a?b:b.slice(0,-2),k=JSON.stringify(k);else if(fe.isArray(k)&&uL(k)||(fe.isFileList(k)||fe.endsWith(b,"[]"))&&(M=fe.toArray(k)))return b=ob(b),M.forEach(function(R,F){!(fe.isUndefined(R)||R===null)&&t.append(f===!0?oy([b],F,d):f===null?b:b+"[]",w(R))}),!1}return im(k)?!0:(t.append(oy(S,b,d),w(k)),!1)}const N=[],E=Object.assign(dL,{defaultVisitor:_,convertValue:w,isVisitable:im});function P(k,b){if(!fe.isUndefined(k)){if(N.indexOf(k)!==-1)throw Error("Circular reference detected in "+b.join("."));N.push(k),fe.forEach(k,function(M,I){(!(fe.isUndefined(M)||M===null)&&l.call(t,M,fe.isString(I)?I.trim():I,b,E))===!0&&P(M,b?b.concat(I):[I])}),N.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return P(e),t}function ay(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function eg(e,t){this._pairs=[],e&&yf(e,this,t)}const ab=eg.prototype;ab.append=function(t,r){this._pairs.push([t,r])};ab.toString=function(t){const r=t?function(a){return t.call(this,a,ay)}:ay;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function fL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lb(e,t,r){if(!t)return e;const a=r&&r.encode||fL;fe.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let d;if(l?d=l(t,r):d=fe.isURLSearchParams(t)?t.toString():new eg(t,r).toString(a),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class ly{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const cb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hL=typeof URLSearchParams<"u"?URLSearchParams:eg,pL=typeof FormData<"u"?FormData:null,mL=typeof Blob<"u"?Blob:null,gL={isBrowser:!0,classes:{URLSearchParams:hL,FormData:pL,Blob:mL},protocols:["http","https","file","blob","url","data"]},tg=typeof window<"u"&&typeof document<"u",om=typeof navigator=="object"&&navigator||void 0,vL=tg&&(!om||["ReactNative","NativeScript","NS"].indexOf(om.product)<0),xL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yL=tg&&window.location.href||"http://localhost",wL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tg,hasStandardBrowserEnv:vL,hasStandardBrowserWebWorkerEnv:xL,navigator:om,origin:yL},Symbol.toStringTag,{value:"Module"})),mn={...wL,...gL};function _L(e,t){return yf(e,new mn.classes.URLSearchParams,{visitor:function(r,a,l,d){return mn.isNode&&fe.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function bL(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jL(e){const t={},r=Object.keys(e);let a;const l=r.length;let d;for(a=0;a<l;a++)d=r[a],t[d]=e[d];return t}function ub(e){function t(r,a,l,d){let f=r[d++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=d>=r.length;return f=!f&&fe.isArray(l)?l.length:f,g?(fe.hasOwnProp(l,f)?l[f]=[l[f],a]:l[f]=a,!p):((!l[f]||!fe.isObject(l[f]))&&(l[f]=[]),t(r,a,l[f],d)&&fe.isArray(l[f])&&(l[f]=jL(l[f])),!p)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const r={};return fe.forEachEntry(e,(a,l)=>{t(bL(a),l,r,0)}),r}return null}function NL(e,t,r){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const zc={transitional:cb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",l=a.indexOf("application/json")>-1,d=fe.isObject(t);if(d&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return l?JSON.stringify(ub(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return _L(t,this.formSerializer).toString();if((p=fe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return yf(p?{"files[]":t}:t,g&&new g,this.formSerializer)}}return d||l?(r.setContentType("application/json",!1),NL(t)):t}],transformResponse:[function(t){const r=this.transitional||zc.transitional,a=r&&r.forcedJSONParsing,l=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(a&&!this.responseType||l)){const f=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(p){if(f)throw p.name==="SyntaxError"?Ye.from(p,Ye.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{zc.headers[e]={}});const SL=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CL=e=>{const t={};let r,a,l;return e&&e.split(`
`).forEach(function(f){l=f.indexOf(":"),r=f.substring(0,l).trim().toLowerCase(),a=f.substring(l+1).trim(),!(!r||t[r]&&SL[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},cy=Symbol("internals");function cc(e){return e&&String(e).trim().toLowerCase()}function Nd(e){return e===!1||e==null?e:fe.isArray(e)?e.map(Nd):String(e)}function EL(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const PL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function jp(e,t,r,a,l){if(fe.isFunction(a))return a.call(this,t,r);if(l&&(t=r),!!fe.isString(t)){if(fe.isString(a))return t.indexOf(a)!==-1;if(fe.isRegExp(a))return a.test(t)}}function kL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function TL(e,t){const r=fe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(l,d,f){return this[a].call(this,t,l,d,f)},configurable:!0})})}let Fn=class{constructor(t){t&&this.set(t)}set(t,r,a){const l=this;function d(p,g,w){const _=cc(g);if(!_)throw new Error("header name must be a non-empty string");const N=fe.findKey(l,_);(!N||l[N]===void 0||w===!0||w===void 0&&l[N]!==!1)&&(l[N||g]=Nd(p))}const f=(p,g)=>fe.forEach(p,(w,_)=>d(w,_,g));if(fe.isPlainObject(t)||t instanceof this.constructor)f(t,r);else if(fe.isString(t)&&(t=t.trim())&&!PL(t))f(CL(t),r);else if(fe.isObject(t)&&fe.isIterable(t)){let p={},g,w;for(const _ of t){if(!fe.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[w=_[0]]=(g=p[w])?fe.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}f(p,r)}else t!=null&&d(r,t,a);return this}get(t,r){if(t=cc(t),t){const a=fe.findKey(this,t);if(a){const l=this[a];if(!r)return l;if(r===!0)return EL(l);if(fe.isFunction(r))return r.call(this,l,a);if(fe.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=cc(t),t){const a=fe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||jp(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let l=!1;function d(f){if(f=cc(f),f){const p=fe.findKey(a,f);p&&(!r||jp(a,a[p],p,r))&&(delete a[p],l=!0)}}return fe.isArray(t)?t.forEach(d):d(t),l}clear(t){const r=Object.keys(this);let a=r.length,l=!1;for(;a--;){const d=r[a];(!t||jp(this,this[d],d,t,!0))&&(delete this[d],l=!0)}return l}normalize(t){const r=this,a={};return fe.forEach(this,(l,d)=>{const f=fe.findKey(a,d);if(f){r[f]=Nd(l),delete r[d];return}const p=t?kL(d):String(d).trim();p!==d&&delete r[d],r[p]=Nd(l),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return fe.forEach(this,(a,l)=>{a!=null&&a!==!1&&(r[l]=t&&fe.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[cy]=this[cy]={accessors:{}}).accessors,l=this.prototype;function d(f){const p=cc(f);a[p]||(TL(l,f),a[p]=!0)}return fe.isArray(t)?t.forEach(d):d(t),this}};Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(Fn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});fe.freezeMethods(Fn);function Np(e,t){const r=this||zc,a=t||r,l=Fn.from(a.headers);let d=a.data;return fe.forEach(e,function(p){d=p.call(r,d,l.normalize(),t?t.status:void 0)}),l.normalize(),d}function db(e){return!!(e&&e.__CANCEL__)}function fl(e,t,r){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,r),this.name="CanceledError"}fe.inherits(fl,Ye,{__CANCEL__:!0});function fb(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Ye("Request failed with status code "+r.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function RL(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LL(e,t){e=e||10;const r=new Array(e),a=new Array(e);let l=0,d=0,f;return t=t!==void 0?t:1e3,function(g){const w=Date.now(),_=a[d];f||(f=w),r[l]=g,a[l]=w;let N=d,E=0;for(;N!==l;)E+=r[N++],N=N%e;if(l=(l+1)%e,l===d&&(d=(d+1)%e),w-f<t)return;const P=_&&w-_;return P?Math.round(E*1e3/P):void 0}}function AL(e,t){let r=0,a=1e3/t,l,d;const f=(w,_=Date.now())=>{r=_,l=null,d&&(clearTimeout(d),d=null),e(...w)};return[(...w)=>{const _=Date.now(),N=_-r;N>=a?f(w,_):(l=w,d||(d=setTimeout(()=>{d=null,f(l)},a-N)))},()=>l&&f(l)]}const zd=(e,t,r=3)=>{let a=0;const l=LL(50,250);return AL(d=>{const f=d.loaded,p=d.lengthComputable?d.total:void 0,g=f-a,w=l(g),_=f<=p;a=f;const N={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:w||void 0,estimated:w&&p&&_?(p-f)/w:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(N)},r)},uy=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},dy=e=>(...t)=>fe.asap(()=>e(...t)),ML=mn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,mn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(mn.origin),mn.navigator&&/(msie|trident)/i.test(mn.navigator.userAgent)):()=>!0,OL=mn.hasStandardBrowserEnv?{write(e,t,r,a,l,d,f){if(typeof document>"u")return;const p=[`${e}=${encodeURIComponent(t)}`];fe.isNumber(r)&&p.push(`expires=${new Date(r).toUTCString()}`),fe.isString(a)&&p.push(`path=${a}`),fe.isString(l)&&p.push(`domain=${l}`),d===!0&&p.push("secure"),fe.isString(f)&&p.push(`SameSite=${f}`),document.cookie=p.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function IL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function DL(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hb(e,t,r){let a=!IL(t);return e&&(a||r==!1)?DL(e,t):t}const fy=e=>e instanceof Fn?{...e}:e;function $o(e,t){t=t||{};const r={};function a(w,_,N,E){return fe.isPlainObject(w)&&fe.isPlainObject(_)?fe.merge.call({caseless:E},w,_):fe.isPlainObject(_)?fe.merge({},_):fe.isArray(_)?_.slice():_}function l(w,_,N,E){if(fe.isUndefined(_)){if(!fe.isUndefined(w))return a(void 0,w,N,E)}else return a(w,_,N,E)}function d(w,_){if(!fe.isUndefined(_))return a(void 0,_)}function f(w,_){if(fe.isUndefined(_)){if(!fe.isUndefined(w))return a(void 0,w)}else return a(void 0,_)}function p(w,_,N){if(N in t)return a(w,_);if(N in e)return a(void 0,w)}const g={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(w,_,N)=>l(fy(w),fy(_),N,!0)};return fe.forEach(Object.keys({...e,...t}),function(_){const N=g[_]||l,E=N(e[_],t[_],_);fe.isUndefined(E)&&N!==p||(r[_]=E)}),r}const pb=e=>{const t=$o({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:d,headers:f,auth:p}=t;if(t.headers=f=Fn.from(f),t.url=lb(hb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),fe.isFormData(r)){if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(fe.isFunction(r.getHeaders)){const g=r.getHeaders(),w=["content-type","content-length"];Object.entries(g).forEach(([_,N])=>{w.includes(_.toLowerCase())&&f.set(_,N)})}}if(mn.hasStandardBrowserEnv&&(a&&fe.isFunction(a)&&(a=a(t)),a||a!==!1&&ML(t.url))){const g=l&&d&&OL.read(d);g&&f.set(l,g)}return t},FL=typeof XMLHttpRequest<"u",zL=FL&&function(e){return new Promise(function(r,a){const l=pb(e);let d=l.data;const f=Fn.from(l.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:w}=l,_,N,E,P,k;function b(){P&&P(),k&&k(),l.cancelToken&&l.cancelToken.unsubscribe(_),l.signal&&l.signal.removeEventListener("abort",_)}let S=new XMLHttpRequest;S.open(l.method.toUpperCase(),l.url,!0),S.timeout=l.timeout;function M(){if(!S)return;const R=Fn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),V={data:!p||p==="text"||p==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:R,config:e,request:S};fb(function(ee){r(ee),b()},function(ee){a(ee),b()},V),S=null}"onloadend"in S?S.onloadend=M:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(M)},S.onabort=function(){S&&(a(new Ye("Request aborted",Ye.ECONNABORTED,e,S)),S=null)},S.onerror=function(F){const V=F&&F.message?F.message:"Network Error",re=new Ye(V,Ye.ERR_NETWORK,e,S);re.event=F||null,a(re),S=null},S.ontimeout=function(){let F=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const V=l.transitional||cb;l.timeoutErrorMessage&&(F=l.timeoutErrorMessage),a(new Ye(F,V.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,S)),S=null},d===void 0&&f.setContentType(null),"setRequestHeader"in S&&fe.forEach(f.toJSON(),function(F,V){S.setRequestHeader(V,F)}),fe.isUndefined(l.withCredentials)||(S.withCredentials=!!l.withCredentials),p&&p!=="json"&&(S.responseType=l.responseType),w&&([E,k]=zd(w,!0),S.addEventListener("progress",E)),g&&S.upload&&([N,P]=zd(g),S.upload.addEventListener("progress",N),S.upload.addEventListener("loadend",P)),(l.cancelToken||l.signal)&&(_=R=>{S&&(a(!R||R.type?new fl(null,e,S):R),S.abort(),S=null)},l.cancelToken&&l.cancelToken.subscribe(_),l.signal&&(l.signal.aborted?_():l.signal.addEventListener("abort",_)));const I=RL(l.url);if(I&&mn.protocols.indexOf(I)===-1){a(new Ye("Unsupported protocol "+I+":",Ye.ERR_BAD_REQUEST,e));return}S.send(d||null)})},BL=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,l;const d=function(w){if(!l){l=!0,p();const _=w instanceof Error?w:this.reason;a.abort(_ instanceof Ye?_:new fl(_ instanceof Error?_.message:_))}};let f=t&&setTimeout(()=>{f=null,d(new Ye(`timeout ${t} of ms exceeded`,Ye.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(d):w.removeEventListener("abort",d)}),e=null)};e.forEach(w=>w.addEventListener("abort",d));const{signal:g}=a;return g.unsubscribe=()=>fe.asap(p),g}},$L=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,l;for(;a<r;)l=a+t,yield e.slice(a,l),a=l},UL=async function*(e,t){for await(const r of HL(e))yield*$L(r,t)},HL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},hy=(e,t,r,a)=>{const l=UL(e,t);let d=0,f,p=g=>{f||(f=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:w,value:_}=await l.next();if(w){p(),g.close();return}let N=_.byteLength;if(r){let E=d+=N;r(E)}g.enqueue(new Uint8Array(_))}catch(w){throw p(w),w}},cancel(g){return p(g),l.return()}},{highWaterMark:2})},py=64*1024,{isFunction:hd}=fe,WL=(({Request:e,Response:t})=>({Request:e,Response:t}))(fe.global),{ReadableStream:my,TextEncoder:gy}=fe.global,vy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},VL=e=>{e=fe.merge.call({skipUndefined:!0},WL,e);const{fetch:t,Request:r,Response:a}=e,l=t?hd(t):typeof fetch=="function",d=hd(r),f=hd(a);if(!l)return!1;const p=l&&hd(my),g=l&&(typeof gy=="function"?(k=>b=>k.encode(b))(new gy):async k=>new Uint8Array(await new r(k).arrayBuffer())),w=d&&p&&vy(()=>{let k=!1;const b=new r(mn.origin,{body:new my,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!b}),_=f&&p&&vy(()=>fe.isReadableStream(new a("").body)),N={stream:_&&(k=>k.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!N[k]&&(N[k]=(b,S)=>{let M=b&&b[k];if(M)return M.call(b);throw new Ye(`Response type '${k}' is not supported`,Ye.ERR_NOT_SUPPORT,S)})});const E=async k=>{if(k==null)return 0;if(fe.isBlob(k))return k.size;if(fe.isSpecCompliantForm(k))return(await new r(mn.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(k)||fe.isArrayBuffer(k))return k.byteLength;if(fe.isURLSearchParams(k)&&(k=k+""),fe.isString(k))return(await g(k)).byteLength},P=async(k,b)=>{const S=fe.toFiniteNumber(k.getContentLength());return S??E(b)};return async k=>{let{url:b,method:S,data:M,signal:I,cancelToken:R,timeout:F,onDownloadProgress:V,onUploadProgress:re,responseType:ee,headers:se,withCredentials:K="same-origin",fetchOptions:X}=pb(k),ae=t||fetch;ee=ee?(ee+"").toLowerCase():"text";let Z=BL([I,R&&R.toAbortSignal()],F),ue=null;const ie=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let pe;try{if(re&&w&&S!=="get"&&S!=="head"&&(pe=await P(se,M))!==0){let O=new r(b,{method:"POST",body:M,duplex:"half"}),H;if(fe.isFormData(M)&&(H=O.headers.get("content-type"))&&se.setContentType(H),O.body){const[$,W]=uy(pe,zd(dy(re)));M=hy(O.body,py,$,W)}}fe.isString(K)||(K=K?"include":"omit");const he=d&&"credentials"in r.prototype,me={...X,signal:Z,method:S.toUpperCase(),headers:se.normalize().toJSON(),body:M,duplex:"half",credentials:he?K:void 0};ue=d&&new r(b,me);let B=await(d?ae(ue,X):ae(b,me));const G=_&&(ee==="stream"||ee==="response");if(_&&(V||G&&ie)){const O={};["status","statusText","headers"].forEach(Y=>{O[Y]=B[Y]});const H=fe.toFiniteNumber(B.headers.get("content-length")),[$,W]=V&&uy(H,zd(dy(V),!0))||[];B=new a(hy(B.body,py,$,()=>{W&&W(),ie&&ie()}),O)}ee=ee||"text";let J=await N[fe.findKey(N,ee)||"text"](B,k);return!G&&ie&&ie(),await new Promise((O,H)=>{fb(O,H,{data:J,headers:Fn.from(B.headers),status:B.status,statusText:B.statusText,config:k,request:ue})})}catch(he){throw ie&&ie(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,k,ue),{cause:he.cause||he}):Ye.from(he,he&&he.code,k,ue)}}},ZL=new Map,mb=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:l}=t,d=[a,l,r];let f=d.length,p=f,g,w,_=ZL;for(;p--;)g=d[p],w=_.get(g),w===void 0&&_.set(g,w=p?new Map:VL(t)),_=w;return w};mb();const ng={http:cL,xhr:zL,fetch:{get:mb}};fe.forEach(ng,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xy=e=>`- ${e}`,qL=e=>fe.isFunction(e)||e===null||e===!1;function KL(e,t){e=fe.isArray(e)?e:[e];const{length:r}=e;let a,l;const d={};for(let f=0;f<r;f++){a=e[f];let p;if(l=a,!qL(a)&&(l=ng[(p=String(a)).toLowerCase()],l===void 0))throw new Ye(`Unknown adapter '${p}'`);if(l&&(fe.isFunction(l)||(l=l.get(t))))break;d[p||"#"+f]=l}if(!l){const f=Object.entries(d).map(([g,w])=>`adapter ${g} `+(w===!1?"is not supported by the environment":"is not available in the build"));let p=r?f.length>1?`since :
`+f.map(xy).join(`
`):" "+xy(f[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return l}const gb={getAdapter:KL,adapters:ng};function Sp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fl(null,e)}function yy(e){return Sp(e),e.headers=Fn.from(e.headers),e.data=Np.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gb.getAdapter(e.adapter||zc.adapter,e)(e).then(function(a){return Sp(e),a.data=Np.call(e,e.transformResponse,a),a.headers=Fn.from(a.headers),a},function(a){return db(a)||(Sp(e),a&&a.response&&(a.response.data=Np.call(e,e.transformResponse,a.response),a.response.headers=Fn.from(a.response.headers))),Promise.reject(a)})}const vb="1.13.2",wf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wf[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const wy={};wf.transitional=function(t,r,a){function l(d,f){return"[Axios v"+vb+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,p)=>{if(t===!1)throw new Ye(l(f," has been removed"+(r?" in "+r:"")),Ye.ERR_DEPRECATED);return r&&!wy[f]&&(wy[f]=!0,console.warn(l(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,f,p):!0}};wf.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function GL(e,t,r){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let l=a.length;for(;l-- >0;){const d=a[l],f=t[d];if(f){const p=e[d],g=p===void 0||f(p,d,e);if(g!==!0)throw new Ye("option "+d+" must be "+g,Ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ye("Unknown option "+d,Ye.ERR_BAD_OPTION)}}const Sd={assertOptions:GL,validators:wf},ps=Sd.validators;let Oo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ly,response:new ly}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const d=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=$o(this.defaults,r);const{transitional:a,paramsSerializer:l,headers:d}=r;a!==void 0&&Sd.assertOptions(a,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1),l!=null&&(fe.isFunction(l)?r.paramsSerializer={serialize:l}:Sd.assertOptions(l,{encode:ps.function,serialize:ps.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Sd.assertOptions(r,{baseUrl:ps.spelling("baseURL"),withXsrfToken:ps.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&fe.merge(d.common,d[r.method]);d&&fe.forEach(["delete","get","head","post","put","patch","common"],k=>{delete d[k]}),r.headers=Fn.concat(f,d);const p=[];let g=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(g=g&&b.synchronous,p.unshift(b.fulfilled,b.rejected))});const w=[];this.interceptors.response.forEach(function(b){w.push(b.fulfilled,b.rejected)});let _,N=0,E;if(!g){const k=[yy.bind(this),void 0];for(k.unshift(...p),k.push(...w),E=k.length,_=Promise.resolve(r);N<E;)_=_.then(k[N++],k[N++]);return _}E=p.length;let P=r;for(;N<E;){const k=p[N++],b=p[N++];try{P=k(P)}catch(S){b.call(this,S);break}}try{_=yy.call(this,P)}catch(k){return Promise.reject(k)}for(N=0,E=w.length;N<E;)_=_.then(w[N++],w[N++]);return _}getUri(t){t=$o(this.defaults,t);const r=hb(t.baseURL,t.url,t.allowAbsoluteUrls);return lb(r,t.params,t.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(t){Oo.prototype[t]=function(r,a){return this.request($o(a||{},{method:t,url:r,data:(a||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function r(a){return function(d,f,p){return this.request($o(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}Oo.prototype[t]=r(),Oo.prototype[t+"Form"]=r(!0)});let QL=class xb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(l=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](l);a._listeners=null}),this.promise.then=l=>{let d;const f=new Promise(p=>{a.subscribe(p),d=p}).then(l);return f.cancel=function(){a.unsubscribe(d)},f},t(function(d,f,p){a.reason||(a.reason=new fl(d,f,p),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new xb(function(l){t=l}),cancel:t}}};function YL(e){return function(r){return e.apply(null,r)}}function XL(e){return fe.isObject(e)&&e.isAxiosError===!0}const am={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(am).forEach(([e,t])=>{am[t]=e});function yb(e){const t=new Oo(e),r=Q_(Oo.prototype.request,t);return fe.extend(r,Oo.prototype,t,{allOwnKeys:!0}),fe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return yb($o(e,l))},r}const Ot=yb(zc);Ot.Axios=Oo;Ot.CanceledError=fl;Ot.CancelToken=QL;Ot.isCancel=db;Ot.VERSION=vb;Ot.toFormData=yf;Ot.AxiosError=Ye;Ot.Cancel=Ot.CanceledError;Ot.all=function(t){return Promise.all(t)};Ot.spread=YL;Ot.isAxiosError=XL;Ot.mergeConfig=$o;Ot.AxiosHeaders=Fn;Ot.formToJSON=e=>ub(fe.isHTMLForm(e)?new FormData(e):e);Ot.getAdapter=gb.getAdapter;Ot.HttpStatusCode=am;Ot.default=Ot;const{Axios:iI,AxiosError:oI,CanceledError:aI,isCancel:lI,CancelToken:cI,VERSION:uI,all:dI,Cancel:fI,isAxiosError:hI,spread:pI,toFormData:mI,AxiosHeaders:gI,HttpStatusCode:vI,formToJSON:xI,getAdapter:yI,mergeConfig:wI}=Ot,JL="http://localhost:8000/api",bs=()=>{const e=localStorage.getItem("mock_users");let t=e?JSON.parse(e):[];return[{id:1,email:"admin@example.com",first_name:"Admin",last_name:"User",password:"admin123",role:"admin",created_at:"2024-01-01T00:00:00.000Z"},{id:2,email:"user@example.com",first_name:"Regular",last_name:"User",password:"user123",role:"user",created_at:"2024-01-01T00:00:00.000Z"},{id:3,email:"test@example.com",first_name:"Test",last_name:"User",password:"test123",role:"user",created_at:"2024-01-01T00:00:00.000Z"},{id:4,email:"abdelrhmanadnan3@jadid.com",first_name:"Abdelrhman",last_name:"Adnan",password:"password123",role:"user",created_at:"2024-01-01T00:00:00.000Z"}].forEach(a=>{t.some(l=>l.email===a.email)||t.push(a)}),localStorage.setItem("mock_users",JSON.stringify(t)),t},rg=e=>{localStorage.setItem("mock_users",JSON.stringify(e))},eA=e=>{const t=bs(),r={id:Date.now(),email:e.email,first_name:e.first_name||"",last_name:e.last_name||"",password:e.password,role:"user",created_at:new Date().toISOString()};return t.push(r),rg(t),r},tA=(e,t)=>bs().find(a=>a.email===e&&a.password===t),nA=(e,t,r="",a="",l="user")=>{try{console.log(` Adding user: ${e}`);const d=bs();if(console.log(` Current users count: ${d.length}`),d.some(w=>w.email===e))return console.log(` User with email ${e} already exists`),!1;const f={id:Date.now(),email:e,first_name:r,last_name:a,password:t,role:l,created_at:new Date().toISOString()};d.push(f),rg(d),console.log(` User ${e} added successfully`),console.log("User details:",f);const g=bs().find(w=>w.email===e);return console.log(g?" User verified in storage":" User not found in storage after adding!"),!0}catch(d){return console.error(" Error adding user:",d),!1}},rA=e=>{const t=bs(),r=t.find(a=>a.email===e);return r?(console.log(` User ${e} found:`,{id:r.id,email:r.email,name:`${r.first_name} ${r.last_name}`,role:r.role,password:r.password,created:r.created_at}),r):(console.log(` User ${e} not found in ${t.length} users`),console.log("Available users:",t.map(a=>a.email)),null)},sA=(e,t)=>{const r=bs(),a=r.findIndex(l=>l.email===e);return a===-1?(console.log(` User ${e} not found`),!1):(r[a].password=t,rg(r),console.log(` Password updated for ${e}`),!0)},iA=()=>{const e=bs();return console.log(" Current Mock Users:"),console.table(e.map(t=>({ID:t.id,Email:t.email,Name:`${t.first_name} ${t.last_name}`,Role:t.role,Password:t.password,Created:new Date(t.created_at).toLocaleDateString()}))),e},oA=()=>{localStorage.removeItem("mock_users"),console.log(" All mock users cleared")};typeof window<"u"&&(window.addMockUser=nA,window.listMockUsers=iA,window.clearMockUsers=oA,window.checkMockUser=rA,window.updateMockUserPassword=sA);const we=Ot.create({baseURL:JL,headers:{"Content-Type":"application/json"}});we.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));we.interceptors.response.use(e=>e,e=>{if(e.code==="ERR_NETWORK"){if(console.warn("Backend not available, using mock response for:",e.config.url),e.config.url.includes("/accounts/login/")){const t=JSON.parse(e.config.data||"{}"),{email:r,password:a}=t;console.log(` Login attempt for: ${r}`),console.log(` Checking ${bs().length} users in storage`);const l=tA(r,a);return l?(console.log(` User ${r} authenticated successfully`),Promise.resolve({data:{tokens:{access:"mock_access_token_"+l.id,refresh:"mock_refresh_token_"+l.id},user:{id:l.id,email:l.email,first_name:l.first_name,last_name:l.last_name,role:l.role}},status:200,statusText:"OK",headers:{},config:e.config})):(console.log(` User ${r} not found or password incorrect`),console.log(" Available users:",bs().map(d=>`${d.email} (${d.password})`)),Promise.reject({response:{status:401,data:{detail:"Invalid credentials. User not found in mock storage."}}}))}if(e.config.url.includes("/accounts/register/")){const t=JSON.parse(e.config.data||"{}");if(bs().some(l=>l.email===t.email))return Promise.reject({response:{status:400,data:{email:["User with this email already exists."]}}});const a=eA(t);return Promise.resolve({data:{tokens:{access:"mock_access_token_"+a.id,refresh:"mock_refresh_token_"+a.id},user:{id:a.id,email:a.email,first_name:a.first_name,last_name:a.last_name,role:a.role}},status:201,statusText:"Created",headers:{},config:e.config})}return e.config.url.includes("/community/notifications/unread-count/")?Promise.resolve({data:{count:0},status:200,statusText:"OK",headers:{},config:e.config}):e.config.url.includes("/community/notifications/")&&!e.config.url.includes("/unread-count/")?Promise.resolve({data:[],status:200,statusText:"OK",headers:{},config:e.config}):Promise.resolve({data:{results:[],count:0},status:200,statusText:"OK",headers:{},config:e.config})}if(e.response?.status===401){const t=window.location.pathname;["/","/marketplace","/login","/register"].some(l=>t===l||t.startsWith(l+"/"))||(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login")}return Promise.reject(e)});const Zi={notifications:{getAll:e=>we.get("/community/notifications/",{params:e}),getUnreadCount:async()=>{const e=["/community/notifications/unread_count/"];for(const t of e)try{return await we.get(t)}catch(r){if(!r.response||r.response.status>=500)throw r}return{data:{count:0}}},markAsRead:e=>we.post(`/community/notifications/${e}/mark_as_read/`),markAllAsRead:()=>we.post("/community/notifications/mark_all_as_read/")},reviews:{getAll:e=>we.get("/community/reviews/",{params:e}),create:e=>we.post("/community/reviews/",e)}};function Xt(){const[e,t]=v.useState(!1),r=jt(),a=cl(),{language:l,setLanguage:d,t:f,isRTL:p}=qt(),{user:g,isAuthenticated:w,logout:_}=Sn(),{data:N}=el({queryKey:["notifications-count"],queryFn:()=>Zi.notifications.getUnreadCount().then(R=>R.data),enabled:w,refetchInterval:6e4,retry:!1,onError:R=>{console.warn("Failed to fetch notification count:",R)}}),{data:E}=el({queryKey:["notifications"],queryFn:()=>Zi.notifications.getAll().then(R=>R.data),enabled:w,retry:!1,onError:R=>{console.warn("Failed to fetch notifications:",R)}}),P=E?.results||[],k=N?.unread_count||0,b=rf({mutationFn:R=>Zi.notifications.markAsRead(R),onSuccess:()=>{a.invalidateQueries(["notifications"]),a.invalidateQueries(["notifications-count"])},onError:R=>{console.error("Failed to mark notification as read:",R)}}),S=async R=>{try{await b.mutateAsync(R),r("/notifications")}catch(F){console.error("Failed to handle notification click:",F),r("/notifications")}},M=()=>{d(l==="en"?"ar":"en")},I=()=>{_(),r("/")};return i.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/90 backdrop-blur-md border-b border-sage/20 font-primary",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex items-center justify-between h-20",children:[i.jsxs("div",{className:`flex items-center gap-3 ${p?"flex-row-reverse":""}`,children:[i.jsx("div",{className:"w-12 h-12 bg-forest rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Hi,{className:"w-7 h-7 text-white"})}),i.jsx("span",{className:`text-2xl font-bold ${p?"font-arabic":""}`,children:p?"":"Jaddid"})]}),i.jsxs("div",{className:`hidden md:flex items-center gap-8 ${p?"flex-row-reverse":""}`,children:[i.jsx(Rt,{to:"/",className:"text-forest font-medium",children:f("nav.home")}),i.jsx(Rt,{to:"/marketplace",className:"text-muted-foreground",children:f("nav.marketplace")}),i.jsx(Rt,{to:"/orders",className:"text-muted-foreground",children:f("nav.orders")}),i.jsx(Rt,{to:"/marketplace/favorites",className:"text-muted-foreground",children:f("nav.favourites")}),i.jsx(Rt,{to:"/services",className:"text-muted-foreground",children:f("nav.services")})]}),i.jsxs("div",{className:`hidden md:flex items-center gap-4 ${p?"flex-row-reverse":""}`,children:[i.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-full border border-sage/30",children:[i.jsx(lx,{className:"w-4 h-4"}),l==="en"?"":"English"]}),w?i.jsxs(i.Fragment,{children:[i.jsxs(_p,{children:[i.jsx(bp,{asChild:!0,children:i.jsxs("button",{className:"relative p-2 rounded-full hover:bg-cream",children:[i.jsx(hc,{className:"w-5 h-5 text-forest"}),k>0&&i.jsx(zn,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 bg-orange text-white text-xs",children:k})]})}),i.jsxs(bd,{align:"end",className:"w-96",children:[i.jsx(rm,{children:l==="en"?"Notifications":""}),i.jsx(Za,{}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:P.length===0?i.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:[i.jsx(hc,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground/50"}),l==="en"?"No notifications":"  "]}):P.slice(0,5).map(R=>i.jsxs(Xs,{onClick:()=>S(R.id),className:`flex items-start gap-3 p-3 cursor-pointer hover:bg-cream/50 ${R.is_read?"":"bg-orange/10 border-l-2 border-orange"}`,children:[i.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${R.is_read?"bg-transparent":"bg-orange"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm truncate",children:l==="en"?R.title_en:R.title_ar}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:l==="en"?R.msg_en?.length>60?`${R.msg_en.substring(0,60)}...`:R.msg_en:R.msg_ar?.length>60?`${R.msg_ar.substring(0,60)}...`:R.msg_ar}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(R.created_at).toLocaleDateString(l==="en"?"en-US":"ar-EG")})]})]},R.id))}),i.jsx(Za,{}),i.jsxs(Xs,{onClick:()=>r("/notifications"),className:"text-center text-forest font-medium hover:bg-forest/10",children:[i.jsx(hc,{className:"w-4 h-4 mr-2"}),l==="en"?"View all notifications":"  "]})]})]}),i.jsxs(_p,{children:[i.jsx(bp,{asChild:!0,children:i.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-full border border-sage/30",children:[i.jsx(m2,{className:"w-5 h-5 text-forest"}),i.jsx("span",{className:"text-sm font-medium",children:g?.first_name||g?.email?.split("@")[0]})]})}),i.jsxs(bd,{align:"end",className:"w-56",children:[i.jsxs(Xs,{onClick:()=>{const R=g?.id||g?.pk||g?.user_id||g?.uuid||g?.authId||g?._id||g?.email&&g.email.split("@")[0];r(R?`/profile/${R}`:"/profile")},children:[i.jsx(Ro,{className:"w-4 h-4 mr-2"})," Profile"]}),i.jsxs(Xs,{onClick:()=>r("/orders"),children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"})," My Orders"]}),i.jsxs(Xs,{onClick:()=>r("/marketplace/my-listings"),children:[i.jsx(at,{className:"w-4 h-4 mr-2"})," My Listings"]}),i.jsx(Za,{}),i.jsxs(Xs,{onClick:I,className:"text-red-600",children:[i.jsx(ux,{className:"w-4 h-4 mr-2"})," Logout"]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(je,{onClick:()=>r("/login"),variant:"outline",className:"px-4 py-2",children:l==="en"?"Login":" "}),i.jsx(je,{onClick:()=>r("/register"),className:"px-4 py-2 bg-forest text-white hover:bg-forest/90",children:l==="en"?"Register":" "})]})]}),i.jsx("button",{className:"md:hidden p-2",onClick:()=>t(!e),children:e?i.jsx(Ya,{}):i.jsx(S2,{})})]}),e&&i.jsx("div",{className:"md:hidden bg-background border-t border-sage/20",children:i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[i.jsx(Rt,{to:"/",className:"block text-forest font-medium",onClick:()=>t(!1),children:f("nav.home")}),i.jsx(Rt,{to:"/marketplace",className:"block text-muted-foreground",onClick:()=>t(!1),children:f("nav.marketplace")}),i.jsx(Rt,{to:"/marketplace/orders",className:"block text-muted-foreground",onClick:()=>t(!1),children:f("nav.orders")}),i.jsx(Rt,{to:"/services",className:"block text-muted-foreground",onClick:()=>t(!1),children:f("nav.services")}),i.jsx(Rt,{to:"/marketplace/favorites",className:"block text-muted-foreground",onClick:()=>t(!1),children:l==="en"?"Favourites":""}),i.jsxs("div",{className:"border-t border-sage/20 pt-4",children:[i.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-full border border-sage/30 mb-4",children:[i.jsx(lx,{className:"w-4 h-4"}),l==="en"?"":"English"]}),w?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs(_p,{children:[i.jsx(bp,{asChild:!0,children:i.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg hover:bg-cream",children:[i.jsx(hc,{className:"w-5 h-5 text-forest"}),i.jsx("span",{children:l==="en"?"Notifications":""}),k>0&&i.jsx(zn,{className:"bg-orange text-white text-xs",children:k})]})}),i.jsxs(bd,{align:"start",className:"w-80",children:[i.jsx(rm,{children:l==="en"?"Notifications":""}),i.jsx(Za,{}),i.jsx("div",{className:"max-h-64 overflow-y-auto",children:P.length===0?i.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:l==="en"?"No notifications":"  "}):P.map(R=>i.jsxs(Xs,{onClick:async()=>{try{await b.mutateAsync(R.id),r("/notifications"),t(!1)}catch(F){console.error("Failed to mark notification:",F)}},className:`flex flex-col gap-1 ${R.is_read?"":"bg-cream/60"}`,children:[i.jsx("p",{className:"font-medium",children:l==="en"?R.title_en:R.title_ar}),i.jsx("p",{className:"text-xs text-muted-foreground",children:l==="en"?R.msg_en:R.msg_ar})]},R.id))}),i.jsx(Za,{}),i.jsx(Xs,{onClick:()=>{r("/notifications"),t(!1)},className:"text-center text-forest font-medium",children:l==="en"?"View all":" "})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>{const R=g?.id||g?.pk||g?.user_id||g?.uuid;r(R?`/profile/${R}`:"/login"),t(!1)},className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg hover:bg-cream",children:[i.jsx(Ro,{className:"w-4 h-4"}),l==="en"?"Profile":" "]}),i.jsxs("button",{onClick:()=>{r("/marketplace/orders"),t(!1)},className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg hover:bg-cream",children:[i.jsx(Hi,{className:"w-4 h-4"}),l==="en"?"My Orders":""]}),i.jsxs("button",{onClick:()=>{r("/marketplace/my-listings"),t(!1)},className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg hover:bg-cream",children:[i.jsx(at,{className:"w-4 h-4"}),l==="en"?"My Listings":""]}),i.jsxs("button",{onClick:I,className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg hover:bg-red-50 text-red-600",children:[i.jsx(ux,{className:"w-4 h-4"}),l==="en"?"Logout":" "]})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>{r("/login"),t(!1)},className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg hover:bg-cream border border-sage/30",children:[i.jsx(Ro,{className:"w-4 h-4"}),l==="en"?"Login":" "]}),i.jsxs("button",{onClick:()=>{r("/register"),t(!1)},className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg bg-forest text-white hover:bg-forest/90",children:[i.jsx(Ro,{className:"w-4 h-4"}),l==="en"?"Register":" "]})]})]})]})})]})})}const aA="/assets/illustration-1-CEBhDBpI.svg",lA="/assets/login-bg-BNST4pxl.svg";function cA(){const{t:e,isRTL:t}=qt(),r=jt(),a=t?Ss:xc;return i.jsxs("section",{className:"relative min-h-screen flex items-center pt-20 overflow-hidden bg-background",children:[i.jsx("div",{className:"absolute top-20 left-10 text-sage/60 rotate-45",children:i.jsx(In,{className:"w-6 h-6"})}),i.jsx("div",{className:"absolute top-32 right-20 text-sage/50 -rotate-12",children:i.jsx(In,{className:"w-4 h-4"})}),i.jsx("div",{className:"absolute top-48 left-1/4 text-sage/40 rotate-90",children:i.jsx(In,{className:"w-5 h-5"})}),i.jsx("div",{className:"absolute top-24 right-1/3 text-sage/60 rotate-180",children:i.jsx(In,{className:"w-4 h-4"})}),i.jsx("div",{className:"absolute top-60 right-1/4 text-sage/50 rotate-45",children:i.jsx(In,{className:"w-3 h-3"})}),i.jsx("div",{className:"absolute -bottom-20 left-0 right-0 z-0 pointer-events-none",children:i.jsx("img",{src:lA,alt:"",className:"w-full h-auto opacity-70"})}),i.jsx("div",{className:"container mx-auto px-4 relative z-10",children:i.jsxs("div",{className:`grid lg:grid-cols-2 gap-16 items-center ${t?"lg:grid-flow-col-dense":""}`,children:[i.jsxs("div",{className:`text-center lg:text-start ${t?"lg:col-start-2 lg:text-end":""}`,children:[i.jsx("div",{className:"animate-fade-in-up",children:i.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-sage/10 text-forest rounded-full text-sm font-semibold mb-6",children:[i.jsx(Hi,{className:"w-4 h-4"}),e("hero.tagline")]})}),i.jsx("h1",{className:`text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight mb-6 animate-fade-in-up delay-100 ${t?"font-arabic":"font-primary"}`,children:i.jsx("span",{className:"text-gradient",children:e("hero.title")})}),i.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-xl animate-fade-in-up delay-200 mx-auto lg:mx-0",children:e("hero.subtitle")}),i.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-fade-in-up delay-300 ${t?"lg:justify-end sm:flex-row-reverse":""}`,children:[i.jsxs(je,{onClick:()=>r("/marketplace"),className:"btn-primary group",children:[e("hero.cta"),i.jsx(a,{className:`w-5 h-5 transition-transform group-hover:translate-x-1 ${t?"group-hover:-translate-x-1":""}`})]}),i.jsx(je,{onClick:()=>r("/services"),variant:"outline",className:"px-8 py-4 rounded-full font-semibold text-lg border-2 border-sage text-forest hover:bg-sage hover:text-white transition-all",children:e("hero.secondaryCta")})]}),i.jsxs("div",{className:`grid grid-cols-3 gap-6 mt-12 pt-8 border-t border-border animate-fade-in-up delay-400 ${t?"text-end":""}`,children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-3xl font-bold text-forest",children:"200+"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e("hero.stat1")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-3xl font-bold text-forest",children:"50K+"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e("hero.stat2")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-3xl font-bold text-forest",children:"25K+"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e("hero.stat3")})]})]})]}),i.jsx("div",{className:`relative flex justify-center ${t?"lg:col-start-1":""}`,children:i.jsxs("div",{className:"relative animate-scale-in",children:[i.jsx("img",{src:aA,alt:"Recycling illustration",className:"w-full max-w-4xl lg:max-w-6xl xl:max-w-7xl floating drop-shadow-2xl scale-125 lg:scale-150"}),i.jsx("div",{className:"absolute -top-16 -right-8 lg:-right-32 bg-card p-4 rounded-2xl shadow-xl animate-float border border-border",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-orange/20 rounded-full flex items-center justify-center",children:i.jsx(b0,{className:"w-6 h-6 text-orange"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-foreground",children:t?" ":"Earn Rewards"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:t?" ":"Per Kilo"})]})]})}),i.jsx("div",{className:"absolute bottom-32 -left-8 lg:-left-36 bg-card p-4 rounded-2xl shadow-xl floating-delay border border-border",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-sage/20 rounded-full flex items-center justify-center",children:i.jsx(f2,{className:"w-6 h-6 text-sage"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-foreground",children:t?" ":"Eco-Friendly"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:t?"":"Certified"})]})]})})]})})]})})]})}const uA="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20156.65%20253.3'%3e%3cdefs%3e%3cstyle%3e.cls-1{isolation:isolate;}.cls-2,.cls-7{fill:%2342301f;}.cls-2{mix-blend-mode:multiply;opacity:0.22;}.cls-3{fill:%235a733b;}.cls-4,.cls-6{fill:none;stroke:%23191919;stroke-linecap:round;stroke-width:0.5px;}.cls-4{stroke-linejoin:round;}.cls-5{fill:%23c6cc1e;}.cls-6{stroke-miterlimit:10;}%3c/style%3e%3c/defs%3e%3cg%20class='cls-1'%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='OBJECTS'%3e%3cpath%20class='cls-2'%20d='M11.35,249.83c0,1.91,19.08,3.47,42.62,3.47s42.61-1.56,42.61-3.47S77.5,246.36,54,246.36,11.35,247.91,11.35,249.83Z'/%3e%3cpath%20class='cls-3'%20d='M59.75,55.63S50.61,78.8,43.46,87.07s-16.68,46,16.29,41.47c0,0,12.31,10.19,23.43,1.69,0,0,20.26-1.36,19.46-11.86S90.33,81.12,79.21,68.31L68.09,55.5Z'/%3e%3cpath%20class='cls-3'%20d='M60,56.41s-3-16.89,0-19.55,1.2,3,6.27,3.77,6.56-2.26,8.95,1.32-8.27,15.6-8.27,15.6Z'/%3e%3cpath%20class='cls-4'%20d='M62,59.34S56.46,90,63.5,92.08,64,57.55,64,57.55s2.55,6.32,4.29,5.06S65,56.41,65,56.41a13.51,13.51,0,0,0,2.12-5.16'/%3e%3cpath%20class='cls-5'%20d='M17.75,241.76H93.87a3.9,3.9,0,0,0,3.89-3.65l8.74-136.43a3.9,3.9,0,0,0-3.89-4.15H9a3.91,3.91,0,0,0-3.89,4.15l8.74,136.43A3.91,3.91,0,0,0,17.75,241.76Z'/%3e%3crect%20class='cls-5'%20y='93.62'%20width='111.61'%20height='12.58'%20rx='3.06'%20transform='translate(111.61%20199.82)%20rotate(180)'/%3e%3cline%20class='cls-6'%20x1='108.56'%20y1='106.2'%20x2='3.06'%20y2='106.2'/%3e%3cpolygon%20class='cls-3'%20points='52.92%20163.88%2038.32%20155.58%2043.5%20163.24%2052.92%20163.88'/%3e%3cpolygon%20class='cls-3'%20points='48.84%20143.31%2062.19%20142.88%2050.5%20162.54%2040.66%20157.06%2048.84%20143.31'/%3e%3cpolygon%20class='cls-5'%20points='56.82%20152%2057.52%20150.63%2053.92%20142.79%2056.82%20152'/%3e%3cpath%20class='cls-3'%20d='M66.53,142.74a1.22,1.22,0,0,1,.36.45l7.49,16.34a1.53,1.53,0,0,1-.74,2l-7.84,3.91a1.41,1.41,0,0,1-1.95-.64L54,143.15Z'/%3e%3cpolygon%20class='cls-3'%20points='49.82%20181.04%2048.95%20198.23%2053.39%20189.62%2049.82%20181.04'/%3e%3cpolygon%20class='cls-3'%20points='33.59%20195.57%2027.35%20184.13%2049.71%20183.87%2049.22%20195.39%2033.59%20195.57'/%3e%3cpath%20class='cls-3'%20d='M25.32,180.41a1.34,1.34,0,0,1,.24-.55l11-15.26a1.51,1.51,0,0,1,2.06-.4L45.52,169a1.45,1.45,0,0,1,.3,2L31.19,191.18Z'/%3e%3cpolygon%20class='cls-5'%20points='36.37%20184.03%2037.68%20182.23%2027.35%20184.13%2036.37%20184.03'/%3e%3cpolygon%20class='cls-3'%20points='64.66%20174.8%2079.08%20164.65%2069.68%20166.49%2064.66%20174.8'/%3e%3cpolygon%20class='cls-3'%20points='85.29%20178.76%2079.4%20191.03%2067.02%20173.1%2076.63%20166.22%2085.29%20178.76'/%3e%3cpath%20class='cls-3'%20d='M77.49,195a1.6,1.6,0,0,1-.58.15l-18.38.71a1.38,1.38,0,0,1-1.45-1.41l.13-8.57a1.57,1.57,0,0,1,1.49-1.53l24.33-.9Z'/%3e%3cpolygon%20class='cls-5'%20points='74.41%20183.79%2072.23%20183.87%2079.4%20191.03%2074.41%20183.79'/%3e%3crect%20class='cls-7'%20x='21.73'%20y='232.8'%20width='9.95'%20height='17.92'%20rx='3.77'/%3e%3crect%20class='cls-7'%20x='81.08'%20y='232.8'%20width='9.95'%20height='17.92'%20rx='3.77'/%3e%3crect%20class='cls-5'%20x='73.09'%20y='46.16'%20width='111.61'%20height='12.58'%20rx='3.06'%20transform='translate(27.96%20148.25)%20rotate(-65.65)'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",dA=[{icon:qi,titleKey:"features.track.title",descKey:"features.track.desc",color:"bg-forest/10 text-forest"},{icon:b0,titleKey:"features.earn.title",descKey:"features.earn.desc",color:"bg-orange/20 text-forest"},{icon:In,titleKey:"features.eco.title",descKey:"features.eco.desc",color:"bg-sage/20 text-forest"},{icon:R2,titleKey:"features.verified.title",descKey:"features.verified.desc",color:"bg-cream text-forest"}];function fA(){const{t:e,isRTL:t}=qt();return i.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[i.jsx("img",{src:uA,alt:"",className:"absolute -right-20 top-1/2 -translate-y-1/2 w-64 opacity-10 pointer-events-none"}),i.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[i.jsxs("div",{className:`text-center max-w-2xl mx-auto mb-16 ${t?"font-arabic":"font-primary"}`,children:[i.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-sage/10 text-forest rounded-full text-sm font-semibold mb-4",children:[i.jsx(In,{className:"w-4 h-4"}),e("features.tagline")]}),i.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:e("features.title")}),i.jsx("p",{className:"text-lg text-muted-foreground",children:e("features.subtitle")})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:dA.map((r,a)=>i.jsxs("div",{className:"group bg-card p-8 rounded-3xl border border-sage/20 card-hover shadow-sm",style:{animationDelay:`${a*100}ms`},children:[i.jsx("div",{className:`w-20 h-20 ${r.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform`,children:i.jsx(r.icon,{className:"w-10 h-10",strokeWidth:2})}),i.jsx("h3",{className:`text-xl font-bold text-foreground mb-3 ${t?"font-arabic":"font-primary"}`,children:e(r.titleKey)}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e(r.descKey)})]},r.titleKey))})]})]})}const _y=[{number:"01",titleKey:"how.step1.title",descKey:"how.step1.desc",Icon:E2,iconBg:"bg-orange/20"},{number:"02",titleKey:"how.step2.title",descKey:"how.step2.desc",Icon:Qd,iconBg:"bg-sage/30"},{number:"03",titleKey:"how.step3.title",descKey:"how.step3.desc",Icon:N0,iconBg:"bg-orange/20"}];function hA(){const{t:e,isRTL:t}=qt(),r=t?Ss:xc;return i.jsxs("section",{className:"py-24 bg-forest text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-sage/10 rounded-full blur-2xl"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-orange/5 rounded-full blur-3xl"}),i.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[i.jsxs("div",{className:`text-center max-w-2xl mx-auto mb-16 ${t?"font-arabic":"font-primary"}`,children:[i.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange/20 text-orange rounded-full text-sm font-semibold mb-4",children:[i.jsx(E0,{className:"w-4 h-4"}),e("how.tagline")]}),i.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 text-white",children:e("how.title")}),i.jsx("p",{className:"text-lg text-white/80",children:e("how.subtitle")})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 lg:gap-12",children:_y.map((a,l)=>i.jsxs("div",{className:"relative group",children:[l<_y.length-1&&i.jsx("div",{className:`hidden md:flex absolute top-1/2 -translate-y-1/2 ${t?"left-0 -translate-x-full rotate-180":"right-0 translate-x-full"} items-center justify-center w-12`,children:i.jsx(r,{className:"w-6 h-6 text-orange/50"})}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-8 rounded-3xl border border-white/20 card-hover relative h-full flex flex-col shadow-xl",children:[i.jsx("div",{className:`absolute -top-5 ${t?"right-8":"left-8"} w-12 h-12 bg-orange rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg`,children:a.number}),i.jsx("div",{className:"w-full h-32 flex items-center justify-center mt-4 mb-6",children:i.jsx(a.Icon,{className:"w-16 h-16 text-white/90 group-hover:scale-110 transition-transform duration-500",strokeWidth:1.8})}),i.jsxs("div",{className:`text-center ${t?"font-arabic":"font-primary"}`,children:[i.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:e(a.titleKey)}),i.jsx("p",{className:"text-white/80 leading-relaxed",children:e(a.descKey)})]})]})]},a.number))})]})]})}const pA="/assets/cta-illustration-Cqd6Uuvy.svg";function mA(){const{t:e,isRTL:t}=qt(),r=jt(),a=t?Ss:xc;return i.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-cream/50 rounded-full blur-3xl"})}),i.jsx("div",{className:"container mx-auto px-4 relative z-10",children:i.jsx("div",{className:`max-w-5xl mx-auto bg-card rounded-[3rem] p-8 md:p-12 shadow-2xl border border-sage/20 ${t?"font-arabic":"font-primary"}`,children:i.jsxs("div",{className:`grid md:grid-cols-2 gap-8 items-center ${t?"md:grid-flow-col-dense":""}`,children:[i.jsx("div",{className:`flex justify-center ${t?"md:col-start-2":""}`,children:i.jsx("img",{src:pA,alt:"",className:"w-full max-w-sm floating drop-shadow-lg"})}),i.jsxs("div",{className:`text-center md:text-start ${t?"md:col-start-1 md:text-end":""}`,children:[i.jsx("div",{className:`flex gap-4 mb-6 justify-center md:justify-start ${t?"md:justify-end":""}`,children:i.jsx("div",{className:"w-14 h-14 bg-sage/20 rounded-full flex items-center justify-center",children:i.jsx(Hi,{className:"w-7 h-7 text-forest"})})}),i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:e("cta.title")}),i.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:e("cta.subtitle")}),i.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 justify-center md:justify-start ${t?"md:justify-end sm:flex-row-reverse":""}`,children:[i.jsxs(je,{onClick:()=>r("/register"),className:"btn-primary group",children:[e("cta.button"),i.jsx(a,{className:`w-5 h-5 transition-transform group-hover:translate-x-1 ${t?"group-hover:-translate-x-1":""}`})]}),i.jsxs(je,{onClick:()=>r("/services"),variant:"outline",className:"px-6 py-3 rounded-full font-semibold border-2 border-sage text-forest hover:bg-sage hover:text-white transition-all group",children:[i.jsx(_2,{className:"w-5 h-5"}),e("cta.secondary")]})]}),i.jsxs("div",{className:`flex flex-wrap gap-4 mt-8 pt-6 border-t border-border justify-center md:justify-start ${t?"md:justify-end":""}`,children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(N2,{className:"w-5 h-5 text-forest"}),i.jsx("span",{className:"text-sm font-medium",children:t?"":"Secure"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Qd,{className:"w-5 h-5 text-forest"}),i.jsx("span",{className:"text-sm font-medium",children:t?"":"Free"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Qa,{className:"w-5 h-5 text-forest"}),i.jsx("span",{className:"text-sm font-medium",children:t?"":"Verified"})]})]})]})]})})})]})}function Jt(){const{t:e,isRTL:t}=qt();return i.jsx("footer",{className:"bg-forest text-white",children:i.jsxs("div",{className:"container mx-auto px-4 py-16",children:[i.jsxs("div",{className:`grid md:grid-cols-2 lg:grid-cols-4 gap-12 ${t?"text-end":""}`,children:[i.jsxs("div",{children:[i.jsxs("div",{className:`flex items-center gap-3 mb-6 ${t?"flex-row-reverse justify-end":""}`,children:[i.jsx("div",{className:"w-12 h-12 bg-orange rounded-xl flex items-center justify-center",children:i.jsx(Hi,{className:"w-7 h-7 text-forest"})}),i.jsx("span",{className:`text-2xl font-bold ${t?"font-arabic":"font-primary"}`,children:t?"":"Jaddid"})]}),i.jsx("p",{className:"text-white/80 mb-6 leading-relaxed",children:e("footer.tagline")}),i.jsxs("div",{className:`flex gap-4 ${t?"justify-end":""}`,children:[i.jsx("a",{href:"#",className:"w-11 h-11 bg-sage/30 rounded-full flex items-center justify-center hover:bg-orange hover:text-forest transition-all hover:scale-110",children:i.jsx(v2,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"w-11 h-11 bg-sage/30 rounded-full flex items-center justify-center hover:bg-orange hover:text-forest transition-all hover:scale-110",children:i.jsx(O2,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"w-11 h-11 bg-sage/30 rounded-full flex items-center justify-center hover:bg-orange hover:text-forest transition-all hover:scale-110",children:i.jsx(b2,{className:"w-5 h-5"})}),i.jsx("a",{href:"#",className:"w-11 h-11 bg-sage/30 rounded-full flex items-center justify-center hover:bg-orange hover:text-forest transition-all hover:scale-110",children:i.jsx(j2,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:`text-lg font-bold mb-6 ${t?"font-arabic":"font-primary"}`,children:e("footer.quickLinks")}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx(Rt,{to:"/",className:"text-white/80 hover:text-orange transition-colors",children:e("nav.home")})}),i.jsx("li",{children:i.jsx(Rt,{to:"/marketplace",className:"text-white/80 hover:text-orange transition-colors",children:e("nav.marketplace")})}),i.jsx("li",{children:i.jsx(Rt,{to:"/marketplace/orders",className:"text-white/80 hover:text-orange transition-colors",children:e("nav.orders")})}),i.jsx("li",{children:i.jsx(Rt,{to:"/marketplace/favorites",className:"text-white/80 hover:text-orange transition-colors",children:e("nav.favourites")})}),i.jsx("li",{children:i.jsx(Rt,{to:"/services",className:"text-white/80 hover:text-orange transition-colors",children:e("nav.services")})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:`text-lg font-bold mb-6 ${t?"font-arabic":"font-primary"}`,children:e("footer.forPartners")}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-white/80 hover:text-orange transition-colors",children:t?" ":"Join as Factory"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-white/80 hover:text-orange transition-colors",children:t?" ":"Become a Courier"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-white/80 hover:text-orange transition-colors",children:t?"":"Pricing"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-white/80 hover:text-orange transition-colors",children:t?"":"Support"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:`text-lg font-bold mb-6 ${t?"font-arabic":"font-primary"}`,children:e("footer.contact")}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[i.jsx(S0,{className:"w-5 h-5 text-orange"}),i.jsx("span",{className:"text-white/80",children:"hello@jaddid.com"})]}),i.jsxs("li",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[i.jsx(Gd,{className:"w-5 h-5 text-orange"}),i.jsx("span",{className:"text-white/80",children:"+20 100 123 4567"})]}),i.jsxs("li",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[i.jsx(qi,{className:"w-5 h-5 text-orange"}),i.jsx("span",{className:"text-white/80",children:t?" ":"Cairo, Egypt"})]})]})]})]}),i.jsx("div",{className:"border-t border-sage/30 mt-12 pt-8 text-center text-white/60",children:i.jsxs("p",{children:[" 2024 Jaddid. ",e("footer.rights")]})})]})})}function gA(){return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(Xt,{}),i.jsxs("main",{children:[i.jsx(cA,{}),i.jsx(fA,{}),i.jsx(hA,{}),i.jsx(mA,{})]}),i.jsx(Jt,{})]})}const Ke={categories:{getAll:()=>we.get("/marketplace/categories/"),getById:e=>we.get(`/marketplace/categories/${e}/`),getTree:()=>we.get("/marketplace/categories/tree/"),getProducts:e=>we.get(`/marketplace/categories/${e}/products/`)},materials:{getAll:e=>we.get("/marketplace/materials/",{params:e}),getById:e=>we.get(`/marketplace/materials/${e}/`),getListings:e=>we.get(`/marketplace/materials/${e}/listings/`)},materialListings:{getAll:e=>we.get("/marketplace/material-listings/",{params:e}),getById:e=>we.get(`/marketplace/material-listings/${e}/`),getMyListings:()=>we.get("/marketplace/material-listings/my_listings/"),create:e=>we.post("/marketplace/material-listings/",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>we.patch(`/marketplace/material-listings/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>we.delete(`/marketplace/material-listings/${e}/`),toggleFavorite:e=>we.post(`/marketplace/material-listings/${e}/toggle_favorite/`),publish:e=>we.post(`/marketplace/material-listings/${e}/publish/`),getReviews:e=>we.get(`/marketplace/material-listings/${e}/reviews/`)},products:{getAll:e=>we.get("/marketplace/products/",{params:e}),getById:e=>we.get(`/marketplace/products/${e}/`),getMyProducts:()=>we.get("/marketplace/products/my_products/"),create:e=>we.post("/marketplace/products/",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>we.patch(`/marketplace/products/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>we.delete(`/marketplace/products/${e}/`),toggleFavorite:e=>we.post(`/marketplace/products/${e}/toggle_favorite/`),publish:e=>we.post(`/marketplace/products/${e}/publish/`),getReviews:e=>we.get(`/marketplace/products/${e}/reviews/`)},cart:{get:()=>we.get("/marketplace/cart/"),addItem:e=>we.post("/marketplace/cart/add_item/",e),updateItem:e=>we.post("/marketplace/cart/update_item/",e),removeItem:e=>we.post("/marketplace/cart/remove_item/",e),clear:()=>we.post("/marketplace/cart/clear/")},favorites:{getAll:()=>we.get("/marketplace/favorites/"),add:e=>we.post("/marketplace/favorites/",e),remove:e=>we.delete(`/marketplace/favorites/${e}/`)},orders:{getAll:()=>we.get("/orders/orders/"),getById:e=>we.get(`/orders/orders/${e}/`),getPurchases:()=>we.get("/orders/"),getSales:()=>we.get("/orders/"),create:e=>we.post("/orders/orders/",e),confirm:e=>we.post(`/orders/orders/${e}/confirm/`),complete:e=>we.post(`/orders/orders/${e}/complete/`),cancel:e=>we.post(`/orders/orders/${e}/cancel/`)},reviews:{getAll:e=>we.get("/marketplace/reviews/",{params:e}),create:e=>we.post("/marketplace/reviews/",e),update:(e,t)=>we.patch(`/marketplace/reviews/${e}/`,t),delete:e=>we.delete(`/marketplace/reviews/${e}/`)},messages:{getAll:()=>we.get("/marketplace/messages/"),getInbox:()=>we.get("/marketplace/messages/inbox/"),getSent:()=>we.get("/marketplace/messages/sent/"),send:e=>we.post("/marketplace/messages/",e),markRead:e=>we.post(`/marketplace/messages/${e}/mark_read/`)},reports:{getAll:()=>we.get("/marketplace/reports/"),getMyReports:()=>we.get("/marketplace/reports/my_reports/"),create:e=>we.post("/marketplace/reports/",e)}},vA=async(e,t)=>{for(const r of e)try{return await we.get(r,t)}catch(a){if(!a.response||a.response.status>=500)throw a}throw new Error("All endpoints failed")},ys={getCurrentUser:async()=>we.get("/accounts/me/"),getUserById:async e=>{const t=[`/accounts/users/${e}/`,`/accounts/profile/${e}/`,`/accounts/user/${e}/`];return vA(t)},getUserByEmail:async e=>{if(!e)return Promise.resolve(null);const t=[`/accounts/users/?email=${encodeURIComponent(e)}`,`/accounts/users/search/?email=${encodeURIComponent(e)}`,`/accounts/user-by-email/${encodeURIComponent(e)}/`,`/users/?email=${encodeURIComponent(e)}`];for(const r of t)try{const a=await we.get(r);if(Array.isArray(a.data)){if(a.data.length>0)return a.data[0]}else if(a.data?.results){if(a.data.results.length>0)return a.data.results[0]}else if(a.data?.id)return a.data}catch{}return null},updateUser:(e,t)=>we.patch(`/accounts/users/${e}/`,t),updateUserPut:(e,t)=>we.put(`/accounts/users/${e}/`,t),updateCurrentUser:e=>we.patch("/accounts/me/basic/",e),updateCurrentUserPut:e=>we.put("/accounts/me/update/",e),deleteCurrentUser:()=>we.delete("/accounts/me/delete/"),getProfile:async e=>ys.getUserById(e),getUserProducts:async(e,t={})=>{if(!e)return Promise.resolve({data:[]});const r=["owner","user","seller","owner_id","user_id"];for(const a of r)try{const l=await we.get("/marketplace/products/",{params:{...t,[a]:e}});if(l&&(Array.isArray(l.data)||l.data))return l}catch{}return Promise.resolve({data:[]})},getUserMaterialListings:async(e,t={})=>{if(!e)return Promise.resolve({data:[]});const r=["owner","user","seller","owner_id","user_id"];for(const a of r)try{const l=await we.get("/marketplace/material-listings/",{params:{...t,[a]:e}});if(l&&(Array.isArray(l.data)||l.data))return l}catch{}return Promise.resolve({data:[]})},uploadProfileImage:e=>we.put("/accounts/profile/image/",e,{headers:{"Content-Type":"multipart/form-data"}}),getUserReviews:e=>we.get(`/community/reviews/?target_user=${e}`),createReview:e=>Ke.reviews.create(e),updateReview:(e,t)=>Ke.reviews.update(e,t),deleteReview:e=>Ke.reviews.delete(e),createProduct:e=>Ke.products.create(e),updateProduct:(e,t)=>Ke.products.update(e,t),deleteProduct:e=>Ke.products.delete(e),createMaterialListing:e=>Ke.materialListings.create(e),updateMaterialListing:(e,t)=>Ke.materialListings.update(e,t),deleteMaterialListing:e=>Ke.materialListings.delete(e)};function xA(){const e=jt(),{login:t}=Sn(),[r,a]=v.useState(""),[l,d]=v.useState(""),[f,p]=v.useState(""),[g,w]=v.useState(!1),_=async N=>{N.preventDefault(),p(""),w(!0);try{const E=await we.post("/accounts/login/",{email:r,password:l});console.log("Login response:",E.data);const{tokens:P,user:k}=E.data,b=P?.access||P?.token||P;localStorage.setItem("access_token",b),P?.refresh&&localStorage.setItem("refresh_token",P.refresh),console.log("User data:",k),t(k,b),console.log("Token in localStorage after login:",localStorage.getItem("access_token")),console.log("User in localStorage after login:",localStorage.getItem("user")),e("/")}catch(E){console.error("Login error:",E);const P=E.response?.data?.detail||E.response?.data?.message||E.response?.data?.error||E.message||"   / Login failed";p(P)}finally{w(!1)}};return i.jsx("div",{className:"login-page",children:i.jsxs("div",{className:"login-form-container",children:[i.jsx("h1",{className:"text-3xl font-bold text-forest mb-6 text-center",children:"Welcome Back"}),i.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4",children:[f&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),i.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:N=>a(N.target.value),className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",required:!0,disabled:g}),i.jsx("input",{type:"password",placeholder:"Password",value:l,onChange:N=>d(N.target.value),className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",required:!0,disabled:g}),i.jsx("button",{type:"submit",disabled:g,className:"px-4 py-3 bg-forest text-white rounded-lg hover:bg-forest/90 disabled:bg-forest/50 disabled:cursor-not-allowed transition-all font-medium shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:g?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):"Login"})]}),i.jsxs("p",{className:"mt-4 text-center text-muted-foreground",children:["Don't have an account?"," ",i.jsx("span",{className:"text-orange hover:underline cursor-pointer font-medium",onClick:()=>e("/register"),children:"Register"})]})]})})}function by(e,[t,r]){return Math.min(r,Math.max(t,e))}function yA(e){const t=wA(e),r=v.forwardRef((a,l)=>{const{children:d,...f}=a,p=v.Children.toArray(d),g=p.find(bA);if(g){const w=g.props.children,_=p.map(N=>N===g?v.Children.count(w)>1?v.Children.only(null):v.isValidElement(w)?w.props.children:null:N);return i.jsx(t,{...f,ref:l,children:v.isValidElement(w)?v.cloneElement(w,void 0,_):null})}return i.jsx(t,{...f,ref:l,children:d})});return r.displayName=`${e}.Slot`,r}function wA(e){const t=v.forwardRef((r,a)=>{const{children:l,...d}=r;if(v.isValidElement(l)){const f=NA(l),p=jA(d,l.props);return l.type!==v.Fragment&&(p.ref=a?si(a,f):f),v.cloneElement(l,p)}return v.Children.count(l)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _A=Symbol("radix.slottable");function bA(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_A}function jA(e,t){const r={...t};for(const a in t){const l=e[a],d=t[a];/^on[A-Z]/.test(a)?l&&d?r[a]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[a]=l):a==="style"?r[a]={...l,...d}:a==="className"&&(r[a]=[l,d].filter(Boolean).join(" "))}return{...e,...r}}function NA(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function SA(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CA=[" ","Enter","ArrowUp","ArrowDown"],EA=[" ","Enter"],Uo="Select",[_f,bf,PA]=Vd(Uo),[hl]=Ns(Uo,[PA,al]),jf=al(),[kA,Xi]=hl(Uo),[TA,RA]=hl(Uo),wb=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:l,onOpenChange:d,value:f,defaultValue:p,onValueChange:g,dir:w,name:_,autoComplete:N,disabled:E,required:P,form:k}=e,b=jf(t),[S,M]=v.useState(null),[I,R]=v.useState(null),[F,V]=v.useState(!1),re=lf(w),[ee,se]=Io({prop:a,defaultProp:l??!1,onChange:d,caller:Uo}),[K,X]=Io({prop:f,defaultProp:p,onChange:g,caller:Uo}),ae=v.useRef(null),Z=S?k||!!S.closest("form"):!0,[ue,ie]=v.useState(new Set),pe=Array.from(ue).map(he=>he.props.value).join(";");return i.jsx(iw,{...b,children:i.jsxs(kA,{required:P,scope:t,trigger:S,onTriggerChange:M,valueNode:I,onValueNodeChange:R,valueNodeHasChildren:F,onValueNodeHasChildrenChange:V,contentId:ws(),value:K,onValueChange:X,open:ee,onOpenChange:se,dir:re,triggerPointerDownPosRef:ae,disabled:E,children:[i.jsx(_f.Provider,{scope:t,children:i.jsx(TA,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(he=>{ie(me=>new Set(me).add(he))},[]),onNativeOptionRemove:v.useCallback(he=>{ie(me=>{const B=new Set(me);return B.delete(he),B})},[]),children:r})}),Z?i.jsxs(Wb,{"aria-hidden":!0,required:P,tabIndex:-1,name:_,autoComplete:N,value:K,onChange:he=>X(he.target.value),disabled:E,form:k,children:[K===void 0?i.jsx("option",{value:""}):null,Array.from(ue)]},pe):null]})})};wb.displayName=Uo;var _b="SelectTrigger",bb=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...l}=e,d=jf(r),f=Xi(_b,r),p=f.disabled||a,g=dt(t,f.onTriggerChange),w=bf(r),_=v.useRef("touch"),[N,E,P]=Zb(b=>{const S=w().filter(R=>!R.disabled),M=S.find(R=>R.value===f.value),I=qb(S,b,M);I!==void 0&&f.onValueChange(I.value)}),k=b=>{p||(f.onOpenChange(!0),P()),b&&(f.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return i.jsx(Am,{asChild:!0,...d,children:i.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Vb(f.value)?"":void 0,...l,ref:g,onClick:Se(l.onClick,b=>{b.currentTarget.focus(),_.current!=="mouse"&&k(b)}),onPointerDown:Se(l.onPointerDown,b=>{_.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(k(b),b.preventDefault())}),onKeyDown:Se(l.onKeyDown,b=>{const S=N.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&E(b.key),!(S&&b.key===" ")&&CA.includes(b.key)&&(k(),b.preventDefault())})})})});bb.displayName=_b;var jb="SelectValue",Nb=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:l,children:d,placeholder:f="",...p}=e,g=Xi(jb,r),{onValueNodeHasChildrenChange:w}=g,_=d!==void 0,N=dt(t,g.onValueNodeChange);return zt(()=>{w(_)},[w,_]),i.jsx(Ze.span,{...p,ref:N,style:{pointerEvents:"none"},children:Vb(g.value)?i.jsx(i.Fragment,{children:f}):d})});Nb.displayName=jb;var LA="SelectIcon",Sb=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...l}=e;return i.jsx(Ze.span,{"aria-hidden":!0,...l,ref:t,children:a||""})});Sb.displayName=LA;var AA="SelectPortal",Cb=e=>i.jsx(kc,{asChild:!0,...e});Cb.displayName=AA;var Ho="SelectContent",Eb=v.forwardRef((e,t)=>{const r=Xi(Ho,e.__scopeSelect),[a,l]=v.useState();if(zt(()=>{l(new DocumentFragment)},[]),!r.open){const d=a;return d?Zo.createPortal(i.jsx(Pb,{scope:e.__scopeSelect,children:i.jsx(_f.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),d):null}return i.jsx(kb,{...e,ref:t})});Eb.displayName=Ho;var Zr=10,[Pb,Ji]=hl(Ho),MA="SelectContentImpl",OA=yA("SelectContent.RemoveScroll"),kb=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:d,onPointerDownOutside:f,side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:N,collisionBoundary:E,collisionPadding:P,sticky:k,hideWhenDetached:b,avoidCollisions:S,...M}=e,I=Xi(Ho,r),[R,F]=v.useState(null),[V,re]=v.useState(null),ee=dt(t,de=>F(de)),[se,K]=v.useState(null),[X,ae]=v.useState(null),Z=bf(r),[ue,ie]=v.useState(!1),pe=v.useRef(!1);v.useEffect(()=>{if(R)return Vm(R)},[R]),Wm();const he=v.useCallback(de=>{const[Ne,...Le]=Z().map(tt=>tt.ref.current),[ke]=Le.slice(-1),ze=document.activeElement;for(const tt of de)if(tt===ze||(tt?.scrollIntoView({block:"nearest"}),tt===Ne&&V&&(V.scrollTop=0),tt===ke&&V&&(V.scrollTop=V.scrollHeight),tt?.focus(),document.activeElement!==ze))return},[Z,V]),me=v.useCallback(()=>he([se,R]),[he,se,R]);v.useEffect(()=>{ue&&me()},[ue,me]);const{onOpenChange:B,triggerPointerDownPosRef:G}=I;v.useEffect(()=>{if(R){let de={x:0,y:0};const Ne=ke=>{de={x:Math.abs(Math.round(ke.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(ke.pageY)-(G.current?.y??0))}},Le=ke=>{de.x<=10&&de.y<=10?ke.preventDefault():R.contains(ke.target)||B(!1),document.removeEventListener("pointermove",Ne),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Le,{capture:!0})}}},[R,B,G]),v.useEffect(()=>{const de=()=>B(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[B]);const[J,O]=Zb(de=>{const Ne=Z().filter(ze=>!ze.disabled),Le=Ne.find(ze=>ze.ref.current===document.activeElement),ke=qb(Ne,de,Le);ke&&setTimeout(()=>ke.ref.current.focus())}),H=v.useCallback((de,Ne,Le)=>{const ke=!pe.current&&!Le;(I.value!==void 0&&I.value===Ne||ke)&&(K(de),ke&&(pe.current=!0))},[I.value]),$=v.useCallback(()=>R?.focus(),[R]),W=v.useCallback((de,Ne,Le)=>{const ke=!pe.current&&!Le;(I.value!==void 0&&I.value===Ne||ke)&&ae(de)},[I.value]),Y=a==="popper"?lm:Tb,Q=Y===lm?{side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:N,collisionBoundary:E,collisionPadding:P,sticky:k,hideWhenDetached:b,avoidCollisions:S}:{};return i.jsx(Pb,{scope:r,content:R,viewport:V,onViewportChange:re,itemRefCallback:H,selectedItem:se,onItemLeave:$,itemTextRefCallback:W,focusSelectedItem:me,selectedItemText:X,position:a,isPositioned:ue,searchRef:J,children:i.jsx(ff,{as:OA,allowPinchZoom:!0,children:i.jsx(cf,{asChild:!0,trapped:I.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Se(l,de=>{I.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:i.jsx(rl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:i.jsx(Y,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:de=>de.preventDefault(),...M,...Q,onPlaced:()=>ie(!0),ref:ee,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Se(M.onKeyDown,de=>{const Ne=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ne&&de.key.length===1&&O(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let ke=Z().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(de.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const ze=de.target,tt=ke.indexOf(ze);ke=ke.slice(tt+1)}setTimeout(()=>he(ke)),de.preventDefault()}})})})})})})});kb.displayName=MA;var IA="SelectItemAlignedPosition",Tb=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...l}=e,d=Xi(Ho,r),f=Ji(Ho,r),[p,g]=v.useState(null),[w,_]=v.useState(null),N=dt(t,ee=>_(ee)),E=bf(r),P=v.useRef(!1),k=v.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:M,focusSelectedItem:I}=f,R=v.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&w&&b&&S&&M){const ee=d.trigger.getBoundingClientRect(),se=w.getBoundingClientRect(),K=d.valueNode.getBoundingClientRect(),X=M.getBoundingClientRect();if(d.dir!=="rtl"){const ze=X.left-se.left,tt=K.left-ze,Nt=ee.left-tt,gn=ee.width+Nt,kr=Math.max(gn,se.width),fr=window.innerWidth-Zr,Un=by(tt,[Zr,Math.max(Zr,fr-kr)]);p.style.minWidth=gn+"px",p.style.left=Un+"px"}else{const ze=se.right-X.right,tt=window.innerWidth-K.right-ze,Nt=window.innerWidth-ee.right-tt,gn=ee.width+Nt,kr=Math.max(gn,se.width),fr=window.innerWidth-Zr,Un=by(tt,[Zr,Math.max(Zr,fr-kr)]);p.style.minWidth=gn+"px",p.style.right=Un+"px"}const ae=E(),Z=window.innerHeight-Zr*2,ue=b.scrollHeight,ie=window.getComputedStyle(w),pe=parseInt(ie.borderTopWidth,10),he=parseInt(ie.paddingTop,10),me=parseInt(ie.borderBottomWidth,10),B=parseInt(ie.paddingBottom,10),G=pe+he+ue+B+me,J=Math.min(S.offsetHeight*5,G),O=window.getComputedStyle(b),H=parseInt(O.paddingTop,10),$=parseInt(O.paddingBottom,10),W=ee.top+ee.height/2-Zr,Y=Z-W,Q=S.offsetHeight/2,de=S.offsetTop+Q,Ne=pe+he+de,Le=G-Ne;if(Ne<=W){const ze=ae.length>0&&S===ae[ae.length-1].ref.current;p.style.bottom="0px";const tt=w.clientHeight-b.offsetTop-b.offsetHeight,Nt=Math.max(Y,Q+(ze?$:0)+tt+me),gn=Ne+Nt;p.style.height=gn+"px"}else{const ze=ae.length>0&&S===ae[0].ref.current;p.style.top="0px";const Nt=Math.max(W,pe+b.offsetTop+(ze?H:0)+Q)+Le;p.style.height=Nt+"px",b.scrollTop=Ne-W+b.offsetTop}p.style.margin=`${Zr}px 0`,p.style.minHeight=J+"px",p.style.maxHeight=Z+"px",a?.(),requestAnimationFrame(()=>P.current=!0)}},[E,d.trigger,d.valueNode,p,w,b,S,M,d.dir,a]);zt(()=>R(),[R]);const[F,V]=v.useState();zt(()=>{w&&V(window.getComputedStyle(w).zIndex)},[w]);const re=v.useCallback(ee=>{ee&&k.current===!0&&(R(),I?.(),k.current=!1)},[R,I]);return i.jsx(FA,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:P,onScrollButtonChange:re,children:i.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:i.jsx(Ze.div,{...l,ref:N,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Tb.displayName=IA;var DA="SelectPopperPosition",lm=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:l=Zr,...d}=e,f=jf(r);return i.jsx(Mm,{...f,...d,ref:t,align:a,collisionPadding:l,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lm.displayName=DA;var[FA,sg]=hl(Ho,{}),cm="SelectViewport",Rb=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...l}=e,d=Ji(cm,r),f=sg(cm,r),p=dt(t,d.onViewportChange),g=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(_f.Slot,{scope:r,children:i.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Se(l.onScroll,w=>{const _=w.currentTarget,{contentWrapper:N,shouldExpandOnScrollRef:E}=f;if(E?.current&&N){const P=Math.abs(g.current-_.scrollTop);if(P>0){const k=window.innerHeight-Zr*2,b=parseFloat(N.style.minHeight),S=parseFloat(N.style.height),M=Math.max(b,S);if(M<k){const I=M+P,R=Math.min(k,I),F=I-R;N.style.height=R+"px",N.style.bottom==="0px"&&(_.scrollTop=F>0?F:0,N.style.justifyContent="flex-end")}}}g.current=_.scrollTop})})})]})});Rb.displayName=cm;var Lb="SelectGroup",[zA,BA]=hl(Lb),$A=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,l=ws();return i.jsx(zA,{scope:r,id:l,children:i.jsx(Ze.div,{role:"group","aria-labelledby":l,...a,ref:t})})});$A.displayName=Lb;var Ab="SelectLabel",Mb=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,l=BA(Ab,r);return i.jsx(Ze.div,{id:l.id,...a,ref:t})});Mb.displayName=Ab;var Bd="SelectItem",[UA,Ob]=hl(Bd),Ib=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:l=!1,textValue:d,...f}=e,p=Xi(Bd,r),g=Ji(Bd,r),w=p.value===a,[_,N]=v.useState(d??""),[E,P]=v.useState(!1),k=dt(t,I=>g.itemRefCallback?.(I,a,l)),b=ws(),S=v.useRef("touch"),M=()=>{l||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(UA,{scope:r,value:a,disabled:l,textId:b,isSelected:w,onItemTextChange:v.useCallback(I=>{N(R=>R||(I?.textContent??"").trim())},[]),children:i.jsx(_f.ItemSlot,{scope:r,value:a,disabled:l,textValue:_,children:i.jsx(Ze.div,{role:"option","aria-labelledby":b,"data-highlighted":E?"":void 0,"aria-selected":w&&E,"data-state":w?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...f,ref:k,onFocus:Se(f.onFocus,()=>P(!0)),onBlur:Se(f.onBlur,()=>P(!1)),onClick:Se(f.onClick,()=>{S.current!=="mouse"&&M()}),onPointerUp:Se(f.onPointerUp,()=>{S.current==="mouse"&&M()}),onPointerDown:Se(f.onPointerDown,I=>{S.current=I.pointerType}),onPointerMove:Se(f.onPointerMove,I=>{S.current=I.pointerType,l?g.onItemLeave?.():S.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(f.onPointerLeave,I=>{I.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:Se(f.onKeyDown,I=>{g.searchRef?.current!==""&&I.key===" "||(EA.includes(I.key)&&M(),I.key===" "&&I.preventDefault())})})})})});Ib.displayName=Bd;var mc="SelectItemText",Db=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:l,...d}=e,f=Xi(mc,r),p=Ji(mc,r),g=Ob(mc,r),w=RA(mc,r),[_,N]=v.useState(null),E=dt(t,M=>N(M),g.onItemTextChange,M=>p.itemTextRefCallback?.(M,g.value,g.disabled)),P=_?.textContent,k=v.useMemo(()=>i.jsx("option",{value:g.value,disabled:g.disabled,children:P},g.value),[g.disabled,g.value,P]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=w;return zt(()=>(b(k),()=>S(k)),[b,S,k]),i.jsxs(i.Fragment,{children:[i.jsx(Ze.span,{id:g.textId,...d,ref:E}),g.isSelected&&f.valueNode&&!f.valueNodeHasChildren?Zo.createPortal(d.children,f.valueNode):null]})});Db.displayName=mc;var Fb="SelectItemIndicator",zb=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return Ob(Fb,r).isSelected?i.jsx(Ze.span,{"aria-hidden":!0,...a,ref:t}):null});zb.displayName=Fb;var um="SelectScrollUpButton",Bb=v.forwardRef((e,t)=>{const r=Ji(um,e.__scopeSelect),a=sg(um,e.__scopeSelect),[l,d]=v.useState(!1),f=dt(t,a.onScrollButtonChange);return zt(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=g.scrollTop>0;d(w)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?i.jsx(Ub,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});Bb.displayName=um;var dm="SelectScrollDownButton",$b=v.forwardRef((e,t)=>{const r=Ji(dm,e.__scopeSelect),a=sg(dm,e.__scopeSelect),[l,d]=v.useState(!1),f=dt(t,a.onScrollButtonChange);return zt(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=g.scrollHeight-g.clientHeight,_=Math.ceil(g.scrollTop)<w;d(_)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?i.jsx(Ub,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});$b.displayName=dm;var Ub=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...l}=e,d=Ji("SelectScrollButton",r),f=v.useRef(null),p=bf(r),g=v.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),zt(()=>{p().find(_=>_.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[p]),i.jsx(Ze.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:Se(l.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(a,50))}),onPointerMove:Se(l.onPointerMove,()=>{d.onItemLeave?.(),f.current===null&&(f.current=window.setInterval(a,50))}),onPointerLeave:Se(l.onPointerLeave,()=>{g()})})}),HA="SelectSeparator",Hb=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return i.jsx(Ze.div,{"aria-hidden":!0,...a,ref:t})});Hb.displayName=HA;var fm="SelectArrow",WA=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,l=jf(r),d=Xi(fm,r),f=Ji(fm,r);return d.open&&f.position==="popper"?i.jsx(Om,{...l,...a,ref:t}):null});WA.displayName=fm;var VA="SelectBubbleInput",Wb=v.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const l=v.useRef(null),d=dt(a,l),f=SA(t);return v.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(g,"value").set;if(f!==t&&_){const N=new Event("change",{bubbles:!0});_.call(p,t),p.dispatchEvent(N)}},[f,t]),i.jsx(Ze.select,{...r,style:{...Qy,...r.style},ref:d,defaultValue:t})});Wb.displayName=VA;function Vb(e){return e===""||e===void 0}function Zb(e){const t=Nn(e),r=v.useRef(""),a=v.useRef(0),l=v.useCallback(f=>{const p=r.current+f;t(p),(function g(w){r.current=w,window.clearTimeout(a.current),w!==""&&(a.current=window.setTimeout(()=>g(""),1e3))})(p)},[t]),d=v.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,l,d]}function qb(e,t,r){const l=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let f=ZA(e,Math.max(d,0));l.length===1&&(f=f.filter(w=>w!==r));const g=f.find(w=>w.textValue.toLowerCase().startsWith(l.toLowerCase()));return g!==r?g:void 0}function ZA(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var qA=wb,Kb=bb,KA=Nb,GA=Sb,QA=Cb,Gb=Eb,YA=Rb,Qb=Mb,Yb=Ib,XA=Db,JA=zb,Xb=Bb,Jb=$b,e1=Hb;const Js=qA,ei=KA,ms=v.forwardRef(({className:e,children:t,...r},a)=>i.jsxs(Kb,{ref:a,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(GA,{asChild:!0,children:i.jsx(w0,{className:"h-4 w-4 opacity-50"})})]}));ms.displayName=Kb.displayName;const t1=v.forwardRef(({className:e,...t},r)=>i.jsx(Xb,{ref:r,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(p2,{className:"h-4 w-4"})}));t1.displayName=Xb.displayName;const n1=v.forwardRef(({className:e,...t},r)=>i.jsx(Jb,{ref:r,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(w0,{className:"h-4 w-4"})}));n1.displayName=Jb.displayName;const gs=v.forwardRef(({className:e,children:t,position:r="popper",...a},l)=>i.jsx(QA,{children:i.jsxs(Gb,{ref:l,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[i.jsx(t1,{}),i.jsx(YA,{className:We("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(n1,{})]})}));gs.displayName=Gb.displayName;const eM=v.forwardRef(({className:e,...t},r)=>i.jsx(Qb,{ref:r,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eM.displayName=Qb.displayName;const lt=v.forwardRef(({className:e,children:t,...r},a)=>i.jsxs(Yb,{ref:a,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(JA,{children:i.jsx(y0,{className:"h-4 w-4"})})}),i.jsx(XA,{children:t})]}));lt.displayName=Yb.displayName;const tM=v.forwardRef(({className:e,...t},r)=>i.jsx(e1,{ref:r,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));tM.displayName=e1.displayName;function nM(){const e=jt(),{login:t}=Sn(),[r,a]=v.useState(""),[l,d]=v.useState(""),[f,p]=v.useState(""),[g,w]=v.useState(""),[_,N]=v.useState(""),[E,P]=v.useState(""),[k,b]=v.useState(""),[S,M]=v.useState(!1),I=async R=>{if(R.preventDefault(),b(""),g!==_){b("   ! / Passwords do not match!");return}if(g.length<8){b("     8    / Password must be at least 8 characters");return}if(!E){b("    / Please select account type");return}M(!0);try{const F=await we.post("/accounts/register/",{first_name:r,last_name:l,email:f,password:g,confirm_password:_,role:E});console.log("Registration successful:",F.data);const{tokens:V,user:re}=F.data;if(V){const{access:ee,refresh:se}=V;localStorage.setItem("access_token",ee),localStorage.setItem("refresh_token",se),t(re,ee),e("/")}else alert("  ! / Registration successful!"),e("/login")}catch(F){console.error("Registration error:",F),console.error("Backend Error:",F.response?.data||F.message);let V="";if(F.response?.data){const re=F.response.data;re.email?V=` : ${Array.isArray(re.email)?re.email.join(", "):re.email}`:re.password?V=` : ${Array.isArray(re.password)?re.password.join(", "):re.password}`:re.first_name?V=` : ${Array.isArray(re.first_name)?re.first_name.join(", "):re.first_name}`:re.last_name?V=` : ${Array.isArray(re.last_name)?re.last_name.join(", "):re.last_name}`:re.detail?V=re.detail:re.message?V=re.message:V=Object.entries(re).map(([se,K])=>`${se}: ${Array.isArray(K)?K.join(", "):K}`).join(`
`)||" ! / Registration failed!"}else F.message==="Network Error"?V="   !     / Network Error! Check if backend is running":V=F.message||" ! / Registration failed!";b(V)}finally{M(!1)}};return i.jsx("div",{className:"register-page",children:i.jsxs("div",{className:"register-form-container",children:[i.jsx("h1",{className:"text-3xl font-bold text-forest mb-6 text-center",children:"Create Account"}),i.jsxs("form",{onSubmit:I,className:"flex flex-col gap-4",children:[k&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:k}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"First Name",value:r,onChange:R=>a(R.target.value),className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",required:!0,disabled:S}),i.jsx("input",{type:"text",placeholder:"Last Name",value:l,onChange:R=>d(R.target.value),className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",required:!0,disabled:S})]}),i.jsx("input",{type:"email",placeholder:"Email",value:f,onChange:R=>p(R.target.value),className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",required:!0,disabled:S}),i.jsx("input",{type:"password",placeholder:"Password",value:g,onChange:R=>w(R.target.value),className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",required:!0,disabled:S}),i.jsx("input",{type:"password",placeholder:"Confirm Password",value:_,onChange:R=>N(R.target.value),className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",required:!0,disabled:S}),i.jsxs(Js,{value:E,onValueChange:P,disabled:S,children:[i.jsx(ms,{className:"px-4 py-3 border border-sage/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-white/50",children:i.jsx(ei,{placeholder:"Select Account Type"})}),i.jsx(gs,{children:i.jsx(lt,{value:"Individual",children:"Individual"})})]}),i.jsx("button",{type:"submit",disabled:S,className:"px-4 py-3 bg-forest text-white rounded-lg hover:bg-forest/90 disabled:bg-forest/50 disabled:cursor-not-allowed transition-all font-medium shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):"Register"})]}),i.jsxs("p",{className:"mt-4 text-center text-muted-foreground",children:["Already have an account?"," ",i.jsx("span",{className:"text-orange hover:underline cursor-pointer font-medium",onClick:()=>e("/login"),children:"Login"})]})]})})}const rM=()=>{const e=Ko();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},bt=v.forwardRef(({className:e,type:t,...r},a)=>i.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));bt.displayName="Input";const Ve=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ve.displayName="Card";const ct=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:We("flex flex-col space-y-1.5 p-6",e),...t}));ct.displayName="CardHeader";const ut=v.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));ut.displayName="CardTitle";const pl=v.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:We("text-sm text-muted-foreground",e),...t}));pl.displayName="CardDescription";const Ge=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:We("p-6 pt-0",e),...t}));Ge.displayName="CardContent";const Wo=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:We("flex items-center p-6 pt-0",e),...t}));Wo.displayName="CardFooter";var Nf="Tabs",[sM]=Ns(Nf,[uf]),r1=uf(),[iM,ig]=sM(Nf),s1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:l,defaultValue:d,orientation:f="horizontal",dir:p,activationMode:g="automatic",...w}=e,_=lf(p),[N,E]=Io({prop:a,onChange:l,defaultProp:d??"",caller:Nf});return i.jsx(iM,{scope:r,baseId:ws(),value:N,onValueChange:E,orientation:f,dir:_,activationMode:g,children:i.jsx(Ze.div,{dir:_,"data-orientation":f,...w,ref:t})})});s1.displayName=Nf;var i1="TabsList",o1=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...l}=e,d=ig(i1,r),f=r1(r);return i.jsx(qw,{asChild:!0,...f,orientation:d.orientation,dir:d.dir,loop:a,children:i.jsx(Ze.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:t})})});o1.displayName=i1;var a1="TabsTrigger",l1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:l=!1,...d}=e,f=ig(a1,r),p=r1(r),g=d1(f.baseId,a),w=f1(f.baseId,a),_=a===f.value;return i.jsx(Kw,{asChild:!0,...p,focusable:!l,active:_,children:i.jsx(Ze.button,{type:"button",role:"tab","aria-selected":_,"aria-controls":w,"data-state":_?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:g,...d,ref:t,onMouseDown:Se(e.onMouseDown,N=>{!l&&N.button===0&&N.ctrlKey===!1?f.onValueChange(a):N.preventDefault()}),onKeyDown:Se(e.onKeyDown,N=>{[" ","Enter"].includes(N.key)&&f.onValueChange(a)}),onFocus:Se(e.onFocus,()=>{const N=f.activationMode!=="manual";!_&&!l&&N&&f.onValueChange(a)})})})});l1.displayName=a1;var c1="TabsContent",u1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:l,children:d,...f}=e,p=ig(c1,r),g=d1(p.baseId,a),w=f1(p.baseId,a),_=a===p.value,N=v.useRef(_);return v.useEffect(()=>{const E=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(E)},[]),i.jsx(Xr,{present:l||_,children:({present:E})=>i.jsx(Ze.div,{"data-state":_?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":g,hidden:!E,id:w,tabIndex:0,...f,ref:t,style:{...e.style,animationDuration:N.current?"0s":void 0},children:E&&d})})});u1.displayName=c1;function d1(e,t){return`${e}-trigger-${t}`}function f1(e,t){return`${e}-content-${t}`}var oM=s1,h1=o1,p1=l1,m1=u1;const Bc=oM,ml=v.forwardRef(({className:e,...t},r)=>i.jsx(h1,{ref:r,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ml.displayName=h1.displayName;const ur=v.forwardRef(({className:e,...t},r)=>i.jsx(p1,{ref:r,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ur.displayName=p1.displayName;const dr=v.forwardRef(({className:e,...t},r)=>i.jsx(m1,{ref:r,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dr.displayName=m1.displayName;const aM=()=>{const{language:e}=qt(),t=e==="ar",[r,a]=v.useState([]),[l,d]=v.useState([]),[f,p]=v.useState([]),[g,w]=v.useState(!0),[_,N]=v.useState(""),[E,P]=v.useState("all"),[k,b]=v.useState("-created_at"),{toast:S}=Yr(),{isAuthenticated:M,user:I}=Sn(),R=jt(),F=async(K,X)=>{if(!I){S({title:t?"  ":"Login Required",description:t?"      ":"Please login to add items to cart",variant:"destructive"}),R("/login");return}try{const ae=X==="product"?{product_id:K.id,quantity:1}:{material_listing_id:K.id,quantity:1};await Ke.cart.addItem(ae),S({title:t?" ":"Success",description:t?"    ":"Item added to cart"})}catch(ae){console.error("Cart error:",ae),S({title:t?"":"Error",description:ae.response?.data?.detail||(t?"     ":"Failed to add to cart"),variant:"destructive"})}};console.log("MarketplacePage rendering, loading:",g),v.useEffect(()=>{console.log("MarketplacePage useEffect triggered"),V()},[E,k]);const V=async()=>{console.log("Fetching marketplace data...");try{w(!0);const K={ordering:k,search:_};E!=="all"&&(K.category=E),console.log("Making API calls...");const[X,ae,Z]=await Promise.all([Ke.products.getAll(K).catch(ie=>(console.log("Products API error:",ie.message,ie.response?.status),{data:{results:[]}})),Ke.materialListings.getAll(K).catch(ie=>(console.log("Materials API error:",ie.message,ie.response?.status),{data:{results:[]}})),Ke.categories.getAll().catch(ie=>(console.log("Categories API error:",ie.message,ie.response?.status),{data:[]}))]);console.log("API responses received:",{products:X.data,materials:ae.data,categories:Z.data}),a(X.data.results||X.data||[]),d(ae.data.results||ae.data||[]);const ue=Z.data;Array.isArray(ue)?p(ue):ue?.results&&Array.isArray(ue.results)?p(ue.results):p([]),console.log("State updated successfully")}catch(K){console.error("Marketplace fetch error:",K),a([]),d([]),p([])}finally{w(!1),console.log("Loading complete")}},re=K=>{K.preventDefault(),V()},ee=async(K,X)=>{if(!M){S({title:"Login Required",description:"Please login to add items to favorites",variant:"destructive"}),R("/login");return}try{X==="product"?(await Ke.products.toggleFavorite(K),a(ae=>ae.map(Z=>Z.id===K?{...Z,is_favorited:!Z.is_favorited}:Z))):(await Ke.materialListings.toggleFavorite(K),d(ae=>ae.map(Z=>Z.id===K?{...Z,is_favorited:!Z.is_favorited}:Z))),S({title:"Success",description:"Favorite updated successfully"})}catch(ae){console.error("Toggle favorite error:",ae),S({title:"Error",description:"Failed to update favorite",variant:"destructive"})}},se=({item:K,type:X="product"})=>{let ae=null;return X==="product"?(console.log(" PRODUCT:",K.title),console.log("   - Full product object:",K),console.log("   - images array:",K.images),console.log("   - first image:",K.images?.[0]),console.log("   - product_images:",K.product_images),console.log("   - primary_image:",K.primary_image),ae=K.images?.[0]?.image||K.product_images?.[0]?.image||K.primary_image,console.log("   - final URL:",ae)):(ae=K.images?.[0]?.image||K.primary_image,console.log(" Material:",K.title,"Image URL:",ae)),i.jsxs(Ve,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 card-hover border-sage/20",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-cream/50 to-sage/10",children:[ae?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:ae,alt:X==="material"&&t&&K.material?.name_ar?K.material.name_ar:K.title,className:"w-full h-full object-cover",onError:Z=>{console.error(" Image failed to load:",ae),Z.target.style.display="none"},onLoad:()=>console.log(" Image loaded:",ae)}),i.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:"none"},children:i.jsx(at,{className:"w-16 h-16 text-sage/40"})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(at,{className:"w-16 h-16 text-sage/40"})}),i.jsx(je,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-white/90 hover:bg-white shadow-md",onClick:()=>ee(K.id,X),children:i.jsx(Mo,{className:"w-5 h-5",fill:K.is_favorited?"#FFB823":"none",stroke:K.is_favorited?"#FFB823":"currentColor"})}),K.status==="draft"&&i.jsx(zn,{className:"absolute top-2 left-2 bg-orange text-white",variant:"secondary",children:"Draft"})]}),i.jsxs(ct,{children:[i.jsx(ut,{className:"line-clamp-1 text-forest",children:X==="material"&&t&&K.material?.name_ar?K.material.name_ar:K.title}),i.jsx(pl,{className:"line-clamp-2",children:K.description})]}),i.jsx(Ge,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-2xl font-bold text-forest",children:["$",X==="material"?K.price_per_unit:K.price]}),X==="material"&&i.jsx("span",{className:"text-sm text-muted-foreground",children:t?` ${K.unit}`:`per ${K.unit}`})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Kr,{className:"w-4 h-4 fill-orange text-orange"}),i.jsx("span",{children:K.average_rating||"0.0"})]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[K.reviews_count||0," ",t?"":"reviews"]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[t?"":"By"," ",K.seller_name]}),i.jsx(zn,{variant:"outline",className:"border-sage/50 text-forest",children:K.condition})]})]})}),i.jsxs(Wo,{className:"gap-2",children:[i.jsx(je,{asChild:!0,className:"flex-1 bg-forest hover:bg-forest/80 hover:shadow-lg transition-all text-white",children:i.jsx(Rt,{to:`/marketplace/${X}/${K.id}`,children:t?" ":"View Details"})}),i.jsx(je,{variant:"outline",size:"icon",className:"border-sage/50 hover:bg-sage/30 hover:border-sage transition-colors",onClick:Z=>{Z.preventDefault(),F(K,X)},children:i.jsx(Ki,{className:"w-4 h-4"})})]})]})};return console.log("Rendering MarketplacePage - products:",r.length,"materials:",l.length,"loading:",g),i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Xt,{}),i.jsx("div",{className:"bg-gradient-hero border-b border-sage/20 pt-24 pb-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-8",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-sage/10 text-forest rounded-full text-sm font-semibold mb-4",children:[i.jsx(In,{className:"w-4 h-4"}),t?" ":"Sustainable Shopping"]}),i.jsx("h1",{className:`text-4xl md:text-5xl font-bold text-gradient mb-4 ${t?"font-arabic":""}`,children:t?" ":"Jaddid Marketplace"}),i.jsx("p",{className:`text-lg text-muted-foreground ${t?"font-arabic":""}`,children:t?"      ":"Discover eco-friendly products and recycled materials"})]}),i.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-center mb-8",children:i.jsxs("div",{className:"flex gap-2 w-full md:w-auto flex-wrap justify-center",children:[M&&i.jsxs(je,{className:"bg-orange hover:bg-orange/80 hover:shadow-lg transition-all text-white",onClick:()=>R("/marketplace/sell"),children:[i.jsx(ti,{className:"w-4 h-4 mr-2"}),t?" ":"Sell Item"]}),i.jsxs(je,{variant:"outline",className:"border-sage/50 hover:bg-sage/30 hover:border-sage transition-colors",onClick:()=>R(M?"/marketplace/my-listings":"/login"),children:[i.jsx(at,{className:"w-4 h-4 mr-2"}),t?"":"My Listings"]}),i.jsxs(je,{variant:"outline",className:"border-sage/50 hover:bg-sage/30 hover:border-sage transition-colors",onClick:()=>R(M?"/marketplace/favorites":"/login"),children:[i.jsx(Mo,{className:"w-4 h-4 mr-2"}),t?"":"Favorites"]}),i.jsxs(je,{variant:"outline",className:"border-sage/50 hover:bg-sage/30 hover:border-sage transition-colors",onClick:()=>R(M?"/marketplace/cart":"/login"),children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),t?"":"Cart"]}),i.jsxs(je,{variant:"outline",className:"border-sage/50 hover:bg-sage/30 hover:border-sage transition-colors",onClick:()=>R(M?"/marketplace/orders":"/login"),children:[i.jsx(at,{className:"w-4 h-4 mr-2"}),t?"":"Orders"]})]})}),i.jsxs("form",{onSubmit:re,className:"flex gap-2 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(k2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(bt,{type:"text",placeholder:t?"   ...":"Search products, materials...",value:_,onChange:K=>N(K.target.value),className:"pl-10 border-sage/30 focus:border-sage"})]}),i.jsx(je,{type:"submit",className:"bg-forest hover:bg-forest/80 text-white",children:t?"":"Search"})]})]})}),i.jsxs("div",{className:"container mx-auto px-4 py-12",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[i.jsxs(Js,{value:E,onValueChange:P,children:[i.jsxs(ms,{className:"w-full md:w-[200px] border-sage/30",children:[i.jsx(y2,{className:"w-4 h-4 mr-2"}),i.jsx(ei,{placeholder:t?"":"Category"})]}),i.jsxs(gs,{children:[i.jsx(lt,{value:"all",children:t?" ":"All Categories"}),Array.isArray(f)&&f.map(K=>i.jsx(lt,{value:K.id.toString(),children:t&&K.name_ar||K.name},K.id))]})]}),i.jsxs(Js,{value:k,onValueChange:b,children:[i.jsx(ms,{className:"w-full md:w-[200px] border-sage/30",children:i.jsx(ei,{placeholder:t?" ":"Sort By"})}),i.jsxs(gs,{children:[i.jsx(lt,{value:"-created_at",children:t?" ":"Newest First"}),i.jsx(lt,{value:"created_at",children:t?" ":"Oldest First"}),i.jsx(lt,{value:"price",children:t?":   ":"Price: Low to High"}),i.jsx(lt,{value:"-price",children:t?":   ":"Price: High to Low"}),i.jsx(lt,{value:"-average_rating",children:t?" ":"Highest Rated"})]})]})]}),g?i.jsxs("div",{className:"text-center py-20",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-forest"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:t?"  ...":"Loading marketplace items..."})]}):i.jsxs(Bc,{defaultValue:"all",className:"w-full",children:[i.jsxs(ml,{className:"grid w-full max-w-md mx-auto grid-cols-3 mb-8",children:[i.jsx(ur,{value:"all",children:t?" ":"All Items"}),i.jsxs(ur,{value:"products",children:[t?"":"Products"," (",r.length,")"]}),i.jsxs(ur,{value:"materials",children:[t?" ":"Materials"," (",l.length,")"]})]}),i.jsx(dr,{value:"all",className:"space-y-8",children:r.length===0&&l.length===0?i.jsxs("div",{className:"text-center py-20",children:[i.jsx(at,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:t?"  ":"No items found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:t?"     ":"Try adjusting your filters or search terms"}),M&&i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsxs(je,{className:"bg-orange hover:bg-orange/80 text-white",onClick:()=>R("/marketplace/sell?type=product"),children:[i.jsx(ti,{className:"w-4 h-4 mr-2"}),t?"  ":"Add Your First Product"]}),i.jsxs(je,{className:"bg-forest hover:bg-forest/80 text-white",onClick:()=>R("/marketplace/sell?type=material"),children:[i.jsx(In,{className:"w-4 h-4 mr-2"}),t?"  ":"Add Your First Material"]})]})]}):i.jsxs(i.Fragment,{children:[r.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:`text-2xl font-bold text-forest mb-4 ${t?"font-arabic":""}`,children:t?"":"Products"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(K=>i.jsx(se,{item:K,type:"product"},K.id))})]}),l.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:`text-2xl font-bold text-forest mb-4 ${t?"font-arabic":""}`,children:t?" ":"Materials"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(K=>i.jsx(se,{item:K,type:"material"},K.id))})]})]})}),i.jsx(dr,{value:"products",children:r.length===0?i.jsxs("div",{className:"text-center py-20",children:[i.jsx(at,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:t?"  ":"No products found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:M?t?"    !":"Be the first to add a product!":t?"   ":"Check back later for new products"}),M&&i.jsxs(je,{className:"bg-orange hover:bg-orange/80 text-white",onClick:()=>R("/marketplace/sell?type=product"),children:[i.jsx(ti,{className:"w-4 h-4 mr-2"}),t?" ":"Add Product"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(K=>i.jsx(se,{item:K,type:"product"},K.id))})}),i.jsx(dr,{value:"materials",children:l.length===0?i.jsxs("div",{className:"text-center py-20",children:[i.jsx(at,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:t?"   ":"No materials found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:M?t?"     !":"Be the first to add a material!":t?"   ":"Check back later for new materials"}),M&&i.jsxs(je,{className:"bg-forest hover:bg-forest/80 text-white",onClick:()=>R("/marketplace/sell?type=material"),children:[i.jsx(ti,{className:"w-4 h-4 mr-2"}),t?"  ":"Add Material"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(K=>i.jsx(se,{item:K,type:"material"},K.id))})})]})]}),i.jsx(Jt,{})]})};var lM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cM=lM.reduce((e,t)=>{const r=af(`Primitive.${t}`),a=v.forwardRef((l,d)=>{const{asChild:f,...p}=l,g=f?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(g,{...p,ref:d})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),uM="Separator",jy="horizontal",dM=["horizontal","vertical"],g1=v.forwardRef((e,t)=>{const{decorative:r,orientation:a=jy,...l}=e,d=fM(a)?a:jy,p=r?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return i.jsx(cM.div,{"data-orientation":d,...p,...l,ref:t})});g1.displayName=uM;function fM(e){return dM.includes(e)}var v1=g1;const Cc=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},l)=>i.jsx(v1,{ref:l,decorative:r,orientation:t,className:We("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Cc.displayName=v1.displayName;function hM(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f);p.displayName=d+"Context";const g=r.length;r=[...r,f];const w=N=>{const{scope:E,children:P,...k}=N,b=E?.[e]?.[g]||p,S=v.useMemo(()=>k,Object.values(k));return i.jsx(b.Provider,{value:S,children:P})};w.displayName=d+"Provider";function _(N,E){const P=E?.[e]?.[g]||p,k=v.useContext(P);if(k)return k;if(f!==void 0)return f;throw new Error(`\`${N}\` must be used within \`${d}\``)}return[w,_]}const l=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=p?.[e]||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return l.scopeName=e,[a,pM(l,...t)]}function pM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const N=g(d)[`__scope${w}`];return{...p,...N}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var mM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],og=mM.reduce((e,t)=>{const r=af(`Primitive.${t}`),a=v.forwardRef((l,d)=>{const{asChild:f,...p}=l,g=f?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(g,{...p,ref:d})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Cp={exports:{}},Ep={};var Ny;function gM(){if(Ny)return Ep;Ny=1;var e=Hd();function t(N,E){return N===E&&(N!==0||1/N===1/E)||N!==N&&E!==E}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,l=e.useEffect,d=e.useLayoutEffect,f=e.useDebugValue;function p(N,E){var P=E(),k=a({inst:{value:P,getSnapshot:E}}),b=k[0].inst,S=k[1];return d(function(){b.value=P,b.getSnapshot=E,g(b)&&S({inst:b})},[N,P,E]),l(function(){return g(b)&&S({inst:b}),N(function(){g(b)&&S({inst:b})})},[N]),f(P),P}function g(N){var E=N.getSnapshot;N=N.value;try{var P=E();return!r(N,P)}catch{return!0}}function w(N,E){return E()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w:p;return Ep.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:_,Ep}var Sy;function vM(){return Sy||(Sy=1,Cp.exports=gM()),Cp.exports}var xM=vM();function yM(){return xM.useSyncExternalStore(wM,()=>!0,()=>!1)}function wM(){return()=>{}}var ag="Avatar",[_M]=hM(ag),[bM,x1]=_M(ag),y1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[l,d]=v.useState("idle");return i.jsx(bM,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:d,children:i.jsx(og.span,{...a,ref:t})})});y1.displayName=ag;var w1="AvatarImage",_1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:l=()=>{},...d}=e,f=x1(w1,r),p=jM(a,d),g=Nn(w=>{l(w),f.onImageLoadingStatusChange(w)});return zt(()=>{p!=="idle"&&g(p)},[p,g]),p==="loaded"?i.jsx(og.img,{...d,ref:t,src:a}):null});_1.displayName=w1;var b1="AvatarFallback",j1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...l}=e,d=x1(b1,r),[f,p]=v.useState(a===void 0);return v.useEffect(()=>{if(a!==void 0){const g=window.setTimeout(()=>p(!0),a);return()=>window.clearTimeout(g)}},[a]),f&&d.imageLoadingStatus!=="loaded"?i.jsx(og.span,{...l,ref:t}):null});j1.displayName=b1;function Cy(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function jM(e,{referrerPolicy:t,crossOrigin:r}){const a=yM(),l=v.useRef(null),d=a?(l.current||(l.current=new window.Image),l.current):null,[f,p]=v.useState(()=>Cy(d,e));return zt(()=>{p(Cy(d,e))},[d,e]),zt(()=>{const g=N=>()=>{p(N)};if(!d)return;const w=g("loaded"),_=g("error");return d.addEventListener("load",w),d.addEventListener("error",_),t&&(d.referrerPolicy=t),typeof r=="string"&&(d.crossOrigin=r),()=>{d.removeEventListener("load",w),d.removeEventListener("error",_)}},[d,r,t]),f}var N1=y1,S1=_1,C1=j1;const Ec=v.forwardRef(({className:e,...t},r)=>i.jsx(N1,{ref:r,className:We("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ec.displayName=N1.displayName;const E1=v.forwardRef(({className:e,...t},r)=>i.jsx(S1,{ref:r,className:We("aspect-square h-full w-full",e),...t}));E1.displayName=S1.displayName;const Pc=v.forwardRef(({className:e,...t},r)=>i.jsx(C1,{ref:r,className:We("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Pc.displayName=C1.displayName;const NM=()=>{const{type:e,id:t}=of(),r=jt(),{isAuthenticated:a,user:l}=Sn(),{language:d}=qt(),f=d==="ar",[p,g]=v.useState(null),[w,_]=v.useState([]),[N,E]=v.useState(!0),[P,k]=v.useState(0),{toast:b}=Yr();v.useEffect(()=>{S()},[t,e]);const S=async()=>{try{E(!0);let X,ae;e==="product"?(X=await Ke.products.getById(t),ae=await Ke.products.getReviews(t)):(X=await Ke.materialListings.getById(t),ae=await Ke.materialListings.getReviews(t)),g(X.data),_(ae.data)}catch{b({title:"Error",description:"Failed to load item details",variant:"destructive"})}finally{E(!1)}},M=async()=>{if(!a){b({title:"Login Required",description:"Please login to add items to cart",variant:"destructive"}),r("/login");return}try{console.log("Adding to cart:",{type:e,id:t});const X=e==="product"?{product_id:t,quantity:1}:{material_listing_id:t,quantity:1};console.log("Cart data:",X);const ae=await Ke.cart.addItem(X);console.log("Cart response:",ae),b({title:"Success",description:"Item added to cart"})}catch(X){console.error("Cart error:",X),console.error("Error response:",X.response),console.error("Error data:",X.response?.data),b({title:"Error",description:X.response?.data?.detail||X.response?.data?.error||X.message||"Failed to add to cart",variant:"destructive"})}},I=async()=>{if(!a){b({title:"Login Required",description:"Please login to add items to favorites",variant:"destructive"}),r("/login");return}try{e==="product"?await Ke.products.toggleFavorite(t):await Ke.materialListings.toggleFavorite(t),b({title:"Success",description:"Favorite updated"}),S()}catch{b({title:"Error",description:"Please login to add favorites",variant:"destructive"})}},R=()=>{r(`/marketplace/checkout/${e}/${t}`)},F=X=>X?X.id??X.pk??X.user_id??X._id??X.uuid??X.sub??(X.email&&X.email.toLowerCase()):null,V=()=>{if(!l||!p)return!1;const X=String(F(l)),ae=String(p.owner??p.owner_id??p.seller_id??p.user??p.seller?.id??p.seller?.pk??p.seller?.user_id??p.seller);return X&&ae&&X===ae},re=async()=>{if(!(!V()||!window.confirm("Are you sure you want to delete this item? This action cannot be undone.")))try{E(!0),e==="product"?await ys.deleteProduct(t):await ys.deleteMaterialListing(t),b({title:"Deleted",description:"Item deleted successfully"}),r("/marketplace/my-listings")}catch(ae){console.error("Delete error:",ae),b({title:"Error",description:ae.response?.data?.detail||ae.message||"Failed to delete",variant:"destructive"})}finally{E(!1)}};if(N)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 animate-pulse text-green-500"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!p)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Item not found"}),i.jsx(je,{onClick:()=>r("/marketplace"),children:"Back to Marketplace"})]})});const ee=e==="product"?p.images||[]:p.images||(p.primary_image?[{image:p.primary_image}]:[]),se=ee[P]?.image||null,K=X=>X?X.startsWith("http://")||X.startsWith("https://")?X:X.startsWith("/media")?`http://127.0.0.1:8000${X}`:`http://127.0.0.1:8000/media/${X}`:null;return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs(je,{variant:"ghost",onClick:()=>r("/marketplace"),children:[i.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Back to Marketplace"]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gradient-to-br from-green-50 to-blue-50",children:se?i.jsx("img",{src:K(se),alt:e==="material"&&f&&p.material?.name_ar?p.material.name_ar:p.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(at,{className:"w-32 h-32 text-gray-300"})})}),ee.length>1&&i.jsx("div",{className:"grid grid-cols-5 gap-2",children:ee.map((X,ae)=>i.jsx("button",{onClick:()=>k(ae),className:`aspect-square rounded-lg overflow-hidden border-2 ${P===ae?"border-green-500":"border-gray-200"}`,children:i.jsx("img",{src:K(X.image),alt:`View ${ae+1}`,className:"w-full h-full object-cover"})},ae))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx(zn,{variant:p.status==="active"?"default":"secondary",children:p.status}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(je,{variant:"outline",size:"icon",onClick:I,children:i.jsx(Mo,{className:"w-5 h-5",fill:p.is_favorited?"red":"none"})}),i.jsx(je,{variant:"outline",size:"icon",children:i.jsx(T2,{className:"w-5 h-5"})}),i.jsx(je,{variant:"outline",size:"icon",children:i.jsx(w2,{className:"w-5 h-5"})})]})]}),i.jsx("h1",{className:"text-3xl font-bold mb-2",children:e==="material"&&f&&p.material?.name_ar?p.material.name_ar:p.title}),i.jsx("p",{className:"text-gray-600",children:p.description})]}),i.jsx(Cc,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsxs("span",{className:"text-4xl font-bold text-green-600",children:["$",e==="material"?p.price_per_unit:p.price]}),e==="material"&&i.jsxs("span",{className:"text-lg text-gray-500",children:["per ",p.unit]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ve,{children:i.jsx(Ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kr,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"text-xl font-semibold",children:p.average_rating||"0.0"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",p.reviews_count," reviews)"]})]})})}),i.jsx(Ve,{children:i.jsx(Ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jm,{className:"w-5 h-5 text-gray-500"}),i.jsx("span",{className:"text-xl font-semibold",children:p.views_count}),i.jsx("span",{className:"text-sm text-gray-500",children:"views"})]})})})]}),i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{className:"text-lg",children:"Item Details"})}),i.jsxs(Ge,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Condition:"}),i.jsx(zn,{variant:"outline",children:p.condition})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Quantity Available:"}),i.jsxs("span",{className:"font-semibold",children:[p.quantity," ",p.unit||"units"]})]}),p.material&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Material Type:"}),i.jsx("span",{className:"font-semibold",children:p.material_name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qi,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-600",children:p.location})]})]})]}),i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{className:"text-lg",children:"Seller Information"})}),i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Ec,{children:[i.jsx(E1,{src:p.seller_avatar}),i.jsx(Pc,{children:i.jsx(Ro,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold",children:p.seller_name}),i.jsx("p",{className:"text-sm text-gray-500",children:p.seller_email})]}),i.jsxs(je,{variant:"outline",size:"sm",children:[i.jsx(Fp,{className:"w-4 h-4 mr-2"}),"Contact"]})]})})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(je,{className:"flex-1",size:"lg",onClick:M,children:[i.jsx(Ki,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),i.jsx(je,{variant:"outline",size:"lg",className:"flex-1",onClick:R,children:"Order Now"}),a&&V()&&i.jsx(je,{variant:"destructive",size:"lg",onClick:re,children:"Delete"})]})]})]}),i.jsxs(Ve,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Customer Reviews"}),i.jsxs(pl,{children:[w.length," reviews"]})]}),i.jsx(Ge,{children:w.length===0?i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No reviews yet"}):i.jsx("div",{className:"space-y-4",children:w.map(X=>i.jsxs("div",{className:"border-b pb-4 last:border-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ec,{className:"w-8 h-8",children:i.jsx(Pc,{children:i.jsx(Ro,{className:"w-4 h-4"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:X.reviewer_name}),i.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ae,Z)=>i.jsx(Kr,{className:`w-4 h-4 ${Z<X.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Z))})]})]}),i.jsx("span",{className:"text-sm text-gray-500",children:new Date(X.created_at).toLocaleDateString()})]}),i.jsx("p",{className:"font-semibold mb-1",children:X.title}),i.jsx("p",{className:"text-gray-600",children:X.comment})]},X.id))})})]})]})]})},ar=v.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ar.displayName="Textarea";var SM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CM=SM.reduce((e,t)=>{const r=af(`Primitive.${t}`),a=v.forwardRef((l,d)=>{const{asChild:f,...p}=l,g=f?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(g,{...p,ref:d})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),EM="Label",P1=v.forwardRef((e,t)=>i.jsx(CM.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));P1.displayName=EM;var k1=P1;const PM=Kd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rt=v.forwardRef(({className:e,...t},r)=>i.jsx(k1,{ref:r,className:We(PM(),e),...t}));rt.displayName=k1.displayName;const kM=()=>{const e=jt(),[t]=Iw(),{user:r,isAuthenticated:a}=Sn(),{language:l}=qt(),d=l==="ar",f=t.get("edit")&&t.get("id"),p=t.get("edit"),g=t.get("id"),[w,_]=v.useState(p||(t.get("type")==="material"?"material":"product")),[N,E]=v.useState(!1),[P,k]=v.useState(!0),[b,S]=v.useState([]),[M,I]=v.useState([]),[R,F]=v.useState([]),[V,re]=v.useState([]),[ee,se]=v.useState(!1),[K,X]=v.useState({name:"",name_ar:"",description:"",description_ar:""}),[ae,Z]=v.useState(!1),[ue,ie]=v.useState({name:"",name_ar:"",category:"",description:"",description_ar:""});v.useEffect(()=>{a||(pn({title:d?"  ":"Login Required",description:d?"     ":"Please login to sell items",variant:"destructive"}),e("/login"))},[a,e,d]),v.useEffect(()=>{(async()=>{try{k(!0),console.log("Fetching materials and categories...");const[W,Y]=await Promise.all([we.get("/marketplace/materials/"),we.get("/marketplace/categories/")]);console.log("Materials response:",W.data),console.log("Categories response:",Y.data);const Q=Array.isArray(W.data?.results)?W.data.results:Array.isArray(W.data)?W.data:[];let de=Array.isArray(Y.data?.results)?Y.data.results:Array.isArray(Y.data)?Y.data:[];if(de.length===0){console.warn("No categories found in backend. Creating default categories...");const Ne=[{name:"Plastics",name_ar:"",description:"Plastic materials and products",description_ar:"  "},{name:"Paper & Cardboard",name_ar:" ",description:"Paper and cardboard materials",description_ar:"  "},{name:"Metals",name_ar:"",description:"Metal materials and products",description_ar:"  "},{name:"Glass",name_ar:"",description:"Glass materials and products",description_ar:"  "},{name:"Electronics",name_ar:"",description:"Electronic materials and products",description_ar:"  "}],Le=[];for(const ke of Ne)try{console.log(`Creating category: ${ke.name}...`);const ze=await we.post("/marketplace/categories/",ke);Le.push(ze.data),console.log(` Created category: ${ke.name}`,ze.data)}catch(ze){console.error(` Error creating category ${ke.name}:`,ze.response?.data||ze.message),console.error("Full error details:",ze.response),ze.response?.data&&Object.keys(ze.response.data).forEach(tt=>{console.error(`  ${tt}:`,ze.response.data[tt])})}Le.length>0?(de=Le,pn({title:d?"  ":"Categories Created",description:d?`  ${Le.length}     `:`Successfully created ${Le.length} categories in the database`,variant:"default"})):pn({title:d?"   ":"Error Creating Categories",description:d?"   .    .":"Failed to create default categories. Please contact admin.",variant:"destructive"})}F(Q),re(de),console.log(" Final materials count:",Q.length),console.log(" Final categories count:",de.length),console.log(" Categories:",de)}catch(W){console.error("Error fetching data:",W),console.error("Error details:",W.response?.data),F([]),re([]),pn({title:d?"   ":"Error Loading Data",description:d?"    .    .":"Error loading data. Please try again.",variant:"destructive"})}finally{k(!1)}})()},[d]),v.useEffect(()=>{(async()=>{if(f)try{k(!0);let W;if(p==="product"){W=await we.get(`/marketplace/products/${g}/`);const Y=W.data;if(he({title:Y.title||"",title_ar:Y.title_ar||"",description:Y.description||"",description_ar:Y.description_ar||"",price:Y.price||"",quantity:Y.quantity||1,condition:Y.condition||"good",location:Y.location||"",latitude:Y.latitude||"",longitude:Y.longitude||"",category:Y.category||""}),Y.images&&Y.images.length>0){const Q=Y.images.map(de=>de.image);I(Q)}}else if(p==="material"){W=await we.get(`/marketplace/material-listings/${g}/`);const Y=W.data;B({material:Y.material?.id||"",title:Y.title||"",title_ar:Y.title_ar||"",description:Y.description||"",description_ar:Y.description_ar||"",quantity:Y.quantity||"",unit:Y.unit||"kg",price_per_unit:Y.price_per_unit||"",minimum_order_quantity:Y.minimum_order_quantity||"",condition:Y.condition||"good",location:Y.location||"",latitude:Y.latitude||"",longitude:Y.longitude||"",available_from:Y.available_from||"",available_until:Y.available_until||"",notes:Y.notes||"",custom_material_name:""}),Y.primary_image&&I([Y.primary_image])}pn({title:d?" ":"Loaded",description:d?"    ":"Item data loaded for editing"})}catch(W){console.error("Error loading item data:",W),pn({title:d?"":"Error",description:d?"   ":"Failed to load item data",variant:"destructive"})}finally{k(!1)}})()},[f,p,g,d]),v.useEffect(()=>{const $=t.get("type");$==="material"?_("material"):$==="product"&&_("product")},[t]);const[pe,he]=v.useState({title:"",title_ar:"",description:"",description_ar:"",price:"",quantity:1,condition:"good",location:"",latitude:"",longitude:"",category:""}),[me,B]=v.useState({material:"",title:"",title_ar:"",description:"",description_ar:"",quantity:"",unit:"kg",price_per_unit:"",minimum_order_quantity:"",condition:"good",location:"",latitude:"",longitude:"",available_from:"",available_until:"",notes:"",custom_material_name:""}),G=$=>{const W=Array.from($.target.files);if(W.length+b.length>5){pn({title:d?"":"Error",description:d?"  5   ":"Maximum 5 images allowed",variant:"destructive"});return}const Y=[...b,...W];S(Y);const Q=W.map(de=>URL.createObjectURL(de));I([...M,...Q])},J=$=>{const W=b.filter((Q,de)=>de!==$),Y=M.filter((Q,de)=>de!==$);URL.revokeObjectURL(M[$]),S(W),I(Y)},O=async $=>{$.preventDefault(),E(!0);try{const W=new FormData;if(ee&&K.name){V.length>0&&W.append("category",V[0].id);const Q=`
    / New Category Request

  / Category Name: ${K.name}
${K.name_ar?`  / Arabic Name: ${K.name_ar}`:""}
${K.description?` / Description: ${K.description}`:""}
${K.description_ar?`  / Arabic Description: ${K.description_ar}`:""}

     
 Please review and approve by admin

${pe.description?`
   / Original Product Description:
`+pe.description:""}
        `.trim();W.append("description",Q),console.log("Adding custom category request:",K.name)}else{if(!pe.category){pn({title:d?"":"Error",description:d?"  ":"Please select a category",variant:"destructive"}),E(!1);return}W.append("category",pe.category),Object.keys(pe).forEach(Q=>{Q!=="category"&&pe[Q]&&W.append(Q,pe[Q])})}Object.keys(pe).forEach(Q=>{Q!=="category"&&Q!=="description"&&pe[Q]&&W.append(Q,pe[Q])}),b.forEach(Q=>{W.append("uploaded_images",Q)}),W.append("status",ee&&K.name?"draft":"active"),console.log("=== Product Submission Debug ==="),console.log("showNewCategoryForm:",ee),console.log("newCategory:",K),console.log("productData:",pe),console.log("images count:",b.length),console.log("FormData entries:");for(let Q of W.entries())Q[1]instanceof File?console.log(`  ${Q[0]}: [File] ${Q[1].name} (${Q[1].size} bytes)`):console.log(`  ${Q[0]}: ${Q[1]}`);console.log("================================");const Y=f&&p==="product"?await we.put(`/marketplace/products/${g}/`,W,{headers:{"Content-Type":"multipart/form-data"}}):await we.post("/marketplace/products/",W,{headers:{"Content-Type":"multipart/form-data"}});pn({title:d?"!":"Success!",description:f?d?"   ":"Your product has been updated successfully":ee&&K.name?d?"     .      .":"New category request submitted for review. Your product will be published after admin approval.":d?"   ":"Your product has been listed successfully"}),e(f?"/marketplace/my-listings":"/marketplace")}catch(W){console.error("Product creation error:",W),console.error("Error response:",W.response),console.error("Error response data:",W.response?.data),console.error("Error response status:",W.response?.status),console.error("Error response headers:",W.response?.headers),W.response?.data&&(console.error("=== Backend Validation Errors ==="),Object.keys(W.response.data).forEach(Y=>{console.error(`${Y}:`,W.response.data[Y])})),pn({title:d?"":"Error",description:W.response?.data?.message||(d?"  ":"Failed to create product"),variant:"destructive"})}finally{E(!1)}},H=async $=>{$.preventDefault(),E(!0);try{if(console.log("=== Material Submission Debug ==="),console.log("showNewMaterialForm:",ae),console.log("newMaterial:",ue),console.log("materialData:",me),console.log("images count:",b.length),ae&&ue.name&&ue.category)try{const Q=await we.post("/marketplace/materials/",{name:ue.name,name_ar:ue.name_ar,category:ue.category,description:ue.description,description_ar:ue.description_ar});console.log("Material created:",Q.data);const de=Q.data.id,Ne=new FormData;Ne.append("material",de),Object.keys(me).forEach(ke=>{ke!=="material"&&ke!=="custom_material_name"&&me[ke]&&Ne.append(ke,me[ke])}),b.forEach(ke=>{Ne.append("uploaded_images",ke)}),Ne.append("status","active");const Le=await we.post("/marketplace/material-listings/",Ne,{headers:{"Content-Type":"multipart/form-data"}});pn({title:d?"!":"Success!",description:d?"     ":"Material and listing created successfully"}),e("/marketplace");return}catch(Q){console.error("Material creation error:",Q),pn({title:d?"":"Error",description:Q.response?.data?.message||(d?"   ":"Failed to create material"),variant:"destructive"}),E(!1);return}const W=new FormData;if(!me.material){pn({title:d?"":"Error",description:d?"   ":"Please select a raw material",variant:"destructive"}),E(!1);return}W.append("material",me.material),console.log("Adding material ID:",me.material),Object.keys(me).forEach(Q=>{Q!=="material"&&Q!=="custom_material_name"&&Q!=="notes"&&me[Q]&&(W.append(Q,me[Q]),console.log(`FormData: ${Q} = ${me[Q]}`))}),b.forEach((Q,de)=>{W.append("uploaded_images",Q),console.log(`Image ${de+1}:`,Q.name,Q.size)}),W.append("status","active"),console.log("Status: active"),console.log("Sending to backend...");const Y=f&&p==="material"?await we.put(`/marketplace/material-listings/${g}/`,W,{headers:{"Content-Type":"multipart/form-data"}}):await we.post("/marketplace/material-listings/",W,{headers:{"Content-Type":"multipart/form-data"}});console.log("Response:",Y.data),pn({title:d?"!":"Success!",description:f?d?"   ":"Your material has been updated successfully":d?"   ":"Your material has been listed successfully"}),e(f?"/marketplace/my-listings":"/marketplace")}catch(W){console.error("Material creation error:",W),console.error("Error response data:",W.response?.data),console.error("Error status:",W.response?.status),pn({title:d?"":"Error",description:W.response?.data?.message||(d?"  ":"Failed to create material listing"),variant:"destructive"})}finally{E(!1)}};return i.jsxs("div",{className:"min-h-screen bg-cream",children:[i.jsx(Xt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[i.jsx("h1",{className:"text-4xl font-bold text-forest mb-8 text-center",children:f?d?" ":"Edit Item":d?" ":"Sell an Item"}),i.jsxs(Bc,{value:w,onValueChange:_,className:"w-full",children:[i.jsxs(ml,{className:"grid w-full grid-cols-2 mb-8",children:[i.jsxs(ur,{value:"product",className:"flex items-center gap-2",children:[i.jsx(at,{className:"w-4 h-4"}),d?"":"Product"]}),i.jsxs(ur,{value:"material",className:"flex items-center gap-2",children:[i.jsx(In,{className:"w-4 h-4"}),d?" ":"Raw Material"]})]}),i.jsx(dr,{value:"product",children:i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{className:"text-forest",children:d?" ":"Product Details"})}),i.jsx(Ge,{children:i.jsxs("form",{onSubmit:O,className:"space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"title",children:d?" (English)":"Title (English)"}),i.jsx(bt,{id:"title",value:pe.title,onChange:$=>he({...pe,title:$.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"title_ar",children:d?" ()":"Title (Arabic)"}),i.jsx(bt,{id:"title_ar",value:pe.title_ar,onChange:$=>he({...pe,title_ar:$.target.value})})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"description",children:d?" (English)":"Description (English)"}),i.jsx(ar,{id:"description",value:pe.description,onChange:$=>he({...pe,description:$.target.value}),rows:4,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"description_ar",children:d?" ()":"Description (Arabic)"}),i.jsx(ar,{id:"description_ar",value:pe.description_ar,onChange:$=>he({...pe,description_ar:$.target.value}),rows:4})]})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"category",children:d?" *":"Category *"}),i.jsxs(Js,{value:ee?"new":pe.category||"",onValueChange:$=>{$==="new"?(se(!0),he({...pe,category:""})):(se(!1),he({...pe,category:$}))},required:!ee,children:[i.jsx(ms,{children:i.jsx(ei,{placeholder:d?" ":"Select category"})}),i.jsx(gs,{children:P?i.jsx(lt,{value:"loading",disabled:!0,children:d?" ...":"Loading..."}):Array.isArray(V)&&V.length>0?i.jsxs(i.Fragment,{children:[V.map($=>i.jsx(lt,{value:$.id.toString(),children:d&&$.name_ar?$.name_ar:$.name},$.id)),i.jsxs(lt,{value:"new",className:"text-orange font-semibold border-t mt-2 pt-2",children:["+ ",d?"  ":"Add New Category"]})]}):i.jsx(lt,{value:"disabled",disabled:!0,children:d?"   ":"No categories available"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"price",children:d?" (EGP)":"Price (EGP)"}),i.jsx(bt,{id:"price",type:"number",step:"0.01",value:pe.price,onChange:$=>he({...pe,price:$.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"quantity",children:d?"":"Quantity"}),i.jsx(bt,{id:"quantity",type:"number",min:"1",value:pe.quantity,onChange:$=>he({...pe,quantity:$.target.value}),required:!0})]})]}),ee&&i.jsxs(Ve,{className:"bg-orange/5 border-orange/30",children:[i.jsx(ct,{children:i.jsx(ut,{className:"text-sm text-forest",children:d?"  ":"New Category Information"})}),i.jsxs(Ge,{className:"space-y-4",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  (English) *":"Category Name (English) *"}),i.jsx(bt,{value:K.name,onChange:$=>X({...K,name:$.target.value}),placeholder:"e.g., Textiles, Rubber, Organic Waste",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  ()":"Category Name (Arabic)"}),i.jsx(bt,{value:K.name_ar,onChange:$=>X({...K,name_ar:$.target.value}),placeholder:d?":    ":""})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  (English)":"Category Description (English)"}),i.jsx(ar,{value:K.description,onChange:$=>X({...K,description:$.target.value}),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  ()":"Category Description (Arabic)"}),i.jsx(ar,{value:K.description_ar,onChange:$=>X({...K,description_ar:$.target.value}),rows:3})]})]}),i.jsx(je,{type:"button",variant:"outline",onClick:()=>{se(!1),X({name:"",name_ar:"",description:"",description_ar:""})},className:"w-full",children:d?" -   ":"Cancel - Select Existing Category"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"condition",children:d?"":"Condition"}),i.jsxs(Js,{value:pe.condition,onValueChange:$=>he({...pe,condition:$}),children:[i.jsx(ms,{children:i.jsx(ei,{})}),i.jsxs(gs,{children:[i.jsx(lt,{value:"new",children:d?"":"New"}),i.jsx(lt,{value:"like_new",children:d?"":"Like New"}),i.jsx(lt,{value:"good",children:d?"":"Good"}),i.jsx(lt,{value:"fair",children:d?"":"Fair"}),i.jsx(lt,{value:"poor",children:d?"":"Poor"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"location",children:d?"":"Location"}),i.jsx(bt,{id:"location",value:pe.location,onChange:$=>he({...pe,location:$.target.value}),placeholder:d?":  ":"e.g., Cairo, Egypt",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?" (  5)":"Images (Max 5)"}),i.jsxs("div",{className:"border-2 border-dashed border-sage/30 rounded-lg p-8 text-center",children:[i.jsx(fx,{className:"w-12 h-12 mx-auto text-sage mb-4"}),i.jsx(rt,{htmlFor:"images",className:"cursor-pointer text-forest hover:text-sage",children:d?"  ":"Click to upload images"}),i.jsx(bt,{id:"images",type:"file",accept:"image/*",multiple:!0,onChange:G,className:"hidden"})]}),M.length>0&&i.jsx("div",{className:"grid grid-cols-5 gap-4 mt-4",children:M.map(($,W)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:$,alt:`Preview ${W+1}`,className:"w-full h-24 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>J(W),className:"absolute top-1 right-1 bg-orange text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(Ya,{className:"w-4 h-4"})})]},W))})]}),i.jsx(je,{type:"submit",disabled:N,className:"w-full bg-forest hover:bg-forest/90",children:N?d?" ...":"Publishing...":f?d?" ":"Update Product":d?" ":"Publish Product"})]})})]})}),i.jsx(dr,{value:"material",children:i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{className:"text-forest",children:d?"  ":"Raw Material Details"})}),i.jsx(Ge,{children:i.jsxs("form",{onSubmit:H,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"material",children:d?"   *":"Select Raw Material *"}),i.jsxs(Js,{value:ae?"new":me.material||"",onValueChange:$=>{$==="new"?(Z(!0),B({...me,material:""})):(Z(!1),B({...me,material:$}))},required:!ae,children:[i.jsx(ms,{children:i.jsx(ei,{placeholder:d?"  ":"Select a raw material"})}),i.jsx(gs,{children:Array.isArray(R)&&R.length>0?i.jsxs(i.Fragment,{children:[R.map($=>i.jsx(lt,{value:$.id.toString(),children:d&&$.name_ar?$.name_ar:$.name},$.id)),i.jsxs(lt,{value:"new",className:"text-orange font-semibold border-t mt-2 pt-2",children:["+ ",d?"   ":"Add New Raw Material"]})]}):i.jsx(i.Fragment,{children:i.jsxs(lt,{value:"new",className:"text-orange font-semibold",children:["+ ",d?"   ":"Add New Raw Material"]})})})]})]}),ae&&i.jsxs(Ve,{className:"bg-orange/5 border-orange/30",children:[i.jsx(ct,{children:i.jsx(ut,{className:"text-sm text-forest",children:d?"   ":"New Raw Material Information"})}),i.jsxs(Ge,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?" *":"Category *"}),i.jsxs(Js,{value:ue.category,onValueChange:$=>ie({...ue,category:$}),required:!0,children:[i.jsx(ms,{children:i.jsx(ei,{placeholder:d?" ":"Select category"})}),i.jsx(gs,{children:Array.isArray(V)&&V.map($=>i.jsx(lt,{value:$.id.toString(),children:d&&$.name_ar?$.name_ar:$.name},$.id))})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  (English) *":"Material Name (English) *"}),i.jsx(bt,{value:ue.name,onChange:$=>ie({...ue,name:$.target.value}),placeholder:"e.g., PET Bottles, Cardboard",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  ()":"Material Name (Arabic)"}),i.jsx(bt,{value:ue.name_ar,onChange:$=>ie({...ue,name_ar:$.target.value}),placeholder:d?":   ":""})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  (English)":"Material Description (English)"}),i.jsx(ar,{value:ue.description,onChange:$=>ie({...ue,description:$.target.value}),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?"  ()":"Material Description (Arabic)"}),i.jsx(ar,{value:ue.description_ar,onChange:$=>ie({...ue,description_ar:$.target.value}),rows:3})]})]}),i.jsx(je,{type:"button",variant:"outline",onClick:()=>{Z(!1),ie({name:"",name_ar:"",category:"",description:"",description_ar:""})},className:"w-full",children:d?" -   ":"Cancel - Select Existing Material"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"mat_title",children:d?" (English)":"Title (English)"}),i.jsx(bt,{id:"mat_title",value:me.title,onChange:$=>B({...me,title:$.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"mat_title_ar",children:d?" ()":"Title (Arabic)"}),i.jsx(bt,{id:"mat_title_ar",value:me.title_ar,onChange:$=>B({...me,title_ar:$.target.value})})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"mat_description",children:d?" (English)":"Description (English)"}),i.jsx(ar,{id:"mat_description",value:me.description,onChange:$=>B({...me,description:$.target.value}),rows:4,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"mat_description_ar",children:d?" ()":"Description (Arabic)"}),i.jsx(ar,{id:"mat_description_ar",value:me.description_ar,onChange:$=>B({...me,description_ar:$.target.value}),rows:4})]})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"mat_quantity",children:d?"":"Quantity"}),i.jsx(bt,{id:"mat_quantity",type:"number",step:"0.01",value:me.quantity,onChange:$=>B({...me,quantity:$.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"unit",children:d?"":"Unit"}),i.jsxs(Js,{value:me.unit,onValueChange:$=>B({...me,unit:$}),children:[i.jsx(ms,{children:i.jsx(ei,{})}),i.jsxs(gs,{children:[i.jsx(lt,{value:"kg",children:"KG"}),i.jsx(lt,{value:"ton",children:"Ton"}),i.jsx(lt,{value:"bag",children:"Bag"}),i.jsx(lt,{value:"item",children:"Item"}),i.jsx(lt,{value:"cubic_meter",children:"Cubic Meter"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"price_per_unit",children:d?"  ":"Price per Unit"}),i.jsx(bt,{id:"price_per_unit",type:"number",step:"0.01",value:me.price_per_unit,onChange:$=>B({...me,price_per_unit:$.target.value}),required:!0})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"min_order",children:d?"  ":"Minimum Order Quantity"}),i.jsx(bt,{id:"min_order",type:"number",step:"0.01",value:me.minimum_order_quantity,onChange:$=>B({...me,minimum_order_quantity:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"mat_condition",children:d?"":"Condition"}),i.jsxs(Js,{value:me.condition,onValueChange:$=>B({...me,condition:$}),children:[i.jsx(ms,{children:i.jsx(ei,{})}),i.jsxs(gs,{children:[i.jsx(lt,{value:"excellent",children:d?"":"Excellent"}),i.jsx(lt,{value:"good",children:d?"":"Good"}),i.jsx(lt,{value:"acceptable",children:d?"":"Acceptable"}),i.jsx(lt,{value:"poor",children:d?"":"Poor"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"mat_location",children:d?"":"Location"}),i.jsx(bt,{id:"mat_location",value:me.location,onChange:$=>B({...me,location:$.target.value}),placeholder:d?":  ":"e.g., Cairo, Egypt",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{htmlFor:"notes",children:d?" ":"Additional Notes"}),i.jsx(ar,{id:"notes",value:me.notes,onChange:$=>B({...me,notes:$.target.value}),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{children:d?" (  5)":"Images (Max 5)"}),i.jsxs("div",{className:"border-2 border-dashed border-sage/30 rounded-lg p-8 text-center",children:[i.jsx(fx,{className:"w-12 h-12 mx-auto text-sage mb-4"}),i.jsx(rt,{htmlFor:"mat_images",className:"cursor-pointer text-forest hover:text-sage",children:d?"  ":"Click to upload images"}),i.jsx(bt,{id:"mat_images",type:"file",accept:"image/*",multiple:!0,onChange:G,className:"hidden"})]}),M.length>0&&i.jsx("div",{className:"grid grid-cols-5 gap-4 mt-4",children:M.map(($,W)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:$,alt:`Preview ${W+1}`,className:"w-full h-24 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>J(W),className:"absolute top-1 right-1 bg-orange text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(Ya,{className:"w-4 h-4"})})]},W))})]}),i.jsx(je,{type:"submit",disabled:N,className:"w-full bg-forest hover:bg-forest/90",children:N?d?" ...":"Publishing...":f?d?" ":"Update Material":d?" ":"Publish Material"})]})})]})})]})]}),i.jsx(Jt,{})]})},TM=()=>{const[e,t]=v.useState(null),[r,a]=v.useState(!0),l=jt(),{toast:d}=Yr(),{language:f}=qt(),p=f==="ar",g=b=>b?b.startsWith("http://")||b.startsWith("https://")?b:b.startsWith("/media")?`http://127.0.0.1:8000${b}`:`http://127.0.0.1:8000/media/${b}`:null;v.useEffect(()=>{w()},[]);const w=async()=>{try{a(!0);const b=await Ke.cart.get();t(b.data)}catch{d({title:p?"":"Error",description:p?"  ":"Failed to load cart",variant:"destructive"})}finally{a(!1)}},_=async(b,S)=>{if(!(S<1)){t(M=>({...M,items:M.items.map(I=>I.id===b?{...I,quantity:S}:I),total_price:M.items.reduce((I,R)=>{const F=R.id===b?S:R.quantity,V=R.product?.price||R.material_listing?.price_per_unit||0;return I+V*F},0)}));try{await Ke.cart.updateItem({item_id:b,quantity:S});const M=await Ke.cart.get();t(M.data)}catch(M){w(),d({title:p?"":"Error",description:M.response?.data?.error||(p?"  ":"Failed to update quantity"),variant:"destructive"})}}},N=async b=>{try{await Ke.cart.removeItem({item_id:b}),w(),d({title:p?" ":"Removed",description:p?"    ":"Item removed from cart"})}catch(S){console.error("Remove item error:",S),d({title:p?"":"Error",description:S.response?.data?.detail||S.response?.data?.error||(p?"  ":"Failed to remove item"),variant:"destructive"})}},E=async()=>{try{await Ke.cart.clear(),w(),d({title:p?" ":"Cleared",description:p?"   ":"Cart cleared successfully"})}catch{d({title:p?"":"Error",description:p?"  ":"Failed to clear cart",variant:"destructive"})}};if(r)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ki,{className:"w-16 h-16 mx-auto mb-4 animate-pulse text-green-500"}),i.jsx("p",{className:"text-gray-600",children:p?"  ...":"Loading cart..."})]})});const P=e?.items||[],k=P.length===0;return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Xt,{}),i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs(je,{variant:"ghost",onClick:()=>l("/marketplace"),children:[i.jsx(Ss,{className:"w-4 h-4 mr-2"}),p?" ":"Continue Shopping"]})})}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs(ut,{className:"flex items-center gap-2",children:[i.jsx(Ki,{className:"w-5 h-5 sm:w-6 sm:h-6"}),i.jsxs("span",{className:`text-lg sm:text-xl ${p?"font-arabic":""}`,children:[p?" ":"Shopping Cart"," (",e?.total_items||0," ",p?"":"items",")"]})]}),!k&&i.jsxs(je,{variant:"outline",size:"sm",onClick:E,className:"w-full sm:w-auto",children:[i.jsx(Pd,{className:"w-4 h-4 mr-2"}),p?" ":"Clear Cart"]})]})}),i.jsx(Ge,{children:k?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:`text-xl font-semibold mb-2 ${p?"font-arabic":""}`,children:p?" ":"Your cart is empty"}),i.jsx("p",{className:`text-gray-500 mb-6 ${p?"font-arabic":""}`,children:p?"  ":"Add items to get started"}),i.jsx(je,{asChild:!0,children:i.jsx(Rt,{to:"/marketplace",children:p?" ":"Browse Marketplace"})})]}):i.jsx("div",{className:"space-y-4",children:P.map(b=>{const S=b.product||b.material_listing,M=b.product?"product":"material",I=M==="product"?S?.images?.[0]?.image||S?.product_images?.[0]?.image||S?.primary_image:S?.images?.[0]?.image||S?.primary_image,R=g(I);return console.log(`${M} in cart:`,S.title,"Image:",R),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 border rounded-lg",children:[i.jsx("div",{className:"w-full sm:w-24 h-48 sm:h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:R?i.jsx(i.Fragment,{children:i.jsx("img",{src:R,alt:M==="material"&&p&&S.material?.name_ar?S.material.name_ar:S.title,className:"w-full h-full object-cover",onError:F=>{console.error("Image failed to load:",R),F.target.style.display="none"}})}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(at,{className:"w-8 h-8 text-gray-300"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Rt,{to:`/marketplace/${M}/${S.id}`,className:"font-semibold hover:text-green-600 transition-colors block truncate",children:M==="material"&&p&&S.material?.name_ar?S.material.name_ar:S.title}),i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:S.description}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",b.unit_price," ",p?"":"per"," ",b.material_listing?S.unit:p?"":"unit"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-col items-stretch sm:items-end gap-3 sm:gap-2 w-full sm:w-auto",children:[i.jsxs("p",{className:"text-lg font-bold text-green-600 text-center sm:text-right",children:["$",b.subtotal]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(je,{variant:"outline",size:"icon",className:"w-8 h-8",onClick:()=>_(b.id,Math.floor(parseFloat(b.quantity))-1),children:i.jsx(C0,{className:"w-4 h-4"})}),i.jsx(bt,{type:"number",value:Math.floor(parseFloat(b.quantity)),onChange:F=>{const V=parseInt(F.target.value);!isNaN(V)&&V>0&&_(b.id,V)},className:"w-20 text-center",min:"1",step:"1"}),i.jsx(je,{variant:"outline",size:"icon",className:"w-8 h-8",onClick:()=>_(b.id,Math.floor(parseFloat(b.quantity))+1),children:i.jsx(ti,{className:"w-4 h-4"})})]}),i.jsxs(je,{variant:"ghost",size:"sm",className:"text-orange hover:text-orange/80 w-full sm:w-auto",onClick:()=>N(b.id),children:[i.jsx(Pd,{className:"w-4 h-4 mr-1"}),p?"":"Remove"]})]})]},b.id)})})})]})}),!k&&i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(Ve,{className:"sticky top-4",children:[i.jsx(ct,{children:i.jsx(ut,{className:p?"font-arabic":"",children:p?" ":"Order Summary"})}),i.jsx(Ge,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`text-gray-600 ${p?"font-arabic":""}`,children:p?" ":"Subtotal"}),i.jsxs("span",{className:"font-semibold",children:["$",e?.total_price||0]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`text-gray-600 ${p?"font-arabic":""}`,children:p?"":"Shipping"}),i.jsx("span",{className:"font-semibold text-green-600",children:p?"":"FREE"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`text-gray-600 ${p?"font-arabic":""}`,children:p?"":"Tax"}),i.jsx("span",{className:`font-semibold ${p?"font-arabic text-sm":""}`,children:p?"  ":"Calculated at checkout"})]}),i.jsx(Cc,{}),i.jsxs("div",{className:"flex justify-between text-lg",children:[i.jsx("span",{className:`font-bold ${p?"font-arabic":""}`,children:p?"":"Total"}),i.jsxs("span",{className:"font-bold text-green-600",children:["$",e?.total_price||0]})]})]})}),i.jsx(Wo,{children:i.jsx(je,{className:"w-full",size:"lg",onClick:()=>l("/checkout"),children:p?"  ":"Proceed to Checkout"})})]})})]})}),i.jsx(Jt,{})]})},RM=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),{toast:l}=Yr(),d=jt(),{language:f}=qt(),p=f==="ar";v.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const N=await Ke.favorites.getAll();console.log("Favorites response:",N.data);const E=N.data.results||N.data||[];if(t(Array.isArray(E)?E:[]),E.length>0){const P=E[0].product||E[0].material_listing;console.log("First favorite item images:",P?.images),console.log("First image path:",P?.images?.[0]?.image)}}catch(N){console.error("Favorites fetch error:",N),t([]),l({title:p?"":"Error",description:p?"  ":"Failed to load favorites",variant:"destructive"})}finally{a(!1)}},w=async N=>{t(E=>E.filter(P=>P.id!==N));try{await Ke.favorites.remove(N),l({title:p?" ":"Removed",description:p?"    ":"Item removed from favorites"})}catch{g(),l({title:p?"":"Error",description:p?"  ":"Failed to remove favorite",variant:"destructive"})}},_=async N=>{try{const E=N.product?{product_id:N.product.id,quantity:1}:{material_listing_id:N.material_listing.id,quantity:1};await Ke.cart.addItem(E),l({title:p?"":"Success",description:p?"    ":"Item added to cart"})}catch{l({title:p?"":"Error",description:p?"    ":"Failed to add to cart",variant:"destructive"})}};return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Mo,{className:"w-16 h-16 mx-auto mb-4 animate-pulse text-orange"}),i.jsx("p",{className:"text-gray-600",children:p?"  ...":"Loading favorites..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Xt,{}),i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs(je,{variant:"ghost",onClick:()=>d("/marketplace"),children:[i.jsx(Ss,{className:"w-4 h-4 mr-2"}),p?"  ":"Back to Marketplace"]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("h1",{className:`text-3xl font-bold flex items-center gap-2 ${p?"font-arabic":""}`,children:[i.jsx(Mo,{className:"w-8 h-8 text-orange",fill:"#FFB823"}),p?"":"My Favorites"]}),i.jsxs("p",{className:"text-gray-600",children:[e.length," ",p?"":"items"]})]}),e.length===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(Mo,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-xl font-semibold mb-2",children:p?"   ":"No favorites yet"}),i.jsx("p",{className:"text-gray-500 mb-6",children:p?"     ":"Start adding items to your wishlist"}),i.jsx(je,{asChild:!0,children:i.jsx(Rt,{to:"/marketplace",children:p?" ":"Browse Marketplace"})})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(N=>{const E=N.product||N.material_listing,P=N.product?"product":"material",k=P==="product"?E?.images?.[0]?.image||E?.product_images?.[0]?.image||E?.primary_image:E?.images?.[0]?.image||E?.primary_image;return console.log(`${P} in favorites:`,E.title,"Image:",k),i.jsxs(Ve,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-green-50 to-blue-50",children:[k?i.jsx(i.Fragment,{children:i.jsx("img",{src:k,alt:P==="material"&&p&&E.material?.name_ar?E.material.name_ar:E.title,className:"w-full h-full object-cover",onError:b=>{console.error("Image failed to load:",k),b.target.style.display="none"}})}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(at,{className:"w-16 h-16 text-gray-300"})}),i.jsx(je,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-white/80 hover:bg-white",onClick:()=>w(N.id),children:i.jsx(Pd,{className:"w-5 h-5 text-orange"})})]}),i.jsxs(ct,{children:[i.jsx(ut,{className:"line-clamp-1",children:P==="material"&&p&&E.material?.name_ar?E.material.name_ar:E.title}),i.jsx(pl,{className:"line-clamp-2",children:E.description})]}),i.jsx(Ge,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",P==="material"?E.price_per_unit:E.price]}),P==="material"&&i.jsxs("span",{className:"text-sm text-gray-500",children:["per ",E.unit]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["By ",E.seller_name]}),i.jsx(zn,{variant:"outline",children:E.condition})]})]})}),i.jsxs(Wo,{className:"gap-2",children:[i.jsx(je,{asChild:!0,className:"flex-1",children:i.jsx(Rt,{to:`/marketplace/${P}/${E.id}`,children:"View Details"})}),i.jsx(je,{variant:"outline",size:"icon",onClick:()=>_(N),children:i.jsx(Ki,{className:"w-4 h-4"})})]})]},N.id)})})]}),i.jsx(Jt,{})]})};function LM(e){const t=AM(e),r=v.forwardRef((a,l)=>{const{children:d,...f}=a,p=v.Children.toArray(d),g=p.find(OM);if(g){const w=g.props.children,_=p.map(N=>N===g?v.Children.count(w)>1?v.Children.only(null):v.isValidElement(w)?w.props.children:null:N);return i.jsx(t,{...f,ref:l,children:v.isValidElement(w)?v.cloneElement(w,void 0,_):null})}return i.jsx(t,{...f,ref:l,children:d})});return r.displayName=`${e}.Slot`,r}function AM(e){const t=v.forwardRef((r,a)=>{const{children:l,...d}=r;if(v.isValidElement(l)){const f=DM(l),p=IM(d,l.props);return l.type!==v.Fragment&&(p.ref=a?si(a,f):f),v.cloneElement(l,p)}return v.Children.count(l)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MM=Symbol("radix.slottable");function OM(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MM}function IM(e,t){const r={...t};for(const a in t){const l=e[a],d=t[a];/^on[A-Z]/.test(a)?l&&d?r[a]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[a]=l):a==="style"?r[a]={...l,...d}:a==="className"&&(r[a]=[l,d].filter(Boolean).join(" "))}return{...e,...r}}function DM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sf="Dialog",[T1]=Ns(Sf),[FM,es]=T1(Sf),R1=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:l,onOpenChange:d,modal:f=!0}=e,p=v.useRef(null),g=v.useRef(null),[w,_]=Io({prop:a,defaultProp:l??!1,onChange:d,caller:Sf});return i.jsx(FM,{scope:t,triggerRef:p,contentRef:g,contentId:ws(),titleId:ws(),descriptionId:ws(),open:w,onOpenChange:_,onOpenToggle:v.useCallback(()=>_(N=>!N),[_]),modal:f,children:r})};R1.displayName=Sf;var L1="DialogTrigger",A1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=es(L1,r),d=dt(t,l.triggerRef);return i.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":ug(l.open),...a,ref:d,onClick:Se(e.onClick,l.onOpenToggle)})});A1.displayName=L1;var lg="DialogPortal",[zM,M1]=T1(lg,{forceMount:void 0}),O1=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:l}=e,d=es(lg,t);return i.jsx(zM,{scope:t,forceMount:r,children:v.Children.map(a,f=>i.jsx(Xr,{present:r||d.open,children:i.jsx(kc,{asChild:!0,container:l,children:f})}))})};O1.displayName=lg;var $d="DialogOverlay",I1=v.forwardRef((e,t)=>{const r=M1($d,e.__scopeDialog),{forceMount:a=r.forceMount,...l}=e,d=es($d,e.__scopeDialog);return d.modal?i.jsx(Xr,{present:a||d.open,children:i.jsx($M,{...l,ref:t})}):null});I1.displayName=$d;var BM=LM("DialogOverlay.RemoveScroll"),$M=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=es($d,r);return i.jsx(ff,{as:BM,allowPinchZoom:!0,shards:[l.contentRef],children:i.jsx(Ze.div,{"data-state":ug(l.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Vo="DialogContent",D1=v.forwardRef((e,t)=>{const r=M1(Vo,e.__scopeDialog),{forceMount:a=r.forceMount,...l}=e,d=es(Vo,e.__scopeDialog);return i.jsx(Xr,{present:a||d.open,children:d.modal?i.jsx(UM,{...l,ref:t}):i.jsx(HM,{...l,ref:t})})});D1.displayName=Vo;var UM=v.forwardRef((e,t)=>{const r=es(Vo,e.__scopeDialog),a=v.useRef(null),l=dt(t,r.contentRef,a);return v.useEffect(()=>{const d=a.current;if(d)return Vm(d)},[]),i.jsx(F1,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,d=>{d.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&d.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,d=>d.preventDefault())})}),HM=v.forwardRef((e,t)=>{const r=es(Vo,e.__scopeDialog),a=v.useRef(!1),l=v.useRef(!1);return i.jsx(F1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{e.onCloseAutoFocus?.(d),d.defaultPrevented||(a.current||r.triggerRef.current?.focus(),d.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:d=>{e.onInteractOutside?.(d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const f=d.target;r.triggerRef.current?.contains(f)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&l.current&&d.preventDefault()}})}),F1=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:d,...f}=e,p=es(Vo,r),g=v.useRef(null),w=dt(t,g);return Wm(),i.jsxs(i.Fragment,{children:[i.jsx(cf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:l,onUnmountAutoFocus:d,children:i.jsx(rl,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":ug(p.open),...f,ref:w,onDismiss:()=>p.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(WM,{titleId:p.titleId}),i.jsx(ZM,{contentRef:g,descriptionId:p.descriptionId})]})]})}),cg="DialogTitle",z1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=es(cg,r);return i.jsx(Ze.h2,{id:l.titleId,...a,ref:t})});z1.displayName=cg;var B1="DialogDescription",$1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=es(B1,r);return i.jsx(Ze.p,{id:l.descriptionId,...a,ref:t})});$1.displayName=B1;var U1="DialogClose",H1=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=es(U1,r);return i.jsx(Ze.button,{type:"button",...a,ref:t,onClick:Se(e.onClick,()=>l.onOpenChange(!1))})});H1.displayName=U1;function ug(e){return e?"open":"closed"}var W1="DialogTitleWarning",[_I,V1]=fN(W1,{contentName:Vo,titleName:cg,docsSlug:"dialog"}),WM=({titleId:e})=>{const t=V1(W1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},VM="DialogDescriptionWarning",ZM=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${V1(VM).contentName}}.`;return v.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},qM=R1,KM=A1,GM=O1,Z1=I1,q1=D1,K1=z1,G1=$1,QM=H1;const Cf=qM,YM=KM,XM=GM,Q1=v.forwardRef(({className:e,...t},r)=>i.jsx(Z1,{ref:r,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Q1.displayName=Z1.displayName;const $c=v.forwardRef(({className:e,children:t,...r},a)=>i.jsxs(XM,{children:[i.jsx(Q1,{}),i.jsxs(q1,{ref:a,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(QM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Ya,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$c.displayName=q1.displayName;const Uc=({className:e,...t})=>i.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Uc.displayName="DialogHeader";const Hc=v.forwardRef(({className:e,...t},r)=>i.jsx(K1,{ref:r,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));Hc.displayName=K1.displayName;const Wc=v.forwardRef(({className:e,...t},r)=>i.jsx(G1,{ref:r,className:We("text-sm text-muted-foreground",e),...t}));Wc.displayName=G1.displayName;const JM=()=>{const[e,t]=v.useState([]),[r,a]=v.useState([]),[l,d]=v.useState(null),[f,p]=v.useState(!0),{toast:g}=Yr();v.useEffect(()=>{w()},[]);const w=async()=>{try{p(!0);const[E,P]=await Promise.all([Ke.messages.getInbox(),Ke.messages.getSent()]);t(E.data),a(P.data)}catch{g({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{p(!1)}},_=async E=>{try{await Ke.messages.markRead(E),w()}catch(P){console.error("Failed to mark as read:",P)}},N=({message:E,isSent:P})=>i.jsxs(Ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{d(E),!P&&!E.is_read&&_(E.id)},children:[i.jsx(ct,{children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx(Ec,{children:i.jsx(Pc,{children:(P?E.recipient_name:E.sender_name)?.[0]||"U"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2",children:[P?E.recipient_name:E.sender_name,!P&&!E.is_read&&i.jsx(zn,{variant:"default",className:"text-xs",children:"New"})]}),i.jsx(pl,{className:"text-xs",children:new Date(E.created_at).toLocaleString()})]})]})})}),i.jsxs(Ge,{children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:E.subject}),i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:E.message}),E.product&&i.jsxs(zn,{variant:"outline",className:"mt-2",children:["Re: ",E.product_title]})]})]});return f?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Fp,{className:"w-16 h-16 mx-auto mb-4 animate-pulse text-blue-500"}),i.jsx("p",{className:"text-gray-600",children:"Loading messages..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(Fp,{className:"w-8 h-8 text-blue-500"}),"Messages"]}),i.jsx(e4,{onMessageSent:w})]}),i.jsxs(Bc,{defaultValue:"inbox",className:"w-full",children:[i.jsxs(ml,{className:"grid w-full max-w-md grid-cols-2",children:[i.jsxs(ur,{value:"inbox",children:[i.jsx(cx,{className:"w-4 h-4 mr-2"}),"Inbox (",e.filter(E=>!E.is_read).length,")"]}),i.jsxs(ur,{value:"sent",children:[i.jsx(Do,{className:"w-4 h-4 mr-2"}),"Sent (",r.length,")"]})]}),i.jsx(dr,{value:"inbox",className:"mt-6",children:e.length===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(cx,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-xl font-semibold mb-2",children:"No messages"}),i.jsx("p",{className:"text-gray-500",children:"Your inbox is empty"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(E=>i.jsx(N,{message:E,isSent:!1},E.id))})}),i.jsx(dr,{value:"sent",className:"mt-6",children:r.length===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(Do,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-xl font-semibold mb-2",children:"No sent messages"}),i.jsx("p",{className:"text-gray-500",children:"Messages you send will appear here"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(E=>i.jsx(N,{message:E,isSent:!0},E.id))})})]})]}),i.jsx(Cf,{open:!!l,onOpenChange:()=>d(null),children:i.jsxs($c,{className:"max-w-2xl",children:[i.jsxs(Uc,{children:[i.jsx(Hc,{children:l?.subject}),i.jsxs(Wc,{children:["From: ",l?.sender_name,"  ",new Date(l?.created_at||"").toLocaleString()]})]}),l&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("p",{className:"whitespace-pre-wrap",children:l.message})}),l.product&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Related to:"}),i.jsx("p",{className:"font-semibold",children:l.product_title})]})]})]})})]})},e4=({onMessageSent:e})=>{const[t,r]=v.useState(!1),[a,l]=v.useState({recipient_id:"",subject:"",message:""}),{toast:d}=Yr(),f=async p=>{p.preventDefault();try{await Ke.messages.send(a),d({title:"Success",description:"Message sent successfully"}),r(!1),l({recipient_id:"",subject:"",message:""}),e()}catch{d({title:"Error",description:"Failed to send message",variant:"destructive"})}};return i.jsxs(Cf,{open:t,onOpenChange:r,children:[i.jsx(YM,{asChild:!0,children:i.jsxs(je,{children:[i.jsx(Do,{className:"w-4 h-4 mr-2"}),"New Message"]})}),i.jsxs($c,{className:"max-w-2xl",children:[i.jsxs(Uc,{children:[i.jsx(Hc,{children:"Send Message"}),i.jsx(Wc,{children:"Send a message to a seller or buyer"})]}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Recipient ID"}),i.jsx(bt,{value:a.recipient_id,onChange:p=>l({...a,recipient_id:p.target.value}),placeholder:"Enter recipient user ID",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Subject"}),i.jsx(bt,{value:a.subject,onChange:p=>l({...a,subject:p.target.value}),placeholder:"Enter subject",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Message"}),i.jsx(ar,{value:a.message,onChange:p=>l({...a,message:p.target.value}),placeholder:"Type your message...",rows:6,required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(je,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),i.jsxs(je,{type:"submit",children:[i.jsx(Do,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})]})]})},t4=()=>{const{language:e}=qt(),t=jt(),r=e==="ar",a=[{icon:L2,titleEn:"Certified Chain",titleAr:" ",descEn:"Verified couriers, audited factories, and quality checks.",descAr:"     ."},{icon:N0,titleEn:"Rewards That Matter",titleAr:" ",descEn:"Cash + points + perks for every kilo you recycle.",descAr:" +  +     ."},{icon:In,titleEn:"Real Impact",titleAr:" ",descEn:"Track CO saved and waste diverted with live metrics.",descAr:"      ."},{icon:Gd,titleEn:"Live Support",titleAr:" ",descEn:"Multilingual chat and hotline for sellers and couriers.",descAr:"      ."}],l=[{icon:at,number:"01",titleEn:"List or Request",titleAr:"  ",descEn:"Tell us what you have or what you need collected.",descAr:"      ."},{icon:Qd,number:"02",titleEn:"Pickup & Safety",titleAr:" ",descEn:"Certified couriers with sealed packaging and live ETAs.",descAr:"       ."},{icon:x2,number:"03",titleEn:"Processing",titleAr:"",descEn:"Partner factories sort, clean, and transform materials.",descAr:"     ."},{icon:Qa,number:"04",titleEn:"Rewards & Proof",titleAr:" ",descEn:"Get paid, earn points, and download impact certificates.",descAr:"       ."}],d=[{icon:Hi,titleEn:"Smart Materials Hub",titleAr:"  ",descEn:"Browse, price, and move materials with verified buyers.",descAr:"      ."},{icon:qi,titleEn:"Nationwide Pickup",titleAr:"   ",descEn:"Doorstep collection with optimized routing and ETAs.",descAr:"       ."},{icon:hx,titleEn:"Instant Quotes",titleAr:" ",descEn:"Get real-time pricing based on market rates.",descAr:"       ."},{icon:Dp,titleEn:"Real-Time Tracking",titleAr:" ",descEn:"Track every pickup, route, and delivery milestone.",descAr:"     ."}],f=[{nameEn:"Plastics",nameAr:"",image:new URL("/assets/material-plastic-DR-asSar.jpg",import.meta.url).href},{nameEn:"Paper",nameAr:"",image:new URL("/assets/material-paper-lGCfKHN0.jpg",import.meta.url).href},{nameEn:"Metals",nameAr:"",image:new URL("/assets/material-metal-CUqMc_Xh.jpg",import.meta.url).href},{nameEn:"Glass",nameAr:"",image:new URL("/assets/material-glass-QQ6dcqRl.jpg",import.meta.url).href},{nameEn:"Electronics",nameAr:"",image:new URL("/assets/material-electronics-BVeKIpJ1.jpg",import.meta.url).href},{nameEn:"Textiles",nameAr:"",image:new URL("/assets/material-textiles-B8HURJFD.jpg",import.meta.url).href}],p=[{icon:In,titleEn:"Environmental Impact",titleAr:" ",descEn:"Reduce landfill waste and CO with transparent reporting.",descAr:"     .",stat:"50t",statLabelEn:"CO saved / month",statLabelAr:"   "},{icon:M2,titleEn:"Earn More",titleAr:" ",descEn:"Competitive payouts plus points, coupons, and bonuses.",descAr:"     .",stat:"EGP 100K",statLabelEn:"paid monthly",statLabelAr:" "},{icon:Mo,titleEn:"Community Uplift",titleAr:" ",descEn:"Support local jobs and circular-economy partners.",descAr:"     .",stat:"500+",statLabelEn:"jobs created",statLabelAr:"  "}],g=[{value:"200+",en:"Factories & recyclers",ar:"  "},{value:"50K+",en:"Kg diverted monthly",ar:"  "},{value:"98%",en:"On-time pickups",ar:"  "},{value:"4.8",en:"Courier rating",ar:" "}];return i.jsxs("div",{className:"min-h-screen bg-white",dir:r?"rtl":"ltr",children:[i.jsx(Xt,{}),i.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-[#3a6a4a] via-[#4d7b57] to-[#3f6549] min-h-screen pt-32 pb-24 px-4 flex items-center",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-[#F0A84D]/20 to-transparent blur-3xl rounded-full animate-pulse"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-tl from-[#708A58]/30 to-transparent blur-3xl rounded-full animate-pulse",style:{animationDelay:"1s"}}),i.jsx("div",{className:"absolute top-1/3 left-1/2 w-72 h-72 bg-gradient-to-r from-[#F0A84D]/10 via-[#708A58]/10 to-transparent blur-3xl rounded-full"})]}),i.jsx("div",{className:"absolute top-20 left-10 opacity-20 animate-float",children:i.jsx(E0,{className:"w-16 h-16 text-[#F0A84D]"})}),i.jsx("div",{className:"absolute bottom-20 right-20 opacity-15 animate-spin",style:{animationDuration:"8s"},children:i.jsx(Hi,{className:"w-20 h-20 text-[#F0A84D]"})}),i.jsx("div",{className:"absolute top-1/2 left-1/4 opacity-[0.08]",children:i.jsx(In,{className:"w-32 h-32 text-white"})}),i.jsx("div",{className:"container mx-auto max-w-7xl relative z-10",children:i.jsxs("div",{className:"text-center space-y-8 mb-16",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#F0A84D]/20 backdrop-blur-sm border border-[#F0A84D]/50 px-6 py-3 rounded-full hover:border-[#F0A84D]/80 transition-all",children:[i.jsx(hx,{className:"w-5 h-5 text-[#F0A84D]"}),i.jsx("span",{className:"text-white font-semibold text-sm",children:r?"   ":"Smart Recycling Technology"})]}),i.jsx("h1",{className:`text-5xl md:text-6xl lg:text-7xl font-extrabold text-white leading-tight max-w-5xl mx-auto ${r?"font-arabic":"font-primary"}`,children:r?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-[#F0A84D]",children:"   ."}),i.jsx("br",{}),i.jsx("span",{className:"bg-gradient-to-r from-white via-[#E8F3E8] to-[#F0A84D] bg-clip-text text-transparent",children:"    "})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-[#F0A84D]",children:"Every Kilo Counts."}),i.jsx("br",{}),i.jsx("span",{className:"bg-gradient-to-r from-white via-[#E8F3E8] to-[#F0A84D] bg-clip-text text-transparent",children:"We Turn Your Recyclables Into Revenue"})]})}),i.jsx("p",{className:"text-xl md:text-2xl text-white/85 max-w-3xl mx-auto leading-relaxed",children:r?"                .":"A complete platform connecting collectors, factories, and couriers with instant rewards and transparent door-to-factory tracking."}),i.jsxs("div",{className:"flex flex-wrap gap-5 justify-center items-center pt-4",children:[i.jsxs(je,{onClick:()=>t("/marketplace"),size:"lg",className:"bg-[#F0A84D] hover:bg-[#e09a3d] text-white px-10 py-6 rounded-full text-lg font-bold shadow-2xl hover:shadow-[0_0_30px_rgba(240,168,77,0.4)] transition-all hover:scale-105",children:[r?"  ":"Start Earning Now",i.jsx(xc,{className:`w-6 h-6 ml-2 ${r?"rotate-180":""}`})]}),i.jsx(je,{onClick:()=>t("/services"),size:"lg",className:"bg-[#708A58] hover:bg-[#5f7349] text-white px-10 py-6 rounded-full text-lg font-bold shadow-2xl hover:shadow-[0_0_30px_rgba(112,138,88,0.4)] transition-all hover:scale-105",children:r?" ":"View Services"})]})]})})]}),i.jsx("section",{className:"py-16 px-4 bg-white",children:i.jsxs("div",{className:"container mx-auto max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:`text-4xl font-bold text-[#2D4F2B] mb-3 ${r?"font-arabic":"font-primary"}`,children:r?"  ":"Why partners choose us"}),i.jsx("p",{className:"text-lg text-gray-600",children:r?"       .":"A trusted chain, smooth experience, and meaningful rewards backed by data."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((w,_)=>{const N=w.icon;return i.jsx(Ve,{className:"border-2 border-[rgba(112,138,88,0.15)] hover:border-[rgba(240,168,77,0.6)] hover:shadow-lg transition-all duration-300 bg-white/80 backdrop-blur",children:i.jsxs(ct,{className:"space-y-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[rgba(112,138,88,0.15)] flex items-center justify-center text-[#2D4F2B]",children:i.jsx(N,{className:"w-7 h-7"})}),i.jsx(ut,{className:`text-xl text-[#2D4F2B] ${r?"font-arabic":""}`,children:r?w.titleAr:w.titleEn}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:r?w.descAr:w.descEn})]})},_)})})]})}),i.jsx("section",{className:"py-16 px-4 bg-[#E8F3E8]",children:i.jsxs("div",{className:"container mx-auto max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:`text-4xl font-bold text-[#2D4F2B] mb-3 ${r?"font-arabic":"font-primary"}`,children:r?"  ":"How Jaddid works"}),i.jsx("p",{className:"text-lg text-gray-700",children:r?"     ":"A single journey from request to verified proof"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((w,_)=>{const N=w.icon;return i.jsxs(Ve,{className:"relative border-2 border-[rgba(112,138,88,0.25)] bg-white/85 backdrop-blur hover:-translate-y-2 hover:shadow-xl transition-all duration-300",children:[i.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 rounded-full bg-[#F0A84D] text-white font-bold flex items-center justify-center shadow-lg",children:w.number}),i.jsxs(ct,{className:"pt-10 space-y-3 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-[rgba(112,138,88,0.12)] flex items-center justify-center text-[#2D4F2B]",children:i.jsx(N,{className:"w-9 h-9"})}),i.jsx(ut,{className:`text-xl text-[#2D4F2B] ${r?"font-arabic":""}`,children:r?w.titleAr:w.titleEn})]}),i.jsx(Ge,{children:i.jsx("p",{className:"text-center text-sm text-gray-700 leading-relaxed",children:r?w.descAr:w.descEn})})]},_)})})]})}),i.jsx("section",{className:"py-16 px-4 bg-white",children:i.jsxs("div",{className:"container mx-auto max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:`text-4xl font-bold text-[#2D4F2B] mb-3 ${r?"font-arabic":"font-primary"}`,children:r?" ":"What we deliver"}),i.jsx("p",{className:"text-lg text-gray-600",children:r?"     .":"End-to-end services across movement, tracking, and rewards."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((w,_)=>{const N=w.icon;return i.jsx(Ve,{className:"border-2 border-[rgba(112,138,88,0.2)] hover:border-[rgba(240,168,77,0.6)] hover:shadow-lg transition-all duration-300 bg-white/85",children:i.jsxs(ct,{className:"space-y-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[rgba(240,168,77,0.18)] text-[#2D4F2B] flex items-center justify-center",children:i.jsx(N,{className:"w-6 h-6"})}),i.jsx(ut,{className:`text-lg text-[#2D4F2B] ${r?"font-arabic":""}`,children:r?w.titleAr:w.titleEn}),i.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:r?w.descAr:w.descEn})]})},_)})})]})}),i.jsx("section",{className:"py-16 px-4 bg-[#FFF8F0]",children:i.jsxs("div",{className:"container mx-auto max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:`text-4xl font-bold text-[#2D4F2B] mb-3 ${r?"font-arabic":"font-primary"}`,children:r?"  ":"Materials we accept"}),i.jsx("p",{className:"text-lg text-gray-700",children:r?"        .":"From plastics to electronics, every material has a verified path."})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:f.map((w,_)=>i.jsxs("div",{className:"group relative overflow-hidden rounded-3xl bg-card shadow-lg hover:shadow-2xl transition-all duration-500 aspect-square cursor-pointer",children:[i.jsx("img",{src:w.image,alt:r?w.nameAr:w.nameEn,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#2D4F2B]/90 via-[#2D4F2B]/40 to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-center",children:i.jsx("p",{className:`font-bold text-white text-lg ${r?"font-arabic":""}`,children:r?w.nameAr:w.nameEn})})]},_))})]})}),i.jsx("section",{className:"py-16 px-4 bg-white",children:i.jsxs("div",{className:"container mx-auto max-w-6xl grid lg:grid-cols-2 gap-10 items-center",children:[i.jsxs("div",{className:`space-y-4 ${r?"text-right":"text-left"}`,children:[i.jsx(zn,{className:"bg-[rgba(112,138,88,0.15)] text-[#2D4F2B] px-4 py-2 rounded-full border border-[rgba(112,138,88,0.25)]",children:r?" ":"Operations & logistics"}),i.jsx("h3",{className:`text-3xl md:text-4xl font-bold text-[#2D4F2B] ${r?"font-arabic":"font-primary"}`,children:r?"   ":"Live tracking with verified chain-of-custody"}),i.jsx("p",{className:"text-lg text-gray-700",children:r?"        .":"We dispatch certified couriers, keep you on the map, and provide delivery and recycling proof."}),i.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[i.jsxs("li",{children:[" ",r?"     ":"Instant arrival alerts and precise ETAs"]}),i.jsxs("li",{children:[" ",r?"   / ":"Secure sealing plus weight and photo logs"]}),i.jsxs("li",{children:[" ",r?"     ":"Downloadable recycling certificates and impact proofs"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(je,{onClick:()=>t("/orders"),className:"bg-[#2D4F2B] hover:bg-[#708A58] text-white px-6 py-3 rounded-full text-sm",children:r?" ":"Track your orders"}),i.jsx(je,{onClick:()=>t("/order-tracking/1"),variant:"outline",className:"border-2 border-[#2D4F2B] text-[#2D4F2B] hover:bg-[#E8F3E8] px-6 py-3 rounded-full text-sm",children:r?"  ":"Preview tracking"})]})]}),i.jsxs(Ve,{className:"border-2 border-[rgba(112,138,88,0.2)] bg-[#E8F3E8]/60 backdrop-blur shadow-xl",children:[i.jsxs(ct,{className:"space-y-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#F0A84D] text-white flex items-center justify-center",children:i.jsx(qi,{className:"w-6 h-6"})}),i.jsx(ut,{className:`text-2xl text-[#2D4F2B] ${r?"font-arabic":""}`,children:r?"  ":"Courier live route"}),i.jsx("p",{className:"text-sm text-gray-700",children:r?"     .":"Current position, ETA, and drop-off checkpoints."})]}),i.jsxs(Ge,{className:"space-y-3",children:[i.jsxs("div",{className:"rounded-2xl bg-white border border-[rgba(112,138,88,0.15)] p-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700",children:[i.jsx("span",{children:r?": ":"Courier: Kareem"}),i.jsx("span",{className:"font-semibold text-[#2D4F2B]",children:"4.8 "})]}),i.jsx("div",{className:"mt-3 h-2 bg-[rgba(112,138,88,0.15)] rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full w-[72%] bg-[#F0A84D]"})}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-2",children:[i.jsx("span",{children:r?" ":"Picked up"}),i.jsx("span",{children:r?" ":"In transit"}),i.jsx("span",{children:r?"":"Delivery"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"p-3 rounded-xl bg-white/80 border border-[rgba(112,138,88,0.15)]",children:[i.jsx("p",{className:"font-semibold text-[#2D4F2B]",children:"14 min"}),i.jsx("p",{className:"text-gray-600",children:r?" ":"ETA to you"})]}),i.jsxs("div",{className:"p-3 rounded-xl bg-white/80 border border-[rgba(112,138,88,0.15)]",children:[i.jsx("p",{className:"font-semibold text-[#2D4F2B]",children:"Cairo  Helwan"}),i.jsx("p",{className:"text-gray-600",children:r?" ":"Approved route"})]})]})]})]})]})}),i.jsx("section",{className:"py-16 px-4 bg-[#E8F3E8]",children:i.jsxs("div",{className:"container mx-auto max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:`text-4xl font-bold text-[#2D4F2B] mb-3 ${r?"font-arabic":"font-primary"}`,children:r?" ":"Rewards and impact"}),i.jsx("p",{className:"text-lg text-gray-700",children:r?"      .":"Earn, measure impact, and share results with your team."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map((w,_)=>{const N=w.icon;return i.jsxs(Ve,{className:"border-2 border-[rgba(112,138,88,0.2)] bg-white/85 backdrop-blur hover:shadow-xl transition-all duration-300",children:[i.jsxs(ct,{className:"space-y-3 text-center",children:[i.jsx("div",{className:"w-14 h-14 mx-auto rounded-2xl bg-[rgba(240,168,77,0.2)] text-[#2D4F2B] flex items-center justify-center",children:i.jsx(N,{className:"w-8 h-8"})}),i.jsx(ut,{className:`text-xl text-[#2D4F2B] ${r?"font-arabic":""}`,children:r?w.titleAr:w.titleEn}),i.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:r?w.descAr:w.descEn})]}),i.jsx(Ge,{className:"text-center",children:i.jsxs("div",{className:"bg-[rgba(112,138,88,0.08)] rounded-xl p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-[#2D4F2B]",children:w.stat}),i.jsx("div",{className:"text-xs text-gray-700",children:r?w.statLabelAr:w.statLabelEn})]})})]},_)})})]})}),i.jsx("section",{className:"py-16 px-4 bg-white",children:i.jsx("div",{className:"container mx-auto max-w-5xl",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:g.map((w,_)=>i.jsxs("div",{className:"p-6 rounded-2xl border-2 border-[rgba(112,138,88,0.18)] bg-[rgba(112,138,88,0.05)]",children:[i.jsx("div",{className:"text-3xl font-bold text-[#2D4F2B]",children:w.value}),i.jsx("div",{className:"text-sm text-gray-700 mt-2",children:r?w.ar:w.en})]},_))})})}),i.jsx("section",{className:"py-20 px-4 bg-gradient-to-br from-[#FFF8F0] via-white to-[#E8F3E8]",children:i.jsxs("div",{className:"container mx-auto max-w-4xl text-center space-y-6",children:[i.jsx(d2,{className:"w-14 h-14 mx-auto text-[#F0A84D]"}),i.jsx("h2",{className:`text-4xl md:text-5xl font-bold text-[#2D4F2B] ${r?"font-arabic":"font-primary"}`,children:r?" ":"Ready to get started?"}),i.jsx("p",{className:"text-lg text-gray-700 max-w-3xl mx-auto",children:r?"          .":"Join thousands turning recycling into measurable value."}),i.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[i.jsxs(je,{onClick:()=>t("/register"),className:"bg-[#2D4F2B] hover:bg-[#708A58] text-white px-10 py-4 rounded-full text-lg shadow-lg",children:[r?" ":"Create account",i.jsx(xc,{className:`w-5 h-5 ml-2 ${r?"rotate-180":""}`})]}),i.jsx(je,{onClick:()=>t("/marketplace"),className:"bg-[#F0A84D] hover:bg-[#F0A84D]/90 text-white px-10 py-4 rounded-full text-lg shadow-lg",children:r?" ":"Browse marketplace"})]})]})}),i.jsx(Jt,{})]})},n4=()=>{const[e,t]=v.useState([]),[r,a]=v.useState([]),[l,d]=v.useState(!0),f=jt(),{toast:p}=Yr(),{language:g}=qt(),{isAuthenticated:w}=Sn(),_=g==="ar";v.useEffect(()=>{w||(p({title:_?"  ":"Login Required",description:_?"    ":"Please login to view your listings",variant:"destructive"}),f("/login"))},[w,f,_,p]),v.useEffect(()=>{w&&N()},[w]);const N=async()=>{try{d(!0),console.log("Fetching my listings...");const[b,S]=await Promise.all([Ke.products.getMyProducts().catch(R=>(console.error("Products error:",R),{data:[]})),Ke.materialListings.getMyListings().catch(R=>(console.error("Materials error:",R),{data:[]}))]);console.log("Products response:",b.data),console.log("Materials response:",S.data);const M=b.data.results||b.data||[],I=S.data.results||S.data||[];t(Array.isArray(M)?M:[]),a(Array.isArray(I)?I:[]),console.log("Products set:",M.length),console.log("Materials set:",I.length)}catch(b){console.error("Fetch listings error:",b),p({title:_?"":"Error",description:_?"  ":"Failed to load your listings",variant:"destructive"})}finally{d(!1)}},E=async(b,S)=>{if(window.confirm(_?"      ":"Are you sure you want to delete this item?")){S==="product"?t(M=>M.filter(I=>I.id!==b)):a(M=>M.filter(I=>I.id!==b));try{S==="product"?await Ke.products.delete(b):await Ke.materialListings.delete(b),p({title:_?" ":"Deleted",description:_?"   ":"Item deleted successfully"})}catch{N(),p({title:_?"":"Error",description:_?"  ":"Failed to delete item",variant:"destructive"})}}},P=({item:b,type:S})=>{const M=S==="product"?b.images?.[0]?.image||b.product_images?.[0]?.image||b.primary_image:b.images?.[0]?.image||b.primary_image;console.log(`${S} in my listings:`,b.title,"Image:",M);const I=S==="material"&&_&&b.material?.name_ar?b.material.name_ar:b.title;return i.jsxs(Ve,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-green-50 to-blue-50",children:[M?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:M,alt:I,className:"w-full h-full object-cover",onError:R=>{console.error("Image failed to load:",M),R.target.style.display="none"}}),i.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:"none"},children:i.jsx(at,{className:"w-16 h-16 text-gray-300"})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(at,{className:"w-16 h-16 text-gray-300"})}),i.jsx(zn,{className:`absolute top-2 left-2 ${b.status==="active"?"bg-green-500":b.status==="sold"?"bg-gray-500":"bg-orange"}`,children:b.status})]}),i.jsxs(ct,{children:[i.jsx(ut,{className:"line-clamp-1",children:I}),i.jsx(pl,{className:"line-clamp-2",children:b.description})]}),i.jsx(Ge,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",S==="material"?b.price_per_unit:b.price]}),S==="material"&&i.jsx("span",{className:"text-sm text-gray-500",children:_?` ${b.unit}`:`per ${b.unit}`})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:[_?":":"Quantity:"," ",b.quantity||b.stock_quantity]}),i.jsx(zn,{variant:"outline",children:b.condition})]})]})}),i.jsxs(Wo,{className:"gap-2",children:[i.jsx(je,{asChild:!0,variant:"outline",className:"flex-1",children:i.jsxs(Rt,{to:`/marketplace/${S}/${b.id}`,children:[i.jsx(jm,{className:"w-4 h-4 mr-2"}),_?"":"View"]})}),i.jsx(je,{variant:"outline",size:"icon",onClick:()=>f(`/marketplace/sell?edit=${S}&id=${b.id}`),children:i.jsx(A2,{className:"w-4 h-4"})}),i.jsx(je,{variant:"outline",size:"icon",onClick:()=>E(b.id,S),children:i.jsx(Pd,{className:"w-4 h-4 text-red-500"})})]})]})};if(l)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 animate-pulse text-green-500"}),i.jsx("p",{className:"text-gray-600",children:_?"  ...":"Loading your listings..."})]})});const k=e.length+r.length;return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Xt,{}),i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs(je,{variant:"ghost",onClick:()=>f("/marketplace"),children:[i.jsx(Ss,{className:"w-4 h-4 mr-2"}),_?"  ":"Back to Marketplace"]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`text-3xl font-bold ${_?"font-arabic":""}`,children:_?"":"My Listings"}),i.jsxs("p",{className:"text-gray-600 mt-2",children:[k," ",_?"":"items"]})]}),i.jsxs(je,{onClick:()=>f("/marketplace/sell"),children:[i.jsx(ti,{className:"w-4 h-4 mr-2"}),_?"  ":"Add New Item"]})]}),k===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-xl font-semibold mb-2",children:_?"   ":"No listings yet"}),i.jsx("p",{className:"text-gray-500 mb-6",children:_?"       ":"Start selling your products or recyclable materials"}),i.jsxs(je,{onClick:()=>f("/marketplace/sell"),children:[i.jsx(ti,{className:"w-4 h-4 mr-2"}),_?"  ":"Create First Listing"]})]})}):i.jsxs(Bc,{defaultValue:"all",className:"space-y-6",children:[i.jsxs(ml,{children:[i.jsxs(ur,{value:"all",children:[_?"":"All"," (",k,")"]}),i.jsxs(ur,{value:"products",children:[_?"":"Products"," (",e.length,")"]}),i.jsxs(ur,{value:"materials",children:[_?"":"Materials"," (",r.length,")"]})]}),i.jsx(dr,{value:"all",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.map(b=>i.jsx(P,{item:b,type:"product"},`product-${b.id}`)),r.map(b=>i.jsx(P,{item:b,type:"material"},`material-${b.id}`))]})}),i.jsx(dr,{value:"products",children:e.length===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-gray-600",children:_?"   ":"No products yet"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(b=>i.jsx(P,{item:b,type:"product"},b.id))})}),i.jsx(dr,{value:"materials",children:r.length===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-gray-600",children:_?"   ":"No materials yet"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(b=>i.jsx(P,{item:b,type:"material"},b.id))})})]})]}),i.jsx(Jt,{})]})},r4=()=>{const{user:e,token:t,isAuthenticated:r}=Sn(),a=()=>{const l=localStorage.getItem("token"),d=localStorage.getItem("user");console.log("=== Auth Debug Info ==="),console.log("isAuthenticated:",r),console.log("Token from context:",t),console.log("Token from localStorage:",l),console.log("User from context:",e),console.log("User from localStorage:",d),console.log("Token starts with:",l?.substring(0,20))};return i.jsx("div",{className:"container mx-auto py-8",children:i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{children:"Authentication Debug"})}),i.jsxs(Ge,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Is Authenticated:"})," ",r?"Yes":"No"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"User:"})," ",e?JSON.stringify(e,null,2):"None"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Token:"})," ",t?`${t.substring(0,30)}...`:"None"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"LocalStorage Token:"})," ",localStorage.getItem("token")?"Present":"Missing"]}),i.jsx(je,{onClick:a,children:"Log Full Debug Info to Console"})]})]})})},s4=({userData:e})=>{const[t,r]=v.useState(!1);return i.jsx("div",{className:"lg:w-80 w-full",children:i.jsxs("div",{className:"bg-gradient-to-br from-[#708A58] to-[#2D4F2B] rounded-2xl shadow-lg p-6",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:t||!e.profileImage?`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.email}`:e.profileImage.startsWith("http")?e.profileImage:`http://localhost:8000${e.profileImage}`,alt:e.name,className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover",onError:()=>r(!0)},e.profileImage),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 bg-[#FFB823] rounded-full border-4 border-white"})]})}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.name}),i.jsxs("p",{className:"text-[#FFF1CA] text-sm mb-4",children:["Member since ",e.joinDate]}),i.jsxs("div",{className:"inline-flex items-center bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 mb-4",children:[i.jsx(Kr,{className:"w-5 h-5 text-[#FFB823] fill-[#FFB823] mr-2"}),i.jsxs("span",{className:"text-white font-semibold",children:[e.rating||0," / 5.0"]})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[e.address&&i.jsx(Pp,{icon:i.jsx(qi,{className:"w-5 h-5"}),text:e.address}),i.jsx(Pp,{icon:i.jsx(S0,{className:"w-5 h-5"}),text:e.email}),e.phone&&i.jsx(Pp,{icon:i.jsx(Gd,{className:"w-5 h-5"}),text:e.phone})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-white/20",children:[i.jsx(Ey,{label:"Total Sales",value:e.totalSales||0}),i.jsx(Ey,{label:"Response Rate",value:e.responseRate||"N/A"})]}),i.jsx(i4,{userData:e})]})})},i4=({userData:e})=>{const t=jt(),{user:r}=Sn(),a=g=>{if(!g)return null;const w=g.id??g.user_id??g.pk??g.uuid??g.email?.split("@")[0];return w?String(w):null},l=a(r),d=a(e),f=r?.email&&e?.email?String(r.email).toLowerCase()===String(e.email).toLowerCase():!1,p=l&&d?l===d:!1;return console.log("Button Check:",{authId:l,profileId:d,idsMatch:p,emailsMatch:f}),!r||!p&&!f?null:i.jsx("button",{onClick:()=>t("/profile/edit"),className:"w-full mt-6 bg-[#FFB823] hover:bg-[#FFB823]/90 text-white font-semibold py-3 rounded-lg transition duration-300 flex items-center justify-center gap-2",children:"Update Profile"})},Pp=({icon:e,text:t})=>i.jsxs("div",{className:"flex items-center gap-3 text-white/90",children:[i.jsx("div",{className:"text-[#FFF1CA]",children:e}),i.jsx("span",{className:"text-sm",children:t})]}),Ey=({label:e,value:t})=>i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:t}),i.jsx("div",{className:"text-xs text-[#FFF1CA]",children:e})]}),o4=({userData:e})=>i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border-2 border-[#708A58]/10",children:i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-[#2D4F2B] mb-2",children:"About"}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.bio})]}),i.jsx("div",{className:"ml-6 bg-gradient-to-br from-[#708A58] to-[#2D4F2B] rounded-xl p-6 text-white min-w-[180px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl font-bold mb-2",children:e.rating}),i.jsx("div",{className:"flex justify-center mb-2",children:[1,2,3,4,5].map(t=>i.jsx(Kr,{className:`w-5 h-5 ${t<=Math.round(e.rating)?"text-[#FFB823] fill-[#FFB823]":"text-gray-300"}`},t))}),i.jsxs("div",{className:"text-sm text-[#FFF1CA]",children:[e.totalReviews," reviews"]})]})})]})}),uc=(e,t)=>{for(const r of t)if(e?.[r]!==void 0)return e[r]},a4=({item:e={}})=>{const t=jt(),r=uc(e,["id","pk","product_id","_id"]),a=uc(e,["name","title"])||"Untitled",l=uc(e,["price","amount","cost"])??"-",d=uc(e,["condition","state"])||"Used",f=uc(e,["primary_image","image","image_url","profile_image","profileImage"]),p=f?f.startsWith("http")?f:`http://localhost:8000${f}`:(e.images&&e.images.length?e.images[0]:null)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.email||"product"}`;return i.jsxs("div",{className:"bg-gradient-to-br from-[#FFF1CA] to-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border-2 border-[#708A58]/20 hover:border-[#708A58] cursor-pointer group",onClick:()=>r&&t("/marketplace/:type/:id".replace(":type","product").replace(":id",r)),children:[i.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i.jsx("img",{src:p,alt:a,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),i.jsx("div",{className:"absolute top-3 right-3 bg-[#2D4F2B] text-white text-xs px-3 py-1 rounded-full",children:d})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-bold text-[#2D4F2B] mb-2 line-clamp-1",children:a}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-xl font-bold text-[#708A58]",children:[l," EGP"]}),i.jsx("button",{className:"bg-[#2D4F2B] text-white px-4 py-2 rounded-lg text-sm hover:bg-[#708A58] transition",onClick:g=>{g.stopPropagation(),r&&t("/marketplace/:type/:id".replace(":type","product").replace(":id",r))},children:"View"})]})]})]})},Va=(e,t)=>{for(const r of t)if(e?.[r]!==void 0)return e[r]},l4=({item:e={}})=>{const t=jt(),r=Va(e,["id","pk","material_id","_id"]),a=Va(e,["name","title"])||"Material",l=Va(e,["price_per_unit","amount","cost"])??"-",d=Va(e,["quantity","qty","stock"])??"-",f=Va(e,["condition","state"])||d||"Used",p=Va(e,["image","image_url","primary_image"])||(e.images&&e.images.length?e.images[0]:null)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r||"material"}`;return i.jsxs("div",{className:"bg-gradient-to-br from-[#FFF1CA] to-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border-2 border-[#708A58]/20 hover:border-[#708A58] cursor-pointer group",onClick:()=>r&&t("/marketplace/:type/:id".replace(":type","material").replace(":id",r)),children:[i.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i.jsx("img",{src:p,alt:a,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),i.jsx("div",{className:"absolute top-3 right-3 bg-[#2D4F2B] text-white text-xs px-3 py-1 rounded-full",children:f})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-bold text-[#2D4F2B] mb-2 line-clamp-1",children:a}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-xl font-bold text-[#708A58]",children:[l," EGP"]}),i.jsx("button",{className:"bg-[#2D4F2B] text-white px-4 py-2 rounded-lg text-sm hover:bg-[#708A58] transition",onClick:g=>{g.stopPropagation(),r&&t(`/material/${r}`)},children:"View"})]})]})]})},c4=({activeTab:e,setActiveTab:t,products:r,materials:a})=>{const l=jt(),d=()=>{l(`/marketplace/sell?type=${e==="products"?"product":"material"}`)};return i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border-2 border-[#708A58]/10",children:[i.jsxs("div",{className:"flex flex-row justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-[#2D4F2B] mb-6",children:"Items for Sale"}),i.jsxs("button",{onClick:d,className:`inline-flex items-center gap-2 px-4 py-2 rounded-md font-semibold transition-colors duration-200 shadow-sm ${e==="products"?"bg-[#2D4F2B] text-white hover:bg-[#3b6b34]":"bg-[#FFB823] text-white hover:bg-[#ffc84d]"}`,children:[i.jsx(ti,{className:"w-4 h-4"}),e==="products"?"Add Product":"Add Material"]})]}),i.jsxs("div",{className:"flex gap-4 mb-6 border-b-2 border-gray-200",children:[i.jsx(Py,{active:e==="products",onClick:()=>t("products"),icon:i.jsx(at,{className:"w-5 h-5"}),label:"Products",count:(r||[]).length}),i.jsx(Py,{active:e==="materials",onClick:()=>t("materials"),icon:i.jsx(In,{className:"w-5 h-5"}),label:"Materials",count:(a||[]).length})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e==="products"?(r||[]).map((f,p)=>i.jsx(a4,{item:f},f.id??f.pk??f._id??p)):(a||[]).map((f,p)=>i.jsx(l4,{item:f},f.id??f.pk??f._id??p))})]})},Py=({active:e,onClick:t,icon:r,label:a,count:l})=>i.jsxs("button",{onClick:t,className:`flex items-center gap-2 pb-3 px-2 font-semibold transition-all duration-300 ${e?"text-[#2D4F2B] border-b-2 border-[#2D4F2B]":"text-gray-400 hover:text-[#708A58]"}`,children:[r,i.jsx("span",{children:a}),i.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${e?"bg-[#708A58] text-white":"bg-gray-200 text-gray-600"}`,children:l})]}),u4=({review:e})=>i.jsx("div",{className:"bg-gradient-to-br from-[#FFF1CA]/30 to-white p-5 rounded-xl border-l-4 border-[#708A58] hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("img",{src:e.avatar,alt:e.reviewer,className:"w-12 h-12 rounded-full border-2 border-[#708A58]"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-[#2D4F2B]",children:e.reviewer}),i.jsx("span",{className:"text-sm text-gray-500",children:e.date})]}),i.jsx("div",{className:"flex",children:[1,2,3,4,5].map(t=>i.jsx(Kr,{className:`w-4 h-4 ${t<=e.rating?"text-[#FFB823] fill-[#FFB823]":"text-gray-300"}`},t))})]}),i.jsx("p",{className:"text-gray-700",children:e.comment})]})]})}),d4=({reviews:e,userData:t})=>i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border-2 border-[#708A58]/10",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-[#2D4F2B]",children:"Customer Reviews"}),i.jsxs("span",{className:"text-gray-500",children:[e.length," reviews"]})]}),i.jsx("div",{className:"space-y-4",children:e.map(r=>i.jsx(u4,{review:r},r.id))})]}),ky=()=>{const{user:e}=Sn(),{userId:t}=of(),r=Ko(),[a,l]=v.useState("products"),[d,f]=v.useState(!0),[p,g]=v.useState(null),[w,_]=v.useState(null),[N,E]=v.useState([]),[P,k]=v.useState([]),[b,S]=v.useState([]),M=R=>{if(!R)return null;const F=R.id||R.pk||R.user_id||R._id||R.uuid||R.sub||R.authId||R.profileId||R.account&&R.account.id||R.user&&R.user.id;return!F&&R.email?R.email.toLowerCase():F?String(F):null},I=R=>R?R.data?.results??R.data??R:[];return v.useEffect(()=>{(async()=>{f(!0),g(null);const F=M(e),V=t??F??null;try{const re=Date.now();let ee;V?String(V)===String(F)?ee=await ys.getCurrentUser():ee=await ys.getUserById(V):ee=await ys.getCurrentUser();const se=ee.data??ee,K={id:se.id??se.pk??se.user_id??se.uuid,first_name:se.first_name??se.firstName??"",last_name:se.last_name??se.lastName??"",name:`${se.first_name??se.firstName??""} ${se.last_name??se.lastName??""}`.trim()||se.name||"Unknown User",email:se.email||"",phone:se.profile?.phone??se.phone??"",address:se.profile?.address??se.address??"",bio:se.profile?.bio??se.bio??"",profileImage:se.profile?.profile_image?`${se.profile.profile_image}?t=${re}`:se.profile_image?`${se.profile_image}?t=${re}`:`https://api.dicebear.com/7.x/avataaars/svg?seed=${se.email}`,rating:se.profile?.average_rating??se.average_rating??0,totalReviews:se.profile?.review_count??se.review_count??0,joinDate:se.date_joined?new Date(se.date_joined).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Recently",totalSales:se.total_sales??se.totalSales??0,responseRate:se.response_rate??se.responseRate??"N/A",raw:se};_(K);try{const X=K.id??V,ae={owner:X,user:X,seller:X,owner_id:X,user_id:X},[Z,ue,ie]=await Promise.all([Ke.products.getAll(ae),Ke.materialListings.getAll(ae),ys.getUserReviews(X)]);E(I(Z)),k(I(ue)),S(I(ie))}catch(X){console.warn("Profile related lists load error:",X)}}catch(re){console.error("Profile load error:",re),g(re.response?.data?.detail||re.message||"Failed to load profile")}finally{f(!1)}})()},[t,e,r.state]),i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(Xt,{}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 pt-12 mt-12",children:d?i.jsx("div",{children:"Loading profile..."}):p?i.jsx("div",{className:"text-red-600",children:p}):i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx(s4,{userData:w}),i.jsxs("div",{className:"flex-1",children:[i.jsx(o4,{userData:w}),i.jsx(c4,{activeTab:a,setActiveTab:l,products:N,materials:P}),i.jsx(d4,{reviews:b,userData:w})]})]})}),i.jsx(Jt,{})]})};function f4(){const{user:e}=Sn(),t=jt(),a=(Z=>Z?.id??Z?.user_id??Z?.pk??Z?.uuid??Z?.email?.split("@")[0])(e),[l,d]=v.useState(!0),[f,p]=v.useState(null),[g,w]=v.useState(""),[_,N]=v.useState(""),[E,P]=v.useState(""),[k,b]=v.useState(""),[S,M]=v.useState(""),[I,R]=v.useState(""),[F,V]=v.useState(null),[re,ee]=v.useState(""),[se,K]=v.useState(!1);v.useEffect(()=>{(async()=>{d(!0);try{const ue=await ys.getCurrentUser(),ie=ue.data??ue;w(ie.first_name||ie.firstName||""),N(ie.last_name||ie.lastName||"");const pe=ie.profile??ie.profiles??{};P(pe.Phone||pe.phone||""),b(pe.address||""),M(pe.bio||""),R(pe.profile_image||ie.profile_image||""),ee(pe.profile_image||ie.profile_image||"")}catch(ue){console.error(ue),p(ue.response?.data||ue.message||"Failed to load user")}finally{d(!1)}})()},[]);const X=Z=>{const ue=Z.target.files?.[0]??null;if(V(ue),ue){const ie=URL.createObjectURL(ue);ee(ie),R("")}},ae=async Z=>{Z.preventDefault(),p(null),K(!0);try{const ue={first_name:g,last_name:_,profile:{phone:E,address:k,bio:S}};console.log(" Sending payload:",ue);const ie=await ys.updateCurrentUserPut(ue);if(console.log(" Update response:",ie.data),F){const pe=new FormData;pe.append("profile_image",F),console.log(" Uploading image:",F.name);const he=await ys.uploadProfileImage(pe);console.log(" Image response:",he.data)}await new Promise(pe=>setTimeout(pe,500)),t(`/profile/${a}`,{replace:!0,state:{reload:!0}})}catch(ue){console.error(" Error:",ue.response?.data||ue),p(ue.response?.data||"Update failed")}finally{K(!1)}};return l?i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(Xt,{}),i.jsx("div",{className:"max-w-3xl mx-auto p-6",children:"Loading..."}),i.jsx(Jt,{})]}):i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(Xt,{}),i.jsx("div",{className:"max-w-4xl mx-auto p-6 mt-12 pt-12",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[i.jsxs("div",{className:"bg-forest px-6 py-5",children:[i.jsx("h2",{className:"text-white text-2xl font-semibold",children:"Edit Profile"}),i.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Update your account and profile information"})]}),i.jsxs("div",{className:"p-6",children:[f&&i.jsx("div",{className:"mb-4 text-red-600",children:JSON.stringify(f)}),i.jsxs("form",{onSubmit:ae,className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"First Name"}),i.jsx("input",{value:g,onChange:Z=>w(Z.target.value),className:"mt-1 block w-full rounded-lg border border-sage/30 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sage"})]}),i.jsxs("div",{className:"mt-3 md:mt-0",children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Last Name"}),i.jsx("input",{value:_,onChange:Z=>N(Z.target.value),className:"mt-1 block w-full rounded-lg border border-sage/30 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sage"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Phone"}),i.jsx("input",{value:E,onChange:Z=>P(Z.target.value),className:"mt-1 block w-full rounded-lg border border-sage/30 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sage"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Address"}),i.jsx("input",{value:k,onChange:Z=>b(Z.target.value),className:"mt-1 block w-full rounded-lg border border-sage/30 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sage"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Bio"}),i.jsx("textarea",{value:S,onChange:Z=>M(Z.target.value),className:"mt-1 block w-full rounded-lg border border-sage/30 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sage",rows:5})]}),i.jsxs("div",{className:"md:flex md:items-center md:gap-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Profile Image (upload)"}),i.jsx("input",{type:"file",accept:"image/*",onChange:X,className:"mt-1"})]}),i.jsx("div",{className:"w-32 h-32 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:re?i.jsx("img",{src:re,alt:"preview",className:"w-full h-full object-cover"}):i.jsx("div",{className:"text-sm text-muted-foreground",children:"No image"})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"submit",disabled:se,className:"btn-primary bg-forest text-white px-4 py-2 rounded-lg",children:se?"Saving...":"Save"}),i.jsx("button",{type:"button",onClick:()=>t(`/profile/${a}`),className:"px-4 py-2 border rounded-lg",children:"Cancel"})]})]})]})]})}),i.jsx(Jt,{})]})}function h4(){const{user:e}=Sn(),t=jt(),r=cl(),{language:a}=qt(),[l,d]=v.useState(1);v.useEffect(()=>{e||t("/login")},[e,t]);const{data:f,isLoading:p}=el({queryKey:["notifications",l],queryFn:()=>Zi.notifications.getAll({page:l}).then(k=>k.data),enabled:!!e}),g=f?.results||[],w=f?.next,_=f?.previous,N=rf({mutationFn:async k=>{const b=Array.isArray(k)?k:[k];await Promise.all(b.map(S=>Zi.notifications.markAsRead(S)))},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]}),r.invalidateQueries({queryKey:["notifications-count"]})}}),E=(k,b,S)=>{N.mutate([S]),t(`/review-product/${k}?order=${b}`)},P=k=>k.type==="order_status"&&k.product_id&&k.order_id&&(k.title_en?.toLowerCase().includes("delivered")||k.title_ar?.includes(" "));return p?i.jsxs(i.Fragment,{children:[i.jsx(Xt,{}),i.jsx("div",{className:"min-h-screen pt-20",children:i.jsx("p",{className:"p-6 text-center",children:a==="en"?"Loading notifications...":"  ..."})}),i.jsx(Jt,{})]}):i.jsxs(i.Fragment,{children:[i.jsx(Xt,{}),i.jsx("div",{className:"min-h-screen pt-20 pb-10",children:i.jsxs("div",{className:"container mx-auto max-w-2xl p-6",children:[i.jsxs(Ve,{children:[i.jsxs(ct,{className:"flex flex-row justify-between items-center",children:[i.jsxs(ut,{className:"flex gap-2 items-center",children:[i.jsx(hc,{className:"w-5 h-5 text-forest"}),a==="en"?"Notifications":""]}),i.jsxs("div",{className:"flex gap-2",children:[g.some(k=>!k.is_read)&&i.jsxs(je,{variant:"outline",size:"sm",onClick:()=>N.mutate(g.filter(k=>!k.is_read).map(k=>k.id)),children:[i.jsx(Qa,{className:"w-4 h-4 mr-1"}),a==="en"?"Mark all read":"  "]}),i.jsx(zn,{variant:"secondary",children:g.length})]})]}),i.jsx(Ge,{className:"p-0",children:i.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:g.length===0?i.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[i.jsx(h2,{className:"mx-auto mb-2 w-16 h-16 opacity-30"}),i.jsx("p",{className:"text-lg",children:a==="en"?"No notifications":"  "})]}):g.map(k=>i.jsx("div",{className:`p-4 border-b last:border-b-0 hover:bg-gray-50 transition-colors ${k.is_read?"":"bg-orange/5 border-l-4 border-orange"}`,children:i.jsxs("div",{className:"flex justify-between items-start gap-4",children:[i.jsxs("div",{className:"flex-1",children:[k.title_en&&k.title_ar&&i.jsx("h4",{className:`font-medium mb-1 ${k.is_read?"":"text-forest"}`,children:a==="en"?k.title_en:k.title_ar}),i.jsx("p",{className:`text-sm leading-relaxed ${k.is_read?"text-muted-foreground":"font-medium"}`,children:a==="en"?k.msg_en:k.msg_ar}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(k.created_at).toLocaleString(a==="en"?"en-US":"ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),P(k)&&i.jsxs(je,{size:"sm",className:"mt-3 bg-forest hover:bg-forest/90 text-white",onClick:()=>E(k.product_id,k.order_id,k.id),children:[i.jsx(Kr,{className:"w-4 h-4 mr-1"}),a==="en"?"Add Review":" "]})]}),!k.is_read&&i.jsx(je,{size:"sm",variant:"ghost",onClick:()=>N.mutate([k.id]),className:"flex-shrink-0 hover:bg-forest/10",children:i.jsx(Qa,{className:"w-4 h-4 text-forest"})})]})},k.id))})})]}),(_||w)&&i.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[i.jsxs(je,{variant:"outline",onClick:()=>d(l-1),disabled:!_,children:[i.jsx(_0,{className:"w-4 h-4 mr-1"}),a==="en"?"Previous":""]}),i.jsx("span",{className:"px-4 py-2 text-sm text-muted-foreground",children:a==="en"?`Page ${l}`:` ${l}`}),i.jsxs(je,{variant:"outline",onClick:()=>d(l+1),disabled:!w,children:[a==="en"?"Next":"",i.jsx(bm,{className:"w-4 h-4 ml-1"})]})]})]})}),i.jsx(Jt,{})]})}function p4(){const{user:e}=Sn(),t=jt(),r=cl(),{language:a}=qt(),[l,d]=v.useState(5),[f,p]=v.useState(""),[g,w]=v.useState(1);v.useEffect(()=>{e||t("/login")},[e,t]);const{data:_,isLoading:N}=el({queryKey:["reviews",g],queryFn:()=>Zi.reviews.getAll({page:g}).then(S=>S.data),enabled:!!e}),E=_?.results||[],P=_?.next,k=_?.previous,b=rf({mutationFn:()=>Zi.reviews.create({rating:l,comment:f}),onSuccess:()=>{r.invalidateQueries({queryKey:["reviews"]}),p(""),d(5)}});return i.jsxs(i.Fragment,{children:[i.jsx(Xt,{}),i.jsx("div",{className:"min-h-screen pt-20 pb-10",children:i.jsxs("div",{className:"container mx-auto max-w-3xl p-6 space-y-6",children:[i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{children:a==="en"?"Add Review":" "})}),i.jsxs(Ge,{className:"space-y-4",children:[i.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(S=>i.jsx(Kr,{onClick:()=>d(S),className:`cursor-pointer ${S<=l?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},S))}),i.jsx(ar,{value:f,onChange:S=>p(S.target.value),placeholder:a==="en"?"Write your review...":" ..."}),i.jsxs(je,{onClick:()=>b.mutate(),disabled:!f||b.isPending,children:[a==="en"?"Post Review":" "," ",i.jsx(Do,{className:"ml-2 w-4 h-4"})]})]})]}),N?i.jsx("p",{children:a==="en"?"Loading reviews...":"  ..."}):E.map(S=>i.jsx(Ve,{children:i.jsxs(Ge,{className:"flex gap-4 p-4",children:[i.jsx(Ec,{children:i.jsx(Pc,{children:S.user_name?.[0]||"U"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:S.user_name||"User"}),i.jsx("div",{className:"flex",children:[...Array(5)].map((M,I)=>i.jsx(Kr,{className:`w-3 h-3 ${I<S.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},I))}),i.jsx("p",{className:"text-sm text-muted-foreground",children:S.comment})]})]})},S.id)),(k||P)&&i.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[i.jsxs(je,{variant:"outline",onClick:()=>w(g-1),disabled:!k,children:[i.jsx(_0,{className:"w-4 h-4 mr-1"}),a==="en"?"Previous":""]}),i.jsx("span",{className:"px-4 py-2 text-sm text-muted-foreground",children:a==="en"?`Page ${g}`:` ${g}`}),i.jsxs(je,{variant:"outline",onClick:()=>w(g+1),disabled:!P,children:[a==="en"?"Next":"",i.jsx(bm,{className:"w-4 h-4 ml-1"})]})]})]})}),i.jsx(Jt,{})]})}var m4=e=>{switch(e){case"success":return x4;case"info":return w4;case"warning":return y4;case"error":return _4;default:return null}},g4=Array(12).fill(0),v4=({visible:e,className:t})=>ge.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ge.createElement("div",{className:"sonner-spinner"},g4.map((r,a)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),x4=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),y4=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),w4=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_4=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b4=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),j4=()=>{let[e,t]=ge.useState(document.hidden);return ge.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},hm=1,N4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,l=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hm++,d=this.toasts.find(p=>p.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),d?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:r}),{...p,...e,id:l,dismissible:f,title:r}):p):this.addToast({title:r,...a,dismissible:f,id:l}),l},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),l=r!==void 0,d,f=a.then(async g=>{if(d=["resolve",g],ge.isValidElement(g))l=!1,this.create({id:r,type:"default",message:g});else if(C4(g)&&!g.ok){l=!1;let w=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,_=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description;this.create({id:r,type:"error",message:w,description:_})}else if(t.success!==void 0){l=!1;let w=typeof t.success=="function"?await t.success(g):t.success,_=typeof t.description=="function"?await t.description(g):t.description;this.create({id:r,type:"success",message:w,description:_})}}).catch(async g=>{if(d=["reject",g],t.error!==void 0){l=!1;let w=typeof t.error=="function"?await t.error(g):t.error,_=typeof t.description=="function"?await t.description(g):t.description;this.create({id:r,type:"error",message:w,description:_})}}).finally(()=>{var g;l&&(this.dismiss(r),r=void 0),(g=t.finally)==null||g.call(t)}),p=()=>new Promise((g,w)=>f.then(()=>d[0]==="reject"?w(d[1]):g(d[1])).catch(w));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(e,t)=>{let r=t?.id||hm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},On=new N4,S4=(e,t)=>{let r=t?.id||hm++;return On.addToast({title:e,...t,id:r}),r},C4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",E4=S4,P4=()=>On.toasts,k4=()=>On.getActiveToasts(),To=Object.assign(E4,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:P4,getToasts:k4});function T4(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}T4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pd(e){return e.label!==void 0}var R4=3,L4="32px",A4="16px",Ty=4e3,M4=356,O4=14,I4=20,D4=200;function Vr(...e){return e.filter(Boolean).join(" ")}function F4(e){let[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}var z4=e=>{var t,r,a,l,d,f,p,g,w,_,N;let{invert:E,toast:P,unstyled:k,interacting:b,setHeights:S,visibleToasts:M,heights:I,index:R,toasts:F,expanded:V,removeToast:re,defaultRichColors:ee,closeButton:se,style:K,cancelButtonStyle:X,actionButtonStyle:ae,className:Z="",descriptionClassName:ue="",duration:ie,position:pe,gap:he,loadingIcon:me,expandByDefault:B,classNames:G,icons:J,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:H}=e,[$,W]=ge.useState(null),[Y,Q]=ge.useState(null),[de,Ne]=ge.useState(!1),[Le,ke]=ge.useState(!1),[ze,tt]=ge.useState(!1),[Nt,gn]=ge.useState(!1),[kr,fr]=ge.useState(!1),[Un,Tr]=ge.useState(0),[eo,Rr]=ge.useState(0),rn=ge.useRef(P.duration||ie||Ty),Es=ge.useRef(null),Hn=ge.useRef(null),Yo=R===0,Xo=R+1<=M,Bt=P.type,Wn=P.dismissible!==!1,Ps=P.className||"",Jo=P.descriptionClassName||"",Vn=ge.useMemo(()=>I.findIndex(Be=>Be.toastId===P.id)||0,[I,P.id]),ts=ge.useMemo(()=>{var Be;return(Be=P.closeButton)!=null?Be:se},[P.closeButton,se]),ea=ge.useMemo(()=>P.duration||ie||Ty,[P.duration,ie]),ks=ge.useRef(0),Zn=ge.useRef(0),to=ge.useRef(0),hr=ge.useRef(null),[Lr,no]=pe.split("-"),ii=ge.useMemo(()=>I.reduce((Be,st,ht)=>ht>=Vn?Be:Be+st.height,0),[I,Vn]),Ts=j4(),Ar=P.invert||E,qn=Bt==="loading";Zn.current=ge.useMemo(()=>Vn*he+ii,[Vn,ii]),ge.useEffect(()=>{rn.current=ea},[ea]),ge.useEffect(()=>{Ne(!0)},[]),ge.useEffect(()=>{let Be=Hn.current;if(Be){let st=Be.getBoundingClientRect().height;return Rr(st),S(ht=>[{toastId:P.id,height:st,position:P.position},...ht]),()=>S(ht=>ht.filter(en=>en.toastId!==P.id))}},[S,P.id]),ge.useLayoutEffect(()=>{if(!de)return;let Be=Hn.current,st=Be.style.height;Be.style.height="auto";let ht=Be.getBoundingClientRect().height;Be.style.height=st,Rr(ht),S(en=>en.find(Kt=>Kt.toastId===P.id)?en.map(Kt=>Kt.toastId===P.id?{...Kt,height:ht}:Kt):[{toastId:P.id,height:ht,position:P.position},...en])},[de,P.title,P.description,S,P.id]);let Kn=ge.useCallback(()=>{ke(!0),Tr(Zn.current),S(Be=>Be.filter(st=>st.toastId!==P.id)),setTimeout(()=>{re(P)},D4)},[P,re,S,Zn]);ge.useEffect(()=>{if(P.promise&&Bt==="loading"||P.duration===1/0||P.type==="loading")return;let Be;return V||b||H&&Ts?(()=>{if(to.current<ks.current){let st=new Date().getTime()-ks.current;rn.current=rn.current-st}to.current=new Date().getTime()})():rn.current!==1/0&&(ks.current=new Date().getTime(),Be=setTimeout(()=>{var st;(st=P.onAutoClose)==null||st.call(P,P),Kn()},rn.current)),()=>clearTimeout(Be)},[V,b,P,Bt,H,Ts,Kn]),ge.useEffect(()=>{P.delete&&Kn()},[Kn,P.delete]);function ta(){var Be,st,ht;return J!=null&&J.loading?ge.createElement("div",{className:Vr(G?.loader,(Be=P?.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":Bt==="loading"},J.loading):me?ge.createElement("div",{className:Vr(G?.loader,(st=P?.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Bt==="loading"},me):ge.createElement(v4,{className:Vr(G?.loader,(ht=P?.classNames)==null?void 0:ht.loader),visible:Bt==="loading"})}return ge.createElement("li",{tabIndex:0,ref:Hn,className:Vr(Z,Ps,G?.toast,(t=P?.classNames)==null?void 0:t.toast,G?.default,G?.[Bt],(r=P?.classNames)==null?void 0:r[Bt]),"data-sonner-toast":"","data-rich-colors":(a=P.richColors)!=null?a:ee,"data-styled":!(P.jsx||P.unstyled||k),"data-mounted":de,"data-promise":!!P.promise,"data-swiped":kr,"data-removed":Le,"data-visible":Xo,"data-y-position":Lr,"data-x-position":no,"data-index":R,"data-front":Yo,"data-swiping":ze,"data-dismissible":Wn,"data-type":Bt,"data-invert":Ar,"data-swipe-out":Nt,"data-swipe-direction":Y,"data-expanded":!!(V||B&&de),style:{"--index":R,"--toasts-before":R,"--z-index":F.length-R,"--offset":`${Le?Un:Zn.current}px`,"--initial-height":B?"auto":`${eo}px`,...K,...P.style},onDragEnd:()=>{tt(!1),W(null),hr.current=null},onPointerDown:Be=>{qn||!Wn||(Es.current=new Date,Tr(Zn.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(tt(!0),hr.current={x:Be.clientX,y:Be.clientY}))},onPointerUp:()=>{var Be,st,ht,en;if(Nt||!Wn)return;hr.current=null;let Kt=Number(((Be=Hn.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sn=Number(((st=Hn.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gn=new Date().getTime()-((ht=Es.current)==null?void 0:ht.getTime()),$t=$==="x"?Kt:sn,pr=Math.abs($t)/Gn;if(Math.abs($t)>=I4||pr>.11){Tr(Zn.current),(en=P.onDismiss)==null||en.call(P,P),Q($==="x"?Kt>0?"right":"left":sn>0?"down":"up"),Kn(),gn(!0),fr(!1);return}tt(!1),W(null)},onPointerMove:Be=>{var st,ht,en,Kt;if(!hr.current||!Wn||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let sn=Be.clientY-hr.current.y,Gn=Be.clientX-hr.current.x,$t=(ht=e.swipeDirections)!=null?ht:F4(pe);!$&&(Math.abs(Gn)>1||Math.abs(sn)>1)&&W(Math.abs(Gn)>Math.abs(sn)?"x":"y");let pr={x:0,y:0};$==="y"?($t.includes("top")||$t.includes("bottom"))&&($t.includes("top")&&sn<0||$t.includes("bottom")&&sn>0)&&(pr.y=sn):$==="x"&&($t.includes("left")||$t.includes("right"))&&($t.includes("left")&&Gn<0||$t.includes("right")&&Gn>0)&&(pr.x=Gn),(Math.abs(pr.x)>0||Math.abs(pr.y)>0)&&fr(!0),(en=Hn.current)==null||en.style.setProperty("--swipe-amount-x",`${pr.x}px`),(Kt=Hn.current)==null||Kt.style.setProperty("--swipe-amount-y",`${pr.y}px`)}},ts&&!P.jsx?ge.createElement("button",{"aria-label":O,"data-disabled":qn,"data-close-button":!0,onClick:qn||!Wn?()=>{}:()=>{var Be;Kn(),(Be=P.onDismiss)==null||Be.call(P,P)},className:Vr(G?.closeButton,(l=P?.classNames)==null?void 0:l.closeButton)},(d=J?.close)!=null?d:b4):null,P.jsx||v.isValidElement(P.title)?P.jsx?P.jsx:typeof P.title=="function"?P.title():P.title:ge.createElement(ge.Fragment,null,Bt||P.icon||P.promise?ge.createElement("div",{"data-icon":"",className:Vr(G?.icon,(f=P?.classNames)==null?void 0:f.icon)},P.promise||P.type==="loading"&&!P.icon?P.icon||ta():null,P.type!=="loading"?P.icon||J?.[Bt]||m4(Bt):null):null,ge.createElement("div",{"data-content":"",className:Vr(G?.content,(p=P?.classNames)==null?void 0:p.content)},ge.createElement("div",{"data-title":"",className:Vr(G?.title,(g=P?.classNames)==null?void 0:g.title)},typeof P.title=="function"?P.title():P.title),P.description?ge.createElement("div",{"data-description":"",className:Vr(ue,Jo,G?.description,(w=P?.classNames)==null?void 0:w.description)},typeof P.description=="function"?P.description():P.description):null),v.isValidElement(P.cancel)?P.cancel:P.cancel&&pd(P.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:P.cancelButtonStyle||X,onClick:Be=>{var st,ht;pd(P.cancel)&&Wn&&((ht=(st=P.cancel).onClick)==null||ht.call(st,Be),Kn())},className:Vr(G?.cancelButton,(_=P?.classNames)==null?void 0:_.cancelButton)},P.cancel.label):null,v.isValidElement(P.action)?P.action:P.action&&pd(P.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:P.actionButtonStyle||ae,onClick:Be=>{var st,ht;pd(P.action)&&((ht=(st=P.action).onClick)==null||ht.call(st,Be),!Be.defaultPrevented&&Kn())},className:Vr(G?.actionButton,(N=P?.classNames)==null?void 0:N.actionButton)},P.action.label):null))};function Ry(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function B4(e,t){let r={};return[e,t].forEach((a,l)=>{let d=l===1,f=d?"--mobile-offset":"--offset",p=d?A4:L4;function g(w){["top","right","bottom","left"].forEach(_=>{r[`${f}-${_}`]=typeof w=="number"?`${w}px`:w})}typeof a=="number"||typeof a=="string"?g(a):typeof a=="object"?["top","right","bottom","left"].forEach(w=>{a[w]===void 0?r[`${f}-${w}`]=p:r[`${f}-${w}`]=typeof a[w]=="number"?`${a[w]}px`:a[w]}):g(p)}),r}v.forwardRef(function(e,t){let{invert:r,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:g,mobileOffset:w,theme:_="light",richColors:N,duration:E,style:P,visibleToasts:k=R4,toastOptions:b,dir:S=Ry(),gap:M=O4,loadingIcon:I,icons:R,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:V}=e,[re,ee]=ge.useState([]),se=ge.useMemo(()=>Array.from(new Set([a].concat(re.filter(H=>H.position).map(H=>H.position)))),[re,a]),[K,X]=ge.useState([]),[ae,Z]=ge.useState(!1),[ue,ie]=ge.useState(!1),[pe,he]=ge.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),me=ge.useRef(null),B=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=ge.useRef(null),J=ge.useRef(!1),O=ge.useCallback(H=>{ee($=>{var W;return(W=$.find(Y=>Y.id===H.id))!=null&&W.delete||On.dismiss(H.id),$.filter(({id:Y})=>Y!==H.id)})},[]);return ge.useEffect(()=>On.subscribe(H=>{if(H.dismiss){ee($=>$.map(W=>W.id===H.id?{...W,delete:!0}:W));return}setTimeout(()=>{Zy.flushSync(()=>{ee($=>{let W=$.findIndex(Y=>Y.id===H.id);return W!==-1?[...$.slice(0,W),{...$[W],...H},...$.slice(W+1)]:[H,...$]})})})}),[]),ge.useEffect(()=>{if(_!=="system"){he(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:$})=>{he($?"dark":"light")})}catch{H.addListener(({matches:W})=>{try{he(W?"dark":"light")}catch(Y){console.error(Y)}})}},[_]),ge.useEffect(()=>{re.length<=1&&Z(!1)},[re]),ge.useEffect(()=>{let H=$=>{var W,Y;l.every(Q=>$[Q]||$.code===Q)&&(Z(!0),(W=me.current)==null||W.focus()),$.code==="Escape"&&(document.activeElement===me.current||(Y=me.current)!=null&&Y.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[l]),ge.useEffect(()=>{if(me.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,J.current=!1)}},[me.current]),ge.createElement("section",{ref:t,"aria-label":`${F} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},se.map((H,$)=>{var W;let[Y,Q]=H.split("-");return re.length?ge.createElement("ol",{key:H,dir:S==="auto"?Ry():S,tabIndex:-1,ref:me,className:p,"data-sonner-toaster":!0,"data-theme":pe,"data-y-position":Y,"data-lifted":ae&&re.length>1&&!d,"data-x-position":Q,style:{"--front-toast-height":`${((W=K[0])==null?void 0:W.height)||0}px`,"--width":`${M4}px`,"--gap":`${M}px`,...P,...B4(g,w)},onBlur:de=>{J.current&&!de.currentTarget.contains(de.relatedTarget)&&(J.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||J.current||(J.current=!0,G.current=de.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{ue||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},re.filter(de=>!de.position&&$===0||de.position===H).map((de,Ne)=>{var Le,ke;return ge.createElement(z4,{key:de.id,icons:R,index:Ne,toast:de,defaultRichColors:N,duration:(Le=b?.duration)!=null?Le:E,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:r,visibleToasts:k,closeButton:(ke=b?.closeButton)!=null?ke:f,interacting:ue,position:H,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:O,toasts:re.filter(ze=>ze.position==de.position),heights:K.filter(ze=>ze.position==de.position),setHeights:X,expandByDefault:d,gap:M,loadingIcon:I,expanded:ae,pauseWhenPageIsHidden:V,swipeDirections:e.swipeDirections})})):null}))});function $4(){const{productId:e}=of(),[t]=Iw(),r=t.get("order"),{user:a}=Sn(),l=jt(),d=cl(),{language:f}=qt(),[p,g]=v.useState(5),[w,_]=v.useState(""),[N,E]=v.useState(0);v.useEffect(()=>{a||l("/login"),r||(To.error(f==="en"?"Invalid order":"  "),l("/notifications"))},[a,r,l,f]);const{data:P,isLoading:k}=el({queryKey:["product",e],queryFn:()=>we.get(`/marketplace/products/${e}/`).then(R=>R.data),enabled:!!e,onError:R=>{console.error("Error fetching product:",R),To.error(f==="en"?"Product not found":"  ")}}),{data:b,error:S}=el({queryKey:["order",r],queryFn:()=>we.get(`/orders/${r}/`).then(R=>R.data),enabled:!!r,onError:R=>{console.error("Error fetching order:",R),R.response?.status===404&&(To.error(f==="en"?"Order not found":"  "),l("/notifications"))}}),M=rf({mutationFn:R=>Zi.reviews.create(R),onSuccess:()=>{d.invalidateQueries({queryKey:["reviews"]}),To.success(f==="en"?"Review submitted successfully!":"   !"),setTimeout(()=>l("/notifications"),1500)},onError:R=>{console.error("Review error:",R);const F=R.response?.data?.error||R.response?.data?.detail;To.error(F||(f==="en"?"Failed to submit review":"  "))}}),I=()=>{if(!w.trim()){To.error(f==="en"?"Please write a comment":"   ");return}if(p<1||p>5){To.error(f==="en"?"Please select a rating":"   ");return}M.mutate({target_user:P?.owner?.id||b?.seller?.id,rating:p,comment:w,product_id:e,order_id:r})};return k?i.jsxs(i.Fragment,{children:[i.jsx(Xt,{}),i.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:i.jsx(Ed,{className:"w-8 h-8 animate-spin text-forest"})}),i.jsx(Jt,{})]}):i.jsxs(i.Fragment,{children:[i.jsx(Xt,{}),i.jsx("div",{className:"min-h-screen pt-20 pb-10 bg-gray-50",children:i.jsxs("div",{className:"container mx-auto max-w-2xl p-6",children:[i.jsxs(je,{variant:"ghost",onClick:()=>l("/notifications"),className:"mb-4",children:[i.jsx(Ss,{className:"w-4 h-4 mr-2"}),f==="en"?"Back to Notifications":" "]}),i.jsxs(Ve,{children:[i.jsxs(ct,{children:[i.jsxs(ut,{className:"flex items-center gap-2",children:[i.jsx(Kr,{className:"w-6 h-6 text-yellow-400"}),f==="en"?"Rate Your Experience":" "]}),P&&i.jsxs("div",{className:"mt-4 flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[P.primary_image&&i.jsx("img",{src:P.primary_image,alt:P.title,className:"w-16 h-16 object-cover rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:f==="en"?P.title:P.title_ar||P.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[f==="en"?"Order":"",": #",r?.slice(0,8),"..."]})]})]})]}),i.jsxs(Ge,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-2 font-medium",children:f==="en"?"Rating":""}),i.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(R=>i.jsx(Kr,{onClick:()=>g(R),onMouseEnter:()=>E(R),onMouseLeave:()=>E(0),className:`w-10 h-10 cursor-pointer transition-all ${R<=(N||p)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-200"}`},R))}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[p,"/5 ",f==="en"?"stars":""]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-2 font-medium",children:f==="en"?"Your Review":""}),i.jsx(ar,{value:w,onChange:R=>_(R.target.value),placeholder:f==="en"?"Share your experience with this product...":"    ...",rows:5,className:"resize-none"})]}),i.jsx(je,{onClick:I,disabled:!w.trim()||M.isPending,className:"w-full bg-forest hover:bg-forest/90",size:"lg",children:M.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Ed,{className:"w-4 h-4 mr-2 animate-spin"}),f==="en"?"Submitting...":" ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Do,{className:"w-4 h-4 mr-2"}),f==="en"?"Submit Review":" "]})})]})]})]})}),i.jsx(Jt,{})]})}function Y1(e,t){const r=v.useRef(t);v.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const U4=1;function H4(e){return Object.freeze({__version:U4,map:e})}function X1(e,t){return Object.freeze({...e,...t})}const J1=v.createContext(null),ej=J1.Provider;function Ef(){const e=v.useContext(J1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function tj(e){function t(r,a){const{instance:l,context:d}=e(r).current;return v.useImperativeHandle(a,()=>l),r.children==null?null:ge.createElement(ej,{value:d},r.children)}return v.forwardRef(t)}function W4(e){function t(r,a){const[l,d]=v.useState(!1),{instance:f}=e(r,d).current;v.useImperativeHandle(a,()=>f),v.useEffect(function(){l&&f.update()},[f,l,r.children]);const p=f._contentNode;return p?Zo.createPortal(r.children,p):null}return v.forwardRef(t)}function V4(e){function t(r,a){const{instance:l}=e(r).current;return v.useImperativeHandle(a,()=>l),null}return v.forwardRef(t)}function dg(e,t){const r=v.useRef();v.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function Pf(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function Z4(e,t){return function(a,l){const d=Ef(),f=e(Pf(a,d),d);return Y1(d.map,a.attribution),dg(f.current,a.eventHandlers),t(f.current,d,a,l),f}}var gc={exports:{}};var q4=gc.exports,Ly;function K4(){return Ly||(Ly=1,(function(e,t){(function(r,a){a(t)})(q4,(function(r){var a="1.9.4";function l(s){var c,h,x,C;for(h=1,x=arguments.length;h<x;h++){C=arguments[h];for(c in C)s[c]=C[c]}return s}var d=Object.create||(function(){function s(){}return function(c){return s.prototype=c,new s}})();function f(s,c){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var x=h.call(arguments,2);return function(){return s.apply(c,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++p),s._leaflet_id}function w(s,c,h){var x,C,A,z;return z=function(){x=!1,C&&(A.apply(h,C),C=!1)},A=function(){x?C=arguments:(s.apply(h,arguments),setTimeout(z,c),x=!0)},A}function _(s,c,h){var x=c[1],C=c[0],A=x-C;return s===x&&h?s:((s-C)%A+A)%A+C}function N(){return!1}function E(s,c){if(c===!1)return s;var h=Math.pow(10,c===void 0?6:c);return Math.round(s*h)/h}function P(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return P(s).split(/\s+/)}function b(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in c)s.options[h]=c[h];return s.options}function S(s,c,h){var x=[];for(var C in s)x.push(encodeURIComponent(h?C.toUpperCase():C)+"="+encodeURIComponent(s[C]));return(!c||c.indexOf("?")===-1?"?":"&")+x.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function I(s,c){return s.replace(M,function(h,x){var C=c[x];if(C===void 0)throw new Error("No value provided for variable "+h);return typeof C=="function"&&(C=C(c)),C})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function F(s,c){for(var h=0;h<s.length;h++)if(s[h]===c)return h;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function re(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var ee=0;function se(s){var c=+new Date,h=Math.max(0,16-(c-ee));return ee=c+h,window.setTimeout(s,h)}var K=window.requestAnimationFrame||re("RequestAnimationFrame")||se,X=window.cancelAnimationFrame||re("CancelAnimationFrame")||re("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ae(s,c,h){if(h&&K===se)s.call(c);else return K.call(window,f(s,c))}function Z(s){s&&X.call(window,s)}var ue={__proto__:null,extend:l,create:d,bind:f,get lastId(){return p},stamp:g,throttle:w,wrapNum:_,falseFn:N,formatNum:E,trim:P,splitWords:k,setOptions:b,getParamString:S,template:I,isArray:R,indexOf:F,emptyImageUrl:V,requestFn:K,cancelFn:X,requestAnimFrame:ae,cancelAnimFrame:Z};function ie(){}ie.extend=function(s){var c=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=c.__super__=this.prototype,x=d(h);x.constructor=c,c.prototype=x;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return s.statics&&l(c,s.statics),s.includes&&(pe(s.includes),l.apply(null,[x].concat(s.includes))),l(x,s),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},l(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,z=x._initHooks.length;A<z;A++)x._initHooks[A].call(this)}},c},ie.include=function(s){var c=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},ie.mergeOptions=function(s){return l(this.prototype.options,s),this},ie.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function pe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var he={on:function(s,c,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],c);else{s=k(s);for(var C=0,A=s.length;C<A;C++)this._on(s[C],c,h)}return this},off:function(s,c,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],c);else{s=k(s);for(var C=arguments.length===1,A=0,z=s.length;A<z;A++)C?this._off(s[A]):this._off(s[A],c,h)}return this},_on:function(s,c,h,x){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,h)===!1){h===this&&(h=void 0);var C={fn:c,ctx:h};x&&(C.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(C)}},_off:function(s,c,h){var x,C,A;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(C=0,A=x.length;C<A;C++)x[C].fn=N;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var z=this._listens(s,c,h);if(z!==!1){var te=x[z];this._firingCount&&(te.fn=N,this._events[s]=x=x.slice()),x.splice(z,1)}}},fire:function(s,c,h){if(!this.listens(s,h))return this;var x=l({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[s];if(C){this._firingCount=this._firingCount+1||1;for(var A=0,z=C.length;A<z;A++){var te=C[A],le=te.fn;te.once&&this.off(s,le,te.ctx),le.call(te.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(s,c,h,x){typeof s!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(x=!!c,C=void 0,h=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,C,h)!==!1)return!0;if(x){for(var z in this._eventParents)if(this._eventParents[z].listens(s,c,h,x))return!0}return!1},_listens:function(s,c,h){if(!this._events)return!1;var x=this._events[s]||[];if(!c)return!!x.length;h===this&&(h=void 0);for(var C=0,A=x.length;C<A;C++)if(x[C].fn===c&&x[C].ctx===h)return C;return!1},once:function(s,c,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],c,!0);else{s=k(s);for(var C=0,A=s.length;C<A;C++)this._on(s[C],c,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};he.addEventListener=he.on,he.removeEventListener=he.clearAllEventListeners=he.off,he.addOneTimeEventListener=he.once,he.fireEvent=he.fire,he.hasEventListeners=he.listens;var me=ie.extend(he);function B(s,c,h){this.x=h?Math.round(s):s,this.y=h?Math.round(c):c}var G=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(s){return this.clone()._add(J(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(J(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new B(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new B(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(s){s=J(s);var c=s.x-this.x,h=s.y-this.y;return Math.sqrt(c*c+h*h)},equals:function(s){return s=J(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=J(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function J(s,c,h){return s instanceof B?s:R(s)?new B(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new B(s.x,s.y):new B(s,c,h)}function O(s,c){if(s)for(var h=c?[s,c]:s,x=0,C=h.length;x<C;x++)this.extend(h[x])}O.prototype={extend:function(s){var c,h;if(!s)return this;if(s instanceof B||typeof s[0]=="number"||"x"in s)c=h=J(s);else if(s=H(s),c=s.min,h=s.max,!c||!h)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=h.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,h;return typeof s[0]=="number"||s instanceof B?s=J(s):s=H(s),s instanceof O?(c=s.min,h=s.max):c=h=s,c.x>=this.min.x&&h.x<=this.max.x&&c.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=H(s);var c=this.min,h=this.max,x=s.min,C=s.max,A=C.x>=c.x&&x.x<=h.x,z=C.y>=c.y&&x.y<=h.y;return A&&z},overlaps:function(s){s=H(s);var c=this.min,h=this.max,x=s.min,C=s.max,A=C.x>c.x&&x.x<h.x,z=C.y>c.y&&x.y<h.y;return A&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,h=this.max,x=Math.abs(c.x-h.x)*s,C=Math.abs(c.y-h.y)*s;return H(J(c.x-x,c.y-C),J(h.x+x,h.y+C))},equals:function(s){return s?(s=H(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function H(s,c){return!s||s instanceof O?s:new O(s,c)}function $(s,c){if(s)for(var h=c?[s,c]:s,x=0,C=h.length;x<C;x++)this.extend(h[x])}$.prototype={extend:function(s){var c=this._southWest,h=this._northEast,x,C;if(s instanceof Y)x=s,C=s;else if(s instanceof $){if(x=s._southWest,C=s._northEast,!x||!C)return this}else return s?this.extend(Q(s)||W(s)):this;return!c&&!h?(this._southWest=new Y(x.lat,x.lng),this._northEast=new Y(C.lat,C.lng)):(c.lat=Math.min(x.lat,c.lat),c.lng=Math.min(x.lng,c.lng),h.lat=Math.max(C.lat,h.lat),h.lng=Math.max(C.lng,h.lng)),this},pad:function(s){var c=this._southWest,h=this._northEast,x=Math.abs(c.lat-h.lat)*s,C=Math.abs(c.lng-h.lng)*s;return new $(new Y(c.lat-x,c.lng-C),new Y(h.lat+x,h.lng+C))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Y||"lat"in s?s=Q(s):s=W(s);var c=this._southWest,h=this._northEast,x,C;return s instanceof $?(x=s.getSouthWest(),C=s.getNorthEast()):x=C=s,x.lat>=c.lat&&C.lat<=h.lat&&x.lng>=c.lng&&C.lng<=h.lng},intersects:function(s){s=W(s);var c=this._southWest,h=this._northEast,x=s.getSouthWest(),C=s.getNorthEast(),A=C.lat>=c.lat&&x.lat<=h.lat,z=C.lng>=c.lng&&x.lng<=h.lng;return A&&z},overlaps:function(s){s=W(s);var c=this._southWest,h=this._northEast,x=s.getSouthWest(),C=s.getNorthEast(),A=C.lat>c.lat&&x.lat<h.lat,z=C.lng>c.lng&&x.lng<h.lng;return A&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=W(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(s,c){return s instanceof $?s:new $(s,c)}function Y(s,c,h){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,h!==void 0&&(this.alt=+h)}Y.prototype={equals:function(s,c){if(!s)return!1;s=Q(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+E(this.lat,s)+", "+E(this.lng,s)+")"},distanceTo:function(s){return Ne.distance(this,Q(s))},wrap:function(){return Ne.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,h=c/Math.cos(Math.PI/180*this.lat);return W([this.lat-c,this.lng-h],[this.lat+c,this.lng+h])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};function Q(s,c,h){return s instanceof Y?s:R(s)&&typeof s[0]!="object"?s.length===3?new Y(s[0],s[1],s[2]):s.length===2?new Y(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Y(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new Y(s,c,h)}var de={latLngToPoint:function(s,c){var h=this.projection.project(s),x=this.scale(c);return this.transformation._transform(h,x)},pointToLatLng:function(s,c){var h=this.scale(c),x=this.transformation.untransform(s,h);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,h=this.scale(s),x=this.transformation.transform(c.min,h),C=this.transformation.transform(c.max,h);return new O(x,C)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new Y(h,c,x)},wrapLatLngBounds:function(s){var c=s.getCenter(),h=this.wrapLatLng(c),x=c.lat-h.lat,C=c.lng-h.lng;if(x===0&&C===0)return s;var A=s.getSouthWest(),z=s.getNorthEast(),te=new Y(A.lat-x,A.lng-C),le=new Y(z.lat-x,z.lng-C);return new $(te,le)}},Ne=l({},de,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var h=Math.PI/180,x=s.lat*h,C=c.lat*h,A=Math.sin((c.lat-s.lat)*h/2),z=Math.sin((c.lng-s.lng)*h/2),te=A*A+Math.cos(x)*Math.cos(C)*z*z,le=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*le}}),Le=6378137,ke={R:Le,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,s.lat),-h),C=Math.sin(x*c);return new B(this.R*s.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(s){var c=180/Math.PI;return new Y((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:(function(){var s=Le*Math.PI;return new O([-s,-s],[s,s])})()};function ze(s,c,h,x){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=h,this._d=x}ze.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new B((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function tt(s,c,h,x){return new ze(s,c,h,x)}var Nt=l({},Ne,{code:"EPSG:3857",projection:ke,transformation:(function(){var s=.5/(Math.PI*ke.R);return tt(s,.5,-s,.5)})()}),gn=l({},Nt,{code:"EPSG:900913"});function kr(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function fr(s,c){var h="",x,C,A,z,te,le;for(x=0,A=s.length;x<A;x++){for(te=s[x],C=0,z=te.length;C<z;C++)le=te[C],h+=(C?"L":"M")+le.x+" "+le.y;h+=c?Me.svg?"z":"x":""}return h||"M0 0"}var Un=document.documentElement.style,Tr="ActiveXObject"in window,eo=Tr&&!document.addEventListener,Rr="msLaunchUri"in navigator&&!("documentMode"in document),rn=on("webkit"),Es=on("android"),Hn=on("android 2")||on("android 3"),Yo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xo=Es&&on("Google")&&Yo<537&&!("AudioNode"in window),Bt=!!window.opera,Wn=!Rr&&on("chrome"),Ps=on("gecko")&&!rn&&!Bt&&!Tr,Jo=!Wn&&on("safari"),Vn=on("phantom"),ts="OTransition"in Un,ea=navigator.platform.indexOf("Win")===0,ks=Tr&&"transition"in Un,Zn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Hn,to="MozPerspective"in Un,hr=!window.L_DISABLE_3D&&(ks||Zn||to)&&!ts&&!Vn,Lr=typeof orientation<"u"||on("mobile"),no=Lr&&rn,ii=Lr&&Zn,Ts=!window.PointerEvent&&window.MSPointerEvent,Ar=!!(window.PointerEvent||Ts),qn="ontouchstart"in window||!!window.TouchEvent,Kn=!window.L_NO_TOUCH&&(qn||Ar),ta=Lr&&Bt,Be=Lr&&Ps,st=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ht=(function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",N,c),window.removeEventListener("testPassiveEventSupport",N,c)}catch{}return s})(),en=(function(){return!!document.createElement("canvas").getContext})(),Kt=!!(document.createElementNS&&kr("svg").createSVGRect),sn=!!Kt&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Gn=!Kt&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),$t=navigator.platform.indexOf("Mac")===0,pr=navigator.platform.indexOf("Linux")===0;function on(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Me={ie:Tr,ielt9:eo,edge:Rr,webkit:rn,android:Es,android23:Hn,androidStock:Xo,opera:Bt,chrome:Wn,gecko:Ps,safari:Jo,phantom:Vn,opera12:ts,win:ea,ie3d:ks,webkit3d:Zn,gecko3d:to,any3d:hr,mobile:Lr,mobileWebkit:no,mobileWebkit3d:ii,msPointer:Ts,pointer:Ar,touch:Kn,touchNative:qn,mobileOpera:ta,mobileGecko:Be,retina:st,passiveEvents:ht,canvas:en,svg:Kt,vml:Gn,inlineSvg:sn,mac:$t,linux:pr},ro=Me.msPointer?"MSPointerDown":"pointerdown",na=Me.msPointer?"MSPointerMove":"pointermove",Vc=Me.msPointer?"MSPointerUp":"pointerup",Zc=Me.msPointer?"MSPointerCancel":"pointercancel",vl={touchstart:ro,touchmove:na,touchend:Vc,touchcancel:Zc},ns={touchstart:Ct,touchmove:ra,touchend:ra,touchcancel:ra},Rs={},xl=!1;function Af(s,c,h){return c==="touchstart"&&Mf(),ns[c]?(h=ns[c].bind(this,h),s.addEventListener(vl[c],h,!1),h):(console.warn("wrong event specified:",c),N)}function qc(s,c,h){if(!vl[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(vl[c],h,!1)}function Kc(s){Rs[s.pointerId]=s}function Gc(s){Rs[s.pointerId]&&(Rs[s.pointerId]=s)}function yl(s){delete Rs[s.pointerId]}function Mf(){xl||(document.addEventListener(ro,Kc,!0),document.addEventListener(na,Gc,!0),document.addEventListener(Vc,yl,!0),document.addEventListener(Zc,yl,!0),xl=!0)}function ra(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var h in Rs)c.touches.push(Rs[h]);c.changedTouches=[c],s(c)}}function Ct(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Et(c),ra(s,c)}function Of(s){var c={},h,x;for(x in s)h=s[x],c[x]=h&&h.bind?h.bind(s):h;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var wl=200;function Qc(s,c){s.addEventListener("dblclick",c);var h=0,x;function C(A){if(A.detail!==1){x=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var z=Ms(A);if(!(z.some(function(le){return le instanceof HTMLLabelElement&&le.attributes.for})&&!z.some(function(le){return le instanceof HTMLInputElement||le instanceof HTMLSelectElement}))){var te=Date.now();te-h<=wl?(x++,x===2&&c(Of(A))):x=1,h=te}}}return s.addEventListener("click",C),{dblclick:c,simDblclick:C}}function sa(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var _l=ci(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oi=ci(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),so=oi==="webkitTransition"||oi==="OTransition"?oi+"End":"transitionend";function Qn(s){return typeof s=="string"?document.getElementById(s):s}function io(s,c){var h=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);h=x?x[c]:null}return h==="auto"?null:h}function qe(s,c,h){var x=document.createElement(s);return x.className=c||"",h&&h.appendChild(x),x}function yt(s){var c=s.parentNode;c&&c.removeChild(s)}function ia(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ai(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function Mr(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function li(s,c){if(s.classList!==void 0)return s.classList.contains(c);var h=oa(s);return h.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(h)}function He(s,c){if(s.classList!==void 0)for(var h=k(c),x=0,C=h.length;x<C;x++)s.classList.add(h[x]);else if(!li(s,c)){var A=oa(s);bl(s,(A?A+" ":"")+c)}}function vt(s,c){s.classList!==void 0?s.classList.remove(c):bl(s,P((" "+oa(s)+" ").replace(" "+c+" "," ")))}function bl(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function oa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function an(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&Yc(s,c)}function Yc(s,c){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(x)}catch{if(c===1)return}c=Math.round(c*100),h?(h.Enabled=c!==100,h.Opacity=c):s.style.filter+=" progid:"+x+"(opacity="+c+")"}function ci(s){for(var c=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in c)return s[h];return!1}function Yn(s,c,h){var x=c||new B(0,0);s.style[_l]=(Me.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function Lt(s,c){s._leaflet_pos=c,Me.any3d?Yn(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function Or(s){return s._leaflet_pos||new B(0,0)}var nt,ui,aa;if("onselectstart"in document)nt=function(){$e(window,"selectstart",Et)},ui=function(){pt(window,"selectstart",Et)};else{var Ls=ci(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);nt=function(){if(Ls){var s=document.documentElement.style;aa=s[Ls],s[Ls]="none"}},ui=function(){Ls&&(document.documentElement.style[Ls]=aa,aa=void 0)}}function la(){$e(window,"dragstart",Et)}function ca(){pt(window,"dragstart",Et)}var oo,ao;function di(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Xn(),oo=s,ao=s.style.outlineStyle,s.style.outlineStyle="none",$e(window,"keydown",Xn))}function Xn(){oo&&(oo.style.outlineStyle=ao,oo=void 0,ao=void 0,pt(window,"keydown",Xn))}function Ir(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function mr(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var lo={__proto__:null,TRANSFORM:_l,TRANSITION:oi,TRANSITION_END:so,get:Qn,getStyle:io,create:qe,remove:yt,empty:ia,toFront:ai,toBack:Mr,hasClass:li,addClass:He,removeClass:vt,setClass:bl,getClass:oa,setOpacity:an,testProp:ci,setTransform:Yn,setPosition:Lt,getPosition:Or,get disableTextSelection(){return nt},get enableTextSelection(){return ui},disableImageDrag:la,enableImageDrag:ca,preventOutline:di,restoreOutline:Xn,getSizedParentNode:Ir,getScale:mr};function $e(s,c,h,x){if(c&&typeof c=="object")for(var C in c)Nl(s,C,c[C],h);else{c=k(c);for(var A=0,z=c.length;A<z;A++)Nl(s,c[A],h,x)}return this}var Ut="_leaflet_events";function pt(s,c,h,x){if(arguments.length===1)jl(s),delete s[Ut];else if(c&&typeof c=="object")for(var C in c)ua(s,C,c[C],h);else if(c=k(c),arguments.length===2)jl(s,function(te){return F(c,te)!==-1});else for(var A=0,z=c.length;A<z;A++)ua(s,c[A],h,x);return this}function jl(s,c){for(var h in s[Ut]){var x=h.split(/\d/)[0];(!c||c(x))&&ua(s,x,null,null,h)}}var As={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Nl(s,c,h,x){var C=c+g(h)+(x?"_"+g(x):"");if(s[Ut]&&s[Ut][C])return this;var A=function(te){return h.call(x||s,te||window.event)},z=A;!Me.touchNative&&Me.pointer&&c.indexOf("touch")===0?A=Af(s,c,A):Me.touch&&c==="dblclick"?A=Qc(s,A):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(As[c]||c,A,Me.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(A=function(te){te=te||window.event,fo(s,te)&&z(te)},s.addEventListener(As[c],A,!1)):s.addEventListener(c,z,!1):s.attachEvent("on"+c,A),s[Ut]=s[Ut]||{},s[Ut][C]=A}function ua(s,c,h,x,C){C=C||c+g(h)+(x?"_"+g(x):"");var A=s[Ut]&&s[Ut][C];if(!A)return this;!Me.touchNative&&Me.pointer&&c.indexOf("touch")===0?qc(s,c,A):Me.touch&&c==="dblclick"?sa(s,A):"removeEventListener"in s?s.removeEventListener(As[c]||c,A,!1):s.detachEvent("on"+c,A),s[Ut][C]=null}function gr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function da(s){return Nl(s,"wheel",gr),this}function co(s){return $e(s,"mousedown touchstart dblclick contextmenu",gr),s._leaflet_disable_click=!0,this}function Et(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Jn(s){return Et(s),gr(s),this}function Ms(s){if(s.composedPath)return s.composedPath();for(var c=[],h=s.target;h;)c.push(h),h=h.parentNode;return c}function uo(s,c){if(!c)return new B(s.clientX,s.clientY);var h=mr(c),x=h.boundingClientRect;return new B((s.clientX-x.left)/h.x-c.clientLeft,(s.clientY-x.top)/h.y-c.clientTop)}var If=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xc(s){return Me.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/If:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function fo(s,c){var h=c.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var fa={__proto__:null,on:$e,off:pt,stopPropagation:gr,disableScrollPropagation:da,disableClickPropagation:co,preventDefault:Et,stop:Jn,getPropagationPath:Ms,getMousePosition:uo,getWheelDelta:Xc,isExternalTarget:fo,addListener:$e,removeListener:pt},ha=me.extend({run:function(s,c,h,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Or(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,h=this._duration*1e3;c<h?this._runFrame(this._easeOut(c/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var h=this._startPos.add(this._offset.multiplyBy(s));c&&h._round(),Lt(this._el,h),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),et=me.extend({options:{crs:Nt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=b(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Q(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oi&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,so,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,h){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(Q(s),c,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=l({animate:h.animate},h.zoom),h.pan=l({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,h.zoom):this._tryAnimatedPan(s,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,h){var x=this.getZoomScale(c),C=this.getSize().divideBy(2),A=s instanceof B?s:this.latLngToContainerPoint(s),z=A.subtract(C).multiplyBy(1-1/x),te=this.containerPointToLatLng(C.add(z));return this.setView(te,c,{zoom:h})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():W(s);var h=J(c.paddingTopLeft||c.padding||[0,0]),x=J(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(s,!1,h.add(x));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:s.getCenter(),zoom:C};var A=x.subtract(h).divideBy(2),z=this.project(s.getSouthWest(),C),te=this.project(s.getNorthEast(),C),le=this.unproject(z.add(te).divideBy(2).add(A),C);return{center:le,zoom:C}},fitBounds:function(s,c){if(s=W(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,c);return this.setView(h.center,h.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=J(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ha,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){He(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,h){if(h=h||{},h.animate===!1||!Me.any3d)return this.setView(s,c,h);this._stop();var x=this.project(this.getCenter()),C=this.project(s),A=this.getSize(),z=this._zoom;s=Q(s),c=c===void 0?z:c;var te=Math.max(A.x,A.y),le=te*this.getZoomScale(z,c),ve=C.distanceTo(x)||1,Ce=1.42,Ie=Ce*Ce;function Qe(ft){var Ci=ft?-1:1,Qf=ft?le:te,Yf=le*le-te*te+Ci*Ie*Ie*ve*ve,$s=2*Qf*Ie*ve,Us=Yf/$s,Hs=Math.sqrt(Us*Us+1)-Us,Ea=Hs<1e-9?-18:Math.log(Hs);return Ea}function Ht(ft){return(Math.exp(ft)-Math.exp(-ft))/2}function It(ft){return(Math.exp(ft)+Math.exp(-ft))/2}function yn(ft){return Ht(ft)/It(ft)}var cn=Qe(0);function Ni(ft){return te*(It(cn)/It(cn+Ce*ft))}function Vl(ft){return te*(It(cn)*yn(cn+Ce*ft)-Ht(cn))/Ie}function us(ft){return 1-Math.pow(1-ft,1.5)}var yu=Date.now(),Bs=(Qe(1)-cn)/Ce,wr=h.duration?1e3*h.duration:1e3*Bs*.8;function Si(){var ft=(Date.now()-yu)/wr,Ci=us(ft)*Bs;ft<=1?(this._flyToFrame=ae(Si,this),this._move(this.unproject(x.add(C.subtract(x).multiplyBy(Vl(Ci)/ve)),z),this.getScaleZoom(te/Ni(Ci),z),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Si.call(this),this},flyToBounds:function(s,c){var h=this._getBoundsCenterZoom(s,c);return this.flyTo(h.center,h.zoom,c)},setMaxBounds:function(s){return s=W(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,W(s));return h.equals(x)||this.panTo(x,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var h=J(c.paddingTopLeft||c.padding||[0,0]),x=J(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),A=this.project(s),z=this.getPixelBounds(),te=H([z.min.add(h),z.max.subtract(x)]),le=te.getSize();if(!te.contains(A)){this._enforcingBounds=!0;var ve=A.subtract(te.getCenter()),Ce=te.extend(A).getSize().subtract(le);C.x+=ve.x<0?-Ce.x:Ce.x,C.y+=ve.y<0?-Ce.y:Ce.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=c.divideBy(2).round(),C=h.divideBy(2).round(),A=x.subtract(C);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,h,s):navigator.geolocation.getCurrentPosition(c,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,h=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,h=s.coords.longitude,x=new Y(c,h),C=x.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var z=this.getBoundsZoom(C);this.setView(x,A.maxZoom?Math.min(z,A.maxZoom):z)}var te={latlng:x,bounds:C,timestamp:s.timestamp};for(var le in s.coords)typeof s.coords[le]=="number"&&(te[le]=s.coords[le]);this.fire("locationfound",te)}},addHandler:function(s,c){if(!c)return this;var h=this[s]=new c(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)yt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=qe("div",h,c||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new $(c,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,h){s=W(s),h=J(h||[0,0]);var x=this.getZoom()||0,C=this.getMinZoom(),A=this.getMaxZoom(),z=s.getNorthWest(),te=s.getSouthEast(),le=this.getSize().subtract(h),ve=H(this.project(te,x),this.project(z,x)).getSize(),Ce=Me.any3d?this.options.zoomSnap:1,Ie=le.x/ve.x,Qe=le.y/ve.y,Ht=c?Math.max(Ie,Qe):Math.min(Ie,Qe);return x=this.getScaleZoom(Ht,x),Ce&&(x=Math.round(x/(Ce/100))*(Ce/100),x=c?Math.ceil(x/Ce)*Ce:Math.floor(x/Ce)*Ce),Math.max(C,Math.min(A,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var h=this._getTopLeftPoint(s,c);return new O(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var h=this.options.crs;return c=c===void 0?this._zoom:c,h.scale(s)/h.scale(c)},getScaleZoom:function(s,c){var h=this.options.crs;c=c===void 0?this._zoom:c;var x=h.zoom(s*h.scale(c));return isNaN(x)?1/0:x},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Q(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(J(s),c)},layerPointToLatLng:function(s){var c=J(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(Q(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Q(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(W(s))},distance:function(s,c){return this.options.crs.distance(Q(s),Q(c))},containerPointToLayerPoint:function(s){return J(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return J(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(J(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Q(s)))},mouseEventToContainerPoint:function(s){return uo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=Qn(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$e(c,"scroll",this._onScroll,this),this._containerId=g(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,He(s,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=io(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Lt(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(He(s.markerPane,"leaflet-zoom-hide"),He(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,h){Lt(this._mapPane,new B(0,0));var x=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,h)._move(s,c)._moveEnd(C),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,h,x){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?h&&h.pinch&&this.fire("zoom",h):((C||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Lt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var c=s?pt:$e;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var h=[],x,C=c==="mouseout"||c==="mouseover",A=s.target||s.srcElement,z=!1;A;){if(x=this._targets[g(A)],x&&(c==="click"||c==="preclick")&&this._draggableMoved(x)){z=!0;break}if(x&&x.listens(c,!0)&&(C&&!fo(A,s)||(h.push(x),C))||A===this._container)break;A=A.parentNode}return!h.length&&!z&&!C&&this.listens(c,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var h=s.type;h==="mousedown"&&di(c),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,h){if(s.type==="click"){var x=l({},s);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var C=this._findEventTargets(s,c);if(h){for(var A=[],z=0;z<h.length;z++)h[z].listens(c,!0)&&A.push(h[z]);C=A.concat(C)}if(C.length){c==="contextmenu"&&Et(s);var te=C[0],le={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ve=te.getLatLng&&(!te._radius||te._radius<=10);le.containerPoint=ve?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(s),le.layerPoint=this.containerPointToLayerPoint(le.containerPoint),le.latlng=ve?te.getLatLng():this.layerPointToLatLng(le.layerPoint)}for(z=0;z<C.length;z++)if(C[z].fire(c,le,!0),le.originalEvent._stopped||C[z].options.bubblingMouseEvents===!1&&F(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return Or(this._mapPane)||new B(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var h=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var h=this.getSize()._divideBy(2);return this.project(s,c)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,h){var x=this._getNewPixelOrigin(h,c);return this.project(s,c)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,c,h){var x=this._getNewPixelOrigin(h,c);return H([this.project(s.getSouthWest(),c)._subtract(x),this.project(s.getNorthWest(),c)._subtract(x),this.project(s.getSouthEast(),c)._subtract(x),this.project(s.getNorthEast(),c)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,h){if(!h)return s;var x=this.project(s,c),C=this.getSize().divideBy(2),A=new O(x.subtract(C),x.add(C)),z=this._getBoundsOffset(A,h,c);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?s:this.unproject(x.add(z),c)},_limitOffset:function(s,c){if(!c)return s;var h=this.getPixelBounds(),x=new O(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(x,c))},_getBoundsOffset:function(s,c,h){var x=H(this.project(c.getNorthEast(),h),this.project(c.getSouthWest(),h)),C=x.min.subtract(s.min),A=x.max.subtract(s.max),z=this._rebound(C.x,-A.x),te=this._rebound(C.y,-A.y);return new B(z,te)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),h=this.getMaxZoom(),x=Me.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(c,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var h=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,c),!0)},_createAnimProxy:function(){var s=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var h=_l,x=this._proxy.style[h];Yn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();Yn(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(c),C=this._getCenterOffset(s)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(C)?!1:(ae(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,He(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rs(s,c){return new et(s,c)}var vn=ie.extend({options:{position:"topright"},initialize:function(s){b(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),h=this.getPosition(),x=s._controlCorners[h];return He(c,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(c,x.firstChild):x.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ss=function(s){return new vn(s)};et.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",h=this._controlContainer=qe("div",c+"control-container",this._container);function x(C,A){var z=c+C+" "+c+A;s[C+A]=qe("div",z,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)yt(this._controlCorners[s]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Sl=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,h,x){return h<x?-1:x<h?1:0}},initialize:function(s,c,h){b(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in c)this._addLayer(c[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return vn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(g(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){He(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(He(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=qe("div",s),h=this.options.collapsed;c.setAttribute("aria-haspopup",!0),co(c),da(c);var x=this._section=qe("section",s+"-list");h&&(this._map.on("click",this.collapse,this),$e(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=qe("a",s+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),$e(C,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){Et(A),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=qe("div",s+"-base",x),this._separator=qe("div",s+"-separator",x),this._overlaysList=qe("div",s+"-overlays",x),c.appendChild(x)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&g(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,C){return this.options.sortFunction(x.layer,C.layer,x.name,C.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ia(this._baseLayersList),ia(this._overlaysList),this._layerControlInputs=[];var s,c,h,x,C=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),c=c||x.overlay,s=s||!x.overlay,C+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&C>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(g(s.target)),h=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,c)},_createRadioElement:function(s,c){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(s){var c=document.createElement("label"),h=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+g(this),h),this._layerControlInputs.push(x),x.layerId=g(s.layer),$e(x,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+s.name;var A=document.createElement("span");c.appendChild(A),A.appendChild(x),A.appendChild(C);var z=s.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,h,x=[],C=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)c=s[A],h=this._getLayer(c.layerId).layer,c.checked?x.push(h):c.checked||C.push(h);for(A=0;A<C.length;A++)this._map.hasLayer(C[A])&&this._map.removeLayer(C[A]);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])||this._map.addLayer(x[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,h,x=this._map.getZoom(),C=s.length-1;C>=0;C--)c=s[C],h=this._getLayer(c.layerId).layer,c.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,$e(s,"click",Et),this.expand();var c=this;setTimeout(function(){pt(s,"click",Et),c._preventClick=!1})}}),pa=function(s,c,h){return new Sl(s,c,h)},fi=vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",h=qe("div",c+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,c+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,c+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,h,x,C){var A=qe("a",h,x);return A.innerHTML=s,A.href="#",A.title=c,A.setAttribute("role","button"),A.setAttribute("aria-label",c),co(A),$e(A,"click",Jn),$e(A,"click",C,this),$e(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";vt(this._zoomInButton,c),vt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(He(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(He(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fi,this.addControl(this.zoomControl))});var Jc=function(s){return new fi(s)},ln=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",h=qe("div",c),x=this.options;return this._addScales(x,c+"-line",h),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,h){s.metric&&(this._mScale=qe("div",c,h)),s.imperial&&(this._iScale=qe("div",c,h))},_update:function(){var s=this._map,c=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),h=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,h,c/s)},_updateImperial:function(s){var c=s*3.2808399,h,x,C;c>5280?(h=c/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(s,c,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),h=s/c;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,c*h}}),hi=function(s){return new ln(s)},Cl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Os=vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?Cl+" ":"")+"Leaflet</a>"},initialize:function(s){b(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),co(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new Os().addTo(this)});var Df=function(s){return new Os(s)};vn.Layers=Sl,vn.Zoom=fi,vn.Scale=ln,vn.Attribution=Os,ss.layers=pa,ss.zoom=Jc,ss.scale=hi,ss.attribution=Df;var En=ie.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});En.addTo=function(s,c){return s.addHandler(c,this),this};var El={Events:he},pi=Me.touch?"touchstart mousedown":"mousedown",er=me.extend({options:{clickTolerance:3},initialize:function(s,c,h,x){b(this,x),this._element=s,this._dragStartTarget=c||s,this._preventOutline=h},enable:function(){this._enabled||($e(this._dragStartTarget,pi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(er._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,pi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!li(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){er._dragging===this&&this.finishDrag();return}if(!(er._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(er._dragging=this,this._preventOutline&&di(this._element),la(),nt(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,h=Ir(this._element);this._startPoint=new B(c.clientX,c.clientY),this._startPos=Or(this._element),this._parentScale=mr(h);var x=s.type==="mousedown";$e(document,x?"mousemove":"touchmove",this._onMove,this),$e(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,h=new B(c.clientX,c.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Et(s),this._moved||(this.fire("dragstart"),this._moved=!0,He(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),He(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Lt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),ca(),ui();var c=this._moved&&this._moving;this._moving=!1,er._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Pl(s,c,h){var x,C=[1,4,2,8],A,z,te,le,ve,Ce,Ie,Qe;for(A=0,Ce=s.length;A<Ce;A++)s[A]._code=Is(s[A],c);for(te=0;te<4;te++){for(Ie=C[te],x=[],A=0,Ce=s.length,z=Ce-1;A<Ce;z=A++)le=s[A],ve=s[z],le._code&Ie?ve._code&Ie||(Qe=ga(ve,le,Ie,c,h),Qe._code=Is(Qe,c),x.push(Qe)):(ve._code&Ie&&(Qe=ga(ve,le,Ie,c,h),Qe._code=Is(Qe,c),x.push(Qe)),x.push(le));s=x}return s}function eu(s,c){var h,x,C,A,z,te,le,ve,Ce;if(!s||s.length===0)throw new Error("latlngs not passed");Pn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ie=Q([0,0]),Qe=W(s),Ht=Qe.getNorthWest().distanceTo(Qe.getSouthWest())*Qe.getNorthEast().distanceTo(Qe.getNorthWest());Ht<1700&&(Ie=kl(s));var It=s.length,yn=[];for(h=0;h<It;h++){var cn=Q(s[h]);yn.push(c.project(Q([cn.lat-Ie.lat,cn.lng-Ie.lng])))}for(te=le=ve=0,h=0,x=It-1;h<It;x=h++)C=yn[h],A=yn[x],z=C.y*A.x-A.y*C.x,le+=(C.x+A.x)*z,ve+=(C.y+A.y)*z,te+=z*3;te===0?Ce=yn[0]:Ce=[le/te,ve/te];var Ni=c.unproject(J(Ce));return Q([Ni.lat+Ie.lat,Ni.lng+Ie.lng])}function kl(s){for(var c=0,h=0,x=0,C=0;C<s.length;C++){var A=Q(s[C]);c+=A.lat,h+=A.lng,x++}return Q([c/x,h/x])}var Ff={__proto__:null,clipPolygon:Pl,polygonCenter:eu,centroid:kl};function ma(s,c){if(!c||!s.length)return s.slice();var h=c*c;return s=$f(s,h),s=Bf(s,h),s}function tu(s,c,h){return Math.sqrt(Ds(s,c,h,!0))}function zf(s,c,h){return Ds(s,c,h)}function Bf(s,c){var h=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,C=new x(h);C[0]=C[h-1]=1,Tl(s,C,c,0,h-1);var A,z=[];for(A=0;A<h;A++)C[A]&&z.push(s[A]);return z}function Tl(s,c,h,x,C){var A=0,z,te,le;for(te=x+1;te<=C-1;te++)le=Ds(s[te],s[x],s[C],!0),le>A&&(z=te,A=le);A>h&&(c[z]=1,Tl(s,c,h,x,z),Tl(s,c,h,z,C))}function $f(s,c){for(var h=[s[0]],x=1,C=0,A=s.length;x<A;x++)Uf(s[x],s[C])>c&&(h.push(s[x]),C=x);return C<A-1&&h.push(s[A-1]),h}var Rl;function nu(s,c,h,x,C){var A=x?Rl:Is(s,h),z=Is(c,h),te,le,ve;for(Rl=z;;){if(!(A|z))return[s,c];if(A&z)return!1;te=A||z,le=ga(s,c,te,h,C),ve=Is(le,h),te===A?(s=le,A=ve):(c=le,z=ve)}}function ga(s,c,h,x,C){var A=c.x-s.x,z=c.y-s.y,te=x.min,le=x.max,ve,Ce;return h&8?(ve=s.x+A*(le.y-s.y)/z,Ce=le.y):h&4?(ve=s.x+A*(te.y-s.y)/z,Ce=te.y):h&2?(ve=le.x,Ce=s.y+z*(le.x-s.x)/A):h&1&&(ve=te.x,Ce=s.y+z*(te.x-s.x)/A),new B(ve,Ce,C)}function Is(s,c){var h=0;return s.x<c.min.x?h|=1:s.x>c.max.x&&(h|=2),s.y<c.min.y?h|=4:s.y>c.max.y&&(h|=8),h}function Uf(s,c){var h=c.x-s.x,x=c.y-s.y;return h*h+x*x}function Ds(s,c,h,x){var C=c.x,A=c.y,z=h.x-C,te=h.y-A,le=z*z+te*te,ve;return le>0&&(ve=((s.x-C)*z+(s.y-A)*te)/le,ve>1?(C=h.x,A=h.y):ve>0&&(C+=z*ve,A+=te*ve)),z=s.x-C,te=s.y-A,x?z*z+te*te:new B(C,A)}function Pn(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ru(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(s)}function su(s,c){var h,x,C,A,z,te,le,ve;if(!s||s.length===0)throw new Error("latlngs not passed");Pn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ce=Q([0,0]),Ie=W(s),Qe=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Qe<1700&&(Ce=kl(s));var Ht=s.length,It=[];for(h=0;h<Ht;h++){var yn=Q(s[h]);It.push(c.project(Q([yn.lat-Ce.lat,yn.lng-Ce.lng])))}for(h=0,x=0;h<Ht-1;h++)x+=It[h].distanceTo(It[h+1])/2;if(x===0)ve=It[0];else for(h=0,A=0;h<Ht-1;h++)if(z=It[h],te=It[h+1],C=z.distanceTo(te),A+=C,A>x){le=(A-x)/C,ve=[te.x-le*(te.x-z.x),te.y-le*(te.y-z.y)];break}var cn=c.unproject(J(ve));return Q([cn.lat+Ce.lat,cn.lng+Ce.lng])}var iu={__proto__:null,simplify:ma,pointToSegmentDistance:tu,closestPointOnSegment:zf,clipSegment:nu,_getEdgeIntersection:ga,_getBitCode:Is,_sqClosestPointOnSegment:Ds,isFlat:Pn,_flat:ru,polylineCenter:su},Ll={project:function(s){return new B(s.lng,s.lat)},unproject:function(s){return new Y(s.y,s.x)},bounds:new O([-180,-90],[180,90])},Al={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,h=this.R,x=s.lat*c,C=this.R_MINOR/h,A=Math.sqrt(1-C*C),z=A*Math.sin(x),te=Math.tan(Math.PI/4-x/2)/Math.pow((1-z)/(1+z),A/2);return x=-h*Math.log(Math.max(te,1e-10)),new B(s.lng*c*h,x)},unproject:function(s){for(var c=180/Math.PI,h=this.R,x=this.R_MINOR/h,C=Math.sqrt(1-x*x),A=Math.exp(-s.y/h),z=Math.PI/2-2*Math.atan(A),te=0,le=.1,ve;te<15&&Math.abs(le)>1e-7;te++)ve=C*Math.sin(z),ve=Math.pow((1-ve)/(1+ve),C/2),le=Math.PI/2-2*Math.atan(A*ve)-z,z+=le;return new Y(z*c,s.x*c/h)}},Hf={__proto__:null,LonLat:Ll,Mercator:Al,SphericalMercator:ke},Wf=l({},Ne,{code:"EPSG:3395",projection:Al,transformation:(function(){var s=.5/(Math.PI*Al.R);return tt(s,.5,-s,.5)})()}),ou=l({},Ne,{code:"EPSG:4326",projection:Ll,transformation:tt(1/180,1,-1/180,.5)}),Vf=l({},de,{projection:Ll,transformation:tt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var h=c.lng-s.lng,x=c.lat-s.lat;return Math.sqrt(h*h+x*x)},infinite:!0});de.Earth=Ne,de.EPSG3395=Wf,de.EPSG3857=Nt,de.EPSG900913=gn,de.EPSG4326=ou,de.Simple=Vf;var tr=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var h=this.getEvents();c.on(h,this),this.once("remove",function(){c.off(h,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});et.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=g(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=g(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,c){for(var h in this._layers)s.call(c,this._layers[h]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var c=0,h=s.length;c<h;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=g(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var C=this._zoomBoundLayers[x].options;s=C.minZoom===void 0?s:Math.min(s,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var is=tr.extend({initialize:function(s,c){b(this,c),this._layers={};var h,x;if(s)for(h=0,x=s.length;h<x;h++)this.addLayer(s[h])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[s]&&x[s].apply(x,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var h in this._layers)s.call(c,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),ho=function(s,c){return new is(s,c)},Dr=is.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),is.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),is.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new $;for(var c in this._layers){var h=this._layers[c];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),au=function(s,c){return new Dr(s,c)},Fs=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){b(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,c){var h=this.options,x=h[c+"Size"];typeof x=="number"&&(x=[x,x]);var C=J(x),A=J(c==="shadow"&&h.shadowAnchor||h.iconAnchor||C&&C.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(h.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),C&&(s.style.width=C.x+"px",s.style.height=C.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return Me.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function lu(s){return new Fs(s)}var mi=Fs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof mi.imagePath!="string"&&(mi.imagePath=this._detectIconPath()),(this.options.imagePath||mi.imagePath)+Fs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(h,x,C){var A=x.exec(h);return A&&A[C]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=qe("div","leaflet-default-icon-path",document.body),c=io(s,"background-image")||io(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Ml=En.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new er(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),He(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,h=c._map,x=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,A=Or(c._icon),z=h.getPixelBounds(),te=h.getPixelOrigin(),le=H(z.min._subtract(te).add(C),z.max._subtract(te).subtract(C));if(!le.contains(A)){var ve=J((Math.max(le.max.x,A.x)-le.max.x)/(z.max.x-le.max.x)-(Math.min(le.min.x,A.x)-le.min.x)/(z.min.x-le.min.x),(Math.max(le.max.y,A.y)-le.max.y)/(z.max.y-le.max.y)-(Math.min(le.min.y,A.y)-le.min.y)/(z.min.y-le.min.y)).multiplyBy(x);h.panBy(ve,{animate:!1}),this._draggable._newPos._add(ve),this._draggable._startPos._add(ve),Lt(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ae(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,h=c._shadow,x=Or(c._icon),C=c._map.layerPointToLatLng(x);h&&Lt(h,x),c._latlng=C,s.latlng=C,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Fr=tr.extend({options:{icon:new mi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){b(this,c),this._latlng=Q(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=Q(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),He(h,c),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(h,"focus",this._panOnFocus,this);var C=s.icon.createShadow(this._shadow),A=!1;C!==this._shadow&&(this._removeShadow(),A=!0),C&&(He(C,c),C.alt=""),this._shadow=C,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Lt(this._icon,s),this._shadow&&Lt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(He(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ml)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ml(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&an(this._icon,s),this._shadow&&an(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,h=c.iconSize?J(c.iconSize):J(0,0),x=c.iconAnchor?J(c.iconAnchor):J(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zf(s,c){return new Fr(s,c)}var os=tr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return b(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),va=os.extend({options:{fill:!0,radius:10},initialize:function(s,c){b(this,c),this._latlng=Q(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=Q(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return os.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,h=this._clickTolerance(),x=[s+h,c+h];this._pxBounds=new O(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cu(s,c){return new va(s,c)}var xa=va.extend({initialize:function(s,c,h){if(typeof c=="number"&&(c=l({},h,{radius:c})),b(this,c),this._latlng=Q(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:os.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===Ne.distance){var C=Math.PI/180,A=this._mRadius/Ne.R/C,z=h.project([c+A,s]),te=h.project([c-A,s]),le=z.add(te).divideBy(2),ve=h.unproject(le).lat,Ce=Math.acos((Math.cos(A*C)-Math.sin(c*C)*Math.sin(ve*C))/(Math.cos(c*C)*Math.cos(ve*C)))/C;(isNaN(Ce)||Ce===0)&&(Ce=A/Math.cos(Math.PI/180*c)),this._point=le.subtract(h.getPixelOrigin()),this._radius=isNaN(Ce)?0:le.x-h.project([ve,s-Ce]).x,this._radiusY=le.y-z.y}else{var Ie=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ie).x}this._updateBounds()}});function po(s,c,h){return new xa(s,c,h)}var xn=os.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){b(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,h=null,x=Ds,C,A,z=0,te=this._parts.length;z<te;z++)for(var le=this._parts[z],ve=1,Ce=le.length;ve<Ce;ve++){C=le[ve-1],A=le[ve];var Ie=x(s,C,A,!0);Ie<c&&(c=Ie,h=x(s,C,A))}return h&&(h.distance=Math.sqrt(c)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return su(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=Q(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new $,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],h=Pn(s),x=0,C=s.length;x<C;x++)h?(c[x]=Q(s[x]),this._bounds.extend(c[x])):c[x]=this._convertLatLngs(s[x]);return c},_project:function(){var s=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new B(s,s);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,h){var x=s[0]instanceof Y,C=s.length,A,z;if(x){for(z=[],A=0;A<C;A++)z[A]=this._map.latLngToLayerPoint(s[A]),h.extend(z[A]);c.push(z)}else for(A=0;A<C;A++)this._projectLatlngs(s[A],c,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,h,x,C,A,z,te,le;for(h=0,C=0,A=this._rings.length;h<A;h++)for(le=this._rings[h],x=0,z=le.length;x<z-1;x++)te=nu(le[x],le[x+1],s,x,!0),te&&(c[C]=c[C]||[],c[C].push(te[0]),(te[1]!==le[x+1]||x===z-2)&&(c[C].push(te[1]),C++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,h=0,x=s.length;h<x;h++)s[h]=ma(s[h],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var h,x,C,A,z,te,le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,A=this._parts.length;h<A;h++)for(te=this._parts[h],x=0,z=te.length,C=z-1;x<z;C=x++)if(!(!c&&x===0)&&tu(s,te[C],te[x])<=le)return!0;return!1}});function qf(s,c){return new xn(s,c)}xn._flat=ru;var zr=xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return eu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=xn.prototype._convertLatLngs.call(this,s),h=c.length;return h>=2&&c[0]instanceof Y&&c[0].equals(c[h-1])&&c.pop(),c},_setLatLngs:function(s){xn.prototype._setLatLngs.call(this,s),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,h=new B(c,c);if(s=new O(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,C=this._rings.length,A;x<C;x++)A=Pl(this._rings[x],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,h,x,C,A,z,te,le,ve;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,le=this._parts.length;A<le;A++)for(h=this._parts[A],z=0,ve=h.length,te=ve-1;z<ve;te=z++)x=h[z],C=h[te],x.y>s.y!=C.y>s.y&&s.x<(C.x-x.x)*(s.y-x.y)/(C.y-x.y)+x.x&&(c=!c);return c||xn.prototype._containsPoint.call(this,s,!0)}});function Kf(s,c){return new zr(s,c)}var vr=Dr.extend({initialize:function(s,c){b(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=R(s)?s:s.features,h,x,C;if(c){for(h=0,x=c.length;h<x;h++)C=c[h],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var z=gi(s,A);return z?(z.feature=ja(s),z.defaultOptions=z.options,this.resetStyle(z),A.onEachFeature&&A.onEachFeature(s,z),this.addLayer(z)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function gi(s,c){var h=s.type==="Feature"?s.geometry:s,x=h?h.coordinates:null,C=[],A=c&&c.pointToLayer,z=c&&c.coordsToLatLng||wa,te,le,ve,Ce;if(!x&&!h)return null;switch(h.type){case"Point":return te=z(x),ya(A,s,te,c);case"MultiPoint":for(ve=0,Ce=x.length;ve<Ce;ve++)te=z(x[ve]),C.push(ya(A,s,te,c));return new Dr(C);case"LineString":case"MultiLineString":return le=mo(x,h.type==="LineString"?0:1,z),new xn(le,c);case"Polygon":case"MultiPolygon":return le=mo(x,h.type==="Polygon"?1:2,z),new zr(le,c);case"GeometryCollection":for(ve=0,Ce=h.geometries.length;ve<Ce;ve++){var Ie=gi({geometry:h.geometries[ve],type:"Feature",properties:s.properties},c);Ie&&C.push(Ie)}return new Dr(C);case"FeatureCollection":for(ve=0,Ce=h.features.length;ve<Ce;ve++){var Qe=gi(h.features[ve],c);Qe&&C.push(Qe)}return new Dr(C);default:throw new Error("Invalid GeoJSON object.")}}function ya(s,c,h,x){return s?s(c,h):new Fr(h,x&&x.markersInheritOptions&&x)}function wa(s){return new Y(s[1],s[0],s[2])}function mo(s,c,h){for(var x=[],C=0,A=s.length,z;C<A;C++)z=c?mo(s[C],c-1,h):(h||wa)(s[C]),x.push(z);return x}function _a(s,c){return s=Q(s),s.alt!==void 0?[E(s.lng,c),E(s.lat,c),E(s.alt,c)]:[E(s.lng,c),E(s.lat,c)]}function ba(s,c,h,x){for(var C=[],A=0,z=s.length;A<z;A++)C.push(c?ba(s[A],Pn(s[A])?0:c-1,h,x):_a(s[A],x));return!c&&h&&C.length>0&&C.push(C[0].slice()),C}function vi(s,c){return s.feature?l({},s.feature,{geometry:c}):ja(c)}function ja(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ol={toGeoJSON:function(s){return vi(this,{type:"Point",coordinates:_a(this.getLatLng(),s)})}};Fr.include(Ol),xa.include(Ol),va.include(Ol),xn.include({toGeoJSON:function(s){var c=!Pn(this._latlngs),h=ba(this._latlngs,c?1:0,!1,s);return vi(this,{type:(c?"Multi":"")+"LineString",coordinates:h})}}),zr.include({toGeoJSON:function(s){var c=!Pn(this._latlngs),h=c&&!Pn(this._latlngs[0]),x=ba(this._latlngs,h?2:c?1:0,!0,s);return c||(x=[x]),vi(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),is.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(h){c.push(h.toGeoJSON(s).geometry.coordinates)}),vi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var h=c==="GeometryCollection",x=[];return this.eachLayer(function(C){if(C.toGeoJSON){var A=C.toGeoJSON(s);if(h)x.push(A.geometry);else{var z=ja(A);z.type==="FeatureCollection"?x.push.apply(x,z.features):x.push(z)}}}),h?vi(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function uu(s,c){return new vr(s,c)}var nr=uu,as=tr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,h){this._url=s,this._bounds=W(c),b(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(He(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ai(this._image),this},bringToBack:function(){return this._map&&Mr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=W(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:qe("img");if(He(c,"leaflet-image-layer"),this._zoomAnimated&&He(c,"leaflet-zoom-animated"),this.options.className&&He(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Yn(this._image,h,c)},_reset:function(){var s=this._image,c=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=c.getSize();Lt(s,c.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){an(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),du=function(s,c,h){return new as(s,c,h)},Il=as.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:qe("video");if(He(c,"leaflet-image-layer"),this._zoomAnimated&&He(c,"leaflet-zoom-animated"),this.options.className&&He(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onloadeddata=f(this.fire,this,"load"),s){for(var h=c.getElementsByTagName("source"),x=[],C=0;C<h.length;C++)x.push(h[C].src);this._url=h.length>0?x:[c.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var z=qe("source");z.src=this._url[A],c.appendChild(z)}}});function fu(s,c,h){return new Il(s,c,h)}var Dl=as.extend({_initImage:function(){var s=this._image=this._url;He(s,"leaflet-image-layer"),this._zoomAnimated&&He(s,"leaflet-zoom-animated"),this.options.className&&He(s,this.options.className),s.onselectstart=N,s.onmousemove=N}});function Fl(s,c,h){return new Dl(s,c,h)}var xr=tr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof Y||R(s))?(this._latlng=Q(s),b(this,c)):(b(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&an(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&an(this._container,1),this.bringToFront(),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(an(this._container,0),this._removeTimeout=setTimeout(f(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Q(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ai(this._container),this},bringToBack:function(){return this._map&&Mr(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof Dr){c=null;var h=this._source._layers;for(var x in h)if(h[x]._map){c=h[x];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=J(this.options.offset),h=this._getAnchor();this._zoomAnimated?Lt(this._container,s.add(h)):c=c.add(s).add(h);var x=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=x+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(s,c,h,x){var C=c;return C instanceof s||(C=new s(x).setContent(c)),h&&C.setLatLng(h),C}}),tr.include({_initOverlay:function(s,c,h,x){var C=h;return C instanceof s?(b(C,x),C._source=this):(C=c&&!x?c:new s(x,this),C.setContent(h)),C}});var Na=xr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,xr.prototype.openOn.call(this,s)},onAdd:function(s){xr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof os||this._source.on("preclick",gr))},onRemove:function(s){xr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof os||this._source.off("preclick",gr))},getEvents:function(){var s=xr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=qe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=qe("div",s+"-content-wrapper",c);if(this._contentNode=qe("div",s+"-content",h),co(c),da(this._contentNode),$e(c,"contextmenu",gr),this._tipContainer=qe("div",s+"-tip-container",c),this._tip=qe("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=qe("a",s+"-close-button",c);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',$e(x,"click",function(C){Et(C),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),c.width=h+1+"px",c.whiteSpace="",c.height="";var x=s.offsetHeight,C=this.options.maxHeight,A="leaflet-popup-scrolled";C&&x>C?(c.height=C+"px",He(s,A)):vt(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Lt(this._container,c.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(io(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+c,x=this._containerWidth,C=new B(this._containerLeft,-h-this._containerBottom);C._add(Or(this._container));var A=s.layerPointToContainerPoint(C),z=J(this.options.autoPanPadding),te=J(this.options.autoPanPaddingTopLeft||z),le=J(this.options.autoPanPaddingBottomRight||z),ve=s.getSize(),Ce=0,Ie=0;A.x+x+le.x>ve.x&&(Ce=A.x+x-ve.x+le.x),A.x-Ce-te.x<0&&(Ce=A.x-te.x),A.y+h+le.y>ve.y&&(Ie=A.y+h-ve.y+le.y),A.y-Ie-te.y<0&&(Ie=A.y-te.y),(Ce||Ie)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ce,Ie]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xi=function(s,c){return new Na(s,c)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(s,c,h){return this._initOverlay(Na,s,c,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),tr.include({bindPopup:function(s,c){return this._popup=this._initOverlay(Na,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Dr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Jn(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof os)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var yi=xr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){xr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){xr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=xr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,h,x=this._map,C=this._container,A=x.latLngToContainerPoint(x.getCenter()),z=x.layerPointToContainerPoint(s),te=this.options.direction,le=C.offsetWidth,ve=C.offsetHeight,Ce=J(this.options.offset),Ie=this._getAnchor();te==="top"?(c=le/2,h=ve):te==="bottom"?(c=le/2,h=0):te==="center"?(c=le/2,h=ve/2):te==="right"?(c=0,h=ve/2):te==="left"?(c=le,h=ve/2):z.x<A.x?(te="right",c=0,h=ve/2):(te="left",c=le+(Ce.x+Ie.x)*2,h=ve/2),s=s.subtract(J(c,h,!0)).add(Ce).add(Ie),vt(C,"leaflet-tooltip-right"),vt(C,"leaflet-tooltip-left"),vt(C,"leaflet-tooltip-top"),vt(C,"leaflet-tooltip-bottom"),He(C,"leaflet-tooltip-"+te),Lt(C,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&an(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),go=function(s,c){return new yi(s,c)};et.include({openTooltip:function(s,c,h){return this._initOverlay(yi,s,c,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),tr.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yi,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[c](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Dr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&($e(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),$e(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,h,x;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(h),c=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(c)}});var Sa=Fs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ia(c),c.appendChild(h.html)):c.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=J(h.bgPos);c.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function hu(s){return new Sa(s)}Fs.Default=mi;var ls=tr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){b(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),yt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof B?s:new B(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,h=-s(-1/0,1/0),x=0,C=c.length,A;x<C;x++)A=c[x].style.zIndex,c[x]!==this._container&&A&&(h=s(h,+A));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){an(this._container,this.options.opacity);var s=+new Date,c=!1,h=!1;for(var x in this._tiles){var C=this._tiles[x];if(!(!C.current||!C.loaded)){var A=Math.min(1,(s-C.loaded)/200);an(C.el,A),A<1?c=!0:(C.active?h=!0:this._onOpaqueTile(C),C.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),c&&(Z(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=c-Math.abs(s-h),this._onUpdateLevel(h)):(yt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[s],C=this._map;return x||(x=this._levels[s]={},x.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=c,x.origin=C.project(C.unproject(C.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,C.getCenter(),C.getZoom()),N(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var s,c,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var x=c.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)yt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,h,x){var C=Math.floor(s/2),A=Math.floor(c/2),z=h-1,te=new B(+C,+A);te.z=+z;var le=this._tileCoordsToKey(te),ve=this._tiles[le];return ve&&ve.active?(ve.retain=!0,!0):(ve&&ve.loaded&&(ve.retain=!0),z>x?this._retainParent(C,A,z,x):!1)},_retainChildren:function(s,c,h,x){for(var C=2*s;C<2*s+2;C++)for(var A=2*c;A<2*c+2;A++){var z=new B(C,A);z.z=h+1;var te=this._tileCoordsToKey(z),le=this._tiles[te];if(le&&le.active){le.retain=!0;continue}else le&&le.loaded&&(le.retain=!0);h+1<x&&this._retainChildren(C,A,h+1,x)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,h,x){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var A=this.options.updateWhenZooming&&C!==this._tileZoom;(!x||A)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,c)},_setZoomTransform:function(s,c,h){var x=this._map.getZoomScale(h,s.zoom),C=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(c,h)).round();Me.any3d?Yn(s.el,C,x):Lt(s.el,C)},_resetGrid:function(){var s=this._map,c=s.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],x).x/h.x),Math.ceil(s.project([0,c.wrapLng[1]],x).x/h.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],x).y/h.x),Math.ceil(s.project([c.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,h=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),x=c.getZoomScale(h,this._tileZoom),C=c.project(s,this._tileZoom).floor(),A=c.getSize().divideBy(x*2);return new O(C.subtract(A),C.add(A))},_update:function(s){var c=this._map;if(c){var h=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),C=this._pxBoundsToTileRange(x),A=C.getCenter(),z=[],te=this.options.keepBuffer,le=new O(C.getBottomLeft().subtract([te,-te]),C.getTopRight().add([te,-te]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ve in this._tiles){var Ce=this._tiles[ve].coords;(Ce.z!==this._tileZoom||!le.contains(new B(Ce.x,Ce.y)))&&(this._tiles[ve].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var Ie=C.min.y;Ie<=C.max.y;Ie++)for(var Qe=C.min.x;Qe<=C.max.x;Qe++){var Ht=new B(Qe,Ie);if(Ht.z=this._tileZoom,!!this._isValidTile(Ht)){var It=this._tiles[this._tileCoordsToKey(Ht)];It?It.current=!0:z.push(Ht)}}if(z.sort(function(cn,Ni){return cn.distanceTo(A)-Ni.distanceTo(A)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yn=document.createDocumentFragment();for(Qe=0;Qe<z.length;Qe++)this._addTile(z[Qe],yn);this._level.el.appendChild(yn)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var h=this._globalTileRange;if(!c.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!c.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return W(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,h=this.getTileSize(),x=s.scaleBy(h),C=x.add(h),A=c.unproject(x,s.z),z=c.unproject(C,s.z);return[A,z]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),h=new $(c[0],c[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),h=new B(+c[0],+c[1]);return h.z=+c[2],h},_removeTile:function(s){var c=this._tiles[s];c&&(yt(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){He(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=N,s.onmousemove=N,Me.ielt9&&this.options.opacity<1&&an(s,this.options.opacity)},_addTile:function(s,c){var h=this._getTilePos(s),x=this._tileCoordsToKey(s),C=this.createTile(this._wrapCoords(s),f(this._tileReady,this,s));this._initTile(C),this.createTile.length<2&&ae(f(this._tileReady,this,s,null,C)),Lt(C,h),this._tiles[x]={el:C,coords:s,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:s})},_tileReady:function(s,c,h){c&&this.fire("tileerror",{error:c,tile:h,coords:s});var x=this._tileCoordsToKey(s);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(an(h.el,0),Z(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),c||(He(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new B(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new O(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function wi(s){return new ls(s)}var cs=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=b(this,c),c.detectRetina&&Me.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var h=document.createElement("img");return $e(h,"load",f(this._tileOnLoad,this,c,h)),$e(h,"error",f(this._tileOnError,this,c,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var c={r:Me.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=h),c["-y"]=h}return I(this._url,l(c,this.options))},_tileOnLoad:function(s,c){Me.ielt9?setTimeout(f(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,h){var x=this.options.errorTileUrl;x&&c.getAttribute("src")!==x&&(c.src=x),s(h,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(s=c-s),s+x},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=N,c.onerror=N,!c.complete)){c.src=V;var h=this._tiles[s].coords;yt(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:h})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",V),ls.prototype._removeTile.call(this,s)},_tileReady:function(s,c,h){if(!(!this._map||h&&h.getAttribute("src")===V))return ls.prototype._tileReady.call(this,s,c,h)}});function zl(s,c){return new cs(s,c)}var vo=cs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var h=l({},this.defaultWmsParams);for(var x in c)x in this.options||(h[x]=c[x]);c=b(this,c);var C=c.detectRetina&&Me.retina?2:1,A=this.getTileSize();h.width=A.x*C,h.height=A.y*C,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,cs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),h=this._crs,x=H(h.project(c[0]),h.project(c[1])),C=x.min,A=x.max,z=(this._wmsVersion>=1.3&&this._crs===ou?[C.y,C.x,A.y,A.x]:[C.x,C.y,A.x,A.y]).join(","),te=cs.prototype.getTileUrl.call(this,s);return te+S(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(s,c){return l(this.wmsParams,s),c||this.redraw(),this}});function pu(s,c){return new vo(s,c)}cs.WMS=vo,zl.wms=pu;var yr=tr.extend({options:{padding:.1},initialize:function(s){b(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),He(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var h=this._map.getZoomScale(c,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),A=x.multiplyBy(-h).add(C).subtract(this._map._getNewPixelOrigin(s,c));Me.any3d?Yn(this._container,A,h):Lt(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),h=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new O(h,h.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bl=yr.extend({options:{tolerance:0},getEvents:function(){var s=yr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");$e(s,"mousemove",this._onMouseMove,this),$e(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,yt(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var s=this._bounds,c=this._container,h=s.getSize(),x=Me.retina?2:1;Lt(c,s.min),c.width=x*h.x,c.height=x*h.y,c.style.width=h.x+"px",c.style.height=h.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,h=c.next,x=c.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),h=[],x,C;for(C=0;C<c.length;C++){if(x=Number(c[C]),isNaN(x))return;h.push(x)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var h=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var h,x,C,A,z=s._parts,te=z.length,le=this._ctx;if(te){for(le.beginPath(),h=0;h<te;h++){for(x=0,C=z[h].length;x<C;x++)A=z[h][x],le[x?"lineTo":"moveTo"](A.x,A.y);c&&le.closePath()}this._fillStroke(le,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,h=this._ctx,x=Math.max(Math.round(s._radius),1),C=(Math.max(Math.round(s._radiusY),1)||x)/x;C!==1&&(h.save(),h.scale(1,C)),h.beginPath(),h.arc(c.x,c.y/C,x,0,Math.PI*2,!1),C!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,c){var h=c.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),h,x,C=this._drawFirst;C;C=C.next)h=C.layer,h.options.interactive&&h._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(vt(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var h,x,C=this._drawFirst;C;C=C.next)h=C.layer,h.options.interactive&&h._containsPoint(c)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(He(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,h){this._map._fireDOMEvent(c,h||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var h=c.next,x=c.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var h=c.next,x=c.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function $l(s){return Me.canvas?new Bl(s):null}var _i=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),mu={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=_i("shape");He(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=_i("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;yt(c),s.removeInteractiveTarget(c),delete this._layers[g(s)]},_updateStyle:function(s){var c=s._stroke,h=s._fill,x=s.options,C=s._container;C.stroked=!!x.stroke,C.filled=!!x.fill,x.stroke?(c||(c=s._stroke=_i("stroke")),C.appendChild(c),c.weight=x.weight+"px",c.color=x.color,c.opacity=x.opacity,x.dashArray?c.dashStyle=R(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=x.lineCap.replace("butt","flat"),c.joinstyle=x.lineJoin):c&&(C.removeChild(c),s._stroke=null),x.fill?(h||(h=s._fill=_i("fill")),C.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(C.removeChild(h),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),h=Math.round(s._radius),x=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){ai(s._container)},_bringToBack:function(s){Mr(s._container)}},rr=Me.vml?_i:kr,zs=yr.extend({_initContainer:function(){this._container=rr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=rr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var s=this._bounds,c=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,h.setAttribute("width",c.x),h.setAttribute("height",c.y)),Lt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=rr("path");s.options.className&&He(c,s.options.className),s.options.interactive&&He(c,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){yt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,h=s.options;c&&(h.stroke?(c.setAttribute("stroke",h.color),c.setAttribute("stroke-opacity",h.opacity),c.setAttribute("stroke-width",h.weight),c.setAttribute("stroke-linecap",h.lineCap),c.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?c.setAttribute("stroke-dasharray",h.dashArray):c.removeAttribute("stroke-dasharray"),h.dashOffset?c.setAttribute("stroke-dashoffset",h.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),h.fill?(c.setAttribute("fill",h.fillColor||h.color),c.setAttribute("fill-opacity",h.fillOpacity),c.setAttribute("fill-rule",h.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,fr(s._parts,c))},_updateCircle:function(s){var c=s._point,h=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||h,C="a"+h+","+x+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(c.x-h)+","+c.y+C+h*2+",0 "+C+-h*2+",0 ";this._setPath(s,A)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){ai(s._path)},_bringToBack:function(s){Mr(s._path)}});Me.vml&&zs.include(mu);function Ca(s){return Me.svg||Me.vml?new zs(s):null}et.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&$l(s)||Ca(s)}});var gu=zr.extend({initialize:function(s,c){zr.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=W(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Gf(s,c){return new gu(s,c)}zs.create=rr,zs.pointsToPath=fr,vr.geometryToLayer=gi,vr.coordsToLatLng=wa,vr.coordsToLatLngs=mo,vr.latLngToCoords=_a,vr.latLngsToCoords=ba,vr.getFeature=vi,vr.asFeature=ja,et.mergeOptions({boxZoom:!0});var bi=En.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),nt(),la(),this._startPoint=this._map.mouseEventToContainerPoint(s),$e(document,{contextmenu:Jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),He(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new O(this._point,this._startPoint),h=c.getSize();Lt(this._box,c.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(yt(this._box),vt(this._container,"leaflet-crosshair")),ui(),ca(),pt(document,{contextmenu:Jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",bi),et.mergeOptions({doubleClickZoom:!0});var vu=En.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,h=c.getZoom(),x=c.options.zoomDelta,C=s.originalEvent.shiftKey?h-x:h+x;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(s.containerPoint,C)}});et.addInitHook("addHandler","doubleClickZoom",vu),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ul=En.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new er(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}He(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=W(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,C=(x-c+h)%s+c-h,A=(x+c+h)%s-c-h,z=Math.abs(C+h)<Math.abs(A+h)?C:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(s){var c=this._map,h=c.options,x=!h.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),x)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,z=h.easeLinearity,te=C.multiplyBy(z/A),le=te.distanceTo([0,0]),ve=Math.min(h.inertiaMaxSpeed,le),Ce=te.multiplyBy(ve/le),Ie=ve/(h.inertiaDeceleration*z),Qe=Ce.multiplyBy(-Ie/2).round();!Qe.x&&!Qe.y?c.fire("moveend"):(Qe=c._limitOffset(Qe,c.options.maxBounds),ae(function(){c.panBy(Qe,{duration:Ie,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",Ul),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hl=En.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),$e(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,h=s.scrollTop||c.scrollTop,x=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},h=this.keyCodes,x,C;for(x=0,C=h.left.length;x<C;x++)c[h.left[x]]=[-1*s,0];for(x=0,C=h.right.length;x<C;x++)c[h.right[x]]=[s,0];for(x=0,C=h.down.length;x<C;x++)c[h.down[x]]=[0,s];for(x=0,C=h.up.length;x<C;x++)c[h.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},h=this.keyCodes,x,C;for(x=0,C=h.zoomIn.length;x<C;x++)c[h.zoomIn[x]]=s;for(x=0,C=h.zoomOut.length;x<C;x++)c[h.zoomOut[x]]=-s},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,h=this._map,x;if(c in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[c],s.shiftKey&&(x=J(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(J(x),h.options.maxBounds)),h.options.worldCopyJump){var C=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(C)}else h.panBy(x)}else if(c in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Jn(s)}}});et.addInitHook("addHandler","keyboard",Hl),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mt=En.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=Xc(s),h=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),Jn(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,A=h?Math.ceil(C/h)*h:C,z=s._limitZoom(c+(this._delta>0?A:-A))-c;this._delta=0,this._startTime=null,z&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+z):s.setZoomAround(this._lastMousePos,c+z))}});et.addInitHook("addHandler","scrollWheelZoom",mt);var Wl=600;et.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var xo=En.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new B(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&($e(document,"touchend",Et),$e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Wl),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){pt(document,"touchend",Et),pt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new B(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});h._simulated=!0,c.target.dispatchEvent(h)}});et.addInitHook("addHandler","tapHold",xo),et.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var ji=En.extend({addHooks:function(){He(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var h=c.mouseEventToContainerPoint(s.touches[0]),x=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),Et(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,h=c.mouseEventToContainerPoint(s.touches[0]),x=c.mouseEventToContainerPoint(s.touches[1]),C=h.distanceTo(x)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var A=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(C===1&&A.x===0&&A.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var z=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(z,this,!0),Et(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",ji),et.BoxZoom=bi,et.DoubleClickZoom=vu,et.Drag=Ul,et.Keyboard=Hl,et.ScrollWheelZoom=mt,et.TapHold=xo,et.TouchZoom=ji,r.Bounds=O,r.Browser=Me,r.CRS=de,r.Canvas=Bl,r.Circle=xa,r.CircleMarker=va,r.Class=ie,r.Control=vn,r.DivIcon=Sa,r.DivOverlay=xr,r.DomEvent=fa,r.DomUtil=lo,r.Draggable=er,r.Evented=me,r.FeatureGroup=Dr,r.GeoJSON=vr,r.GridLayer=ls,r.Handler=En,r.Icon=Fs,r.ImageOverlay=as,r.LatLng=Y,r.LatLngBounds=$,r.Layer=tr,r.LayerGroup=is,r.LineUtil=iu,r.Map=et,r.Marker=Fr,r.Mixin=El,r.Path=os,r.Point=B,r.PolyUtil=Ff,r.Polygon=zr,r.Polyline=xn,r.Popup=Na,r.PosAnimation=ha,r.Projection=Hf,r.Rectangle=gu,r.Renderer=yr,r.SVG=zs,r.SVGOverlay=Dl,r.TileLayer=cs,r.Tooltip=yi,r.Transformation=ze,r.Util=ue,r.VideoOverlay=Il,r.bind=f,r.bounds=H,r.canvas=$l,r.circle=po,r.circleMarker=cu,r.control=ss,r.divIcon=hu,r.extend=l,r.featureGroup=au,r.geoJSON=uu,r.geoJson=nr,r.gridLayer=wi,r.icon=lu,r.imageOverlay=du,r.latLng=Q,r.latLngBounds=W,r.layerGroup=ho,r.map=rs,r.marker=Zf,r.point=J,r.polygon=Kf,r.polyline=qf,r.popup=xi,r.rectangle=Gf,r.setOptions=b,r.stamp=g,r.svg=Ca,r.svgOverlay=Fl,r.tileLayer=zl,r.tooltip=go,r.transformation=tt,r.version=a,r.videoOverlay=fu;var xu=window.L;r.noConflict=function(){return window.L=xu,this},window.L=r}))})(gc,gc.exports)),gc.exports}var gl=K4();const kf=Ud(gl);function Tf(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Rf(e,t){return t==null?function(a,l){const d=v.useRef();return d.current||(d.current=e(a,l)),d}:function(a,l){const d=v.useRef();d.current||(d.current=e(a,l));const f=v.useRef(a),{instance:p}=d.current;return v.useEffect(function(){f.current!==a&&(t(p,a,f.current),f.current=a)},[p,a,l]),d}}function nj(e,t){v.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function rj(e){return function(r){const a=Ef(),l=e(Pf(r,a),a);return Y1(a.map,r.attribution),dg(l.current,r.eventHandlers),nj(l.current,a),l}}function G4(e,t){const r=v.useRef();v.useEffect(function(){if(t.pathOptions!==r.current){const l=t.pathOptions??{};e.instance.setStyle(l),r.current=l}},[e,t])}function Q4(e){return function(r){const a=Ef(),l=e(Pf(r,a),a);return dg(l.current,r.eventHandlers),nj(l.current,a),G4(l.current,r),l}}function Y4(e,t){const r=Rf(e,t),a=rj(r);return tj(a)}function X4(e,t){const r=Rf(e),a=Z4(r,t);return W4(a)}function J4(e,t){const r=Rf(e,t),a=Q4(r);return tj(a)}function eO(e,t){const r=Rf(e,t),a=rj(r);return V4(a)}function tO(e,t,r){const{opacity:a,zIndex:l}=t;a!=null&&a!==r.opacity&&e.setOpacity(a),l!=null&&l!==r.zIndex&&e.setZIndex(l)}function sj(){return Ef().map}function nO(e){const t=sj();return v.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function pm(){return pm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pm.apply(this,arguments)}function rO({bounds:e,boundsOptions:t,center:r,children:a,className:l,id:d,placeholder:f,style:p,whenReady:g,zoom:w,..._},N){const[E]=v.useState({className:l,id:d,style:p}),[P,k]=v.useState(null);v.useImperativeHandle(N,()=>P?.map??null,[P]);const b=v.useCallback(M=>{if(M!==null&&P===null){const I=new gl.Map(M,_);r!=null&&w!=null?I.setView(r,w):e!=null&&I.fitBounds(e,t),g!=null&&I.whenReady(g),k(H4(I))}},[]);v.useEffect(()=>()=>{P?.map.remove()},[P]);const S=P?ge.createElement(ej,{value:P},a):f??null;return ge.createElement("div",pm({},E,{ref:b}),S)}const ij=v.forwardRef(rO),mm=Y4(function({position:t,...r},a){const l=new gl.Marker(t,r);return Tf(l,X1(a,{overlayContainer:l}))},function(t,r,a){r.position!==a.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),sO=J4(function({positions:t,...r},a){const l=new gl.Polyline(t,r);return Tf(l,X1(a,{overlayContainer:l}))},function(t,r,a){r.positions!==a.positions&&t.setLatLngs(r.positions)}),Ay=X4(function(t,r){const a=new gl.Popup(t,r.overlayContainer);return Tf(a,r)},function(t,r,{position:a},l){v.useEffect(function(){const{instance:f}=t;function p(w){w.popup===f&&(f.update(),l(!0))}function g(w){w.popup===f&&l(!1)}return r.map.on({popupopen:p,popupclose:g}),r.overlayContainer==null?(a!=null&&f.setLatLng(a),f.openOn(r.map)):r.overlayContainer.bindPopup(f),function(){r.map.off({popupopen:p,popupclose:g}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(f)}},[t,r,l,a])}),oj=eO(function({url:t,...r},a){const l=new gl.TileLayer(t,Pf(r,a));return Tf(l,a)},function(t,r,a){tO(t,r,a);const{url:l}=r;l!=null&&l!==a.url&&t.setUrl(l)}),iO=async(e,t)=>{for(const r of e)try{console.debug(`[ordersService] trying GET ${r}`);const a=await we.get(r,t);return console.debug(`[ordersService] success GET ${r} ->`,a.status),a}catch(a){const l=a.response?.status;if(console.debug(`[ordersService] failed GET ${r} -> ${l??a.code}`,a.response?.data||a.message),!a.response||a.response.status>=500)throw a}throw console.warn("[ordersService] all GET endpoints failed",e),new Error("All endpoints failed")},My=async(e,t,r)=>{for(const a of e)try{console.debug(`[ordersService] trying POST ${a}`);const l=await we.post(a,t,r);return console.debug(`[ordersService] success POST ${a} ->`,l.status),l}catch(l){const d=l.response?.status;if(console.debug(`[ordersService] failed POST ${a} -> ${d??l.code}`,l.response?.data||l.message),!l.response||l.response.status>=500)throw l}throw console.warn("[ordersService] all POST endpoints failed",e),new Error("All POST endpoints failed")},qr={create:async e=>{const t=await we.post("/orders/",e),r=t.data;if(r&&r.id)try{const a=await qr.assignCourier(r.id);console.log("[ordersService] Courier assignment response:",a.data),!a.data||!a.data.assignment_id?(console.warn("[ordersService] Warning: Assignment endpoint returned success but no assignment_id found"),console.warn("[ordersService] Response data:",a.data)):console.log(`[ordersService] Successfully assigned courier to order ${r.id}`)}catch(a){console.error(`[ordersService] Failed to assign courier to order ${r.id}:`,a),console.error("[ordersService] Error response:",a.response?.data)}return t},getAll:()=>we.get("/orders/"),getById:async e=>we.get(`/orders/orders/${e}/`),getOrder:async e=>qr.getById(e),getTracking:async e=>{const t=[`/logistics/tracking/${e}/`,`/logistics/tracking/${e}`];return iO(t)},assignCourier:async(e,t={})=>{const r=[`/logistics/order/${e}/assign/`,`/logistics/order/${e}/assign`];return My(r,t)},startDelivery:async(e,t={})=>{const r=[`/logistics/assignment/${e}/start/`,`/logistics/assignment/${e}/start`];return My(r,t)},buyerUpdate:(e,t)=>we.patch(`/orders/orders/${e}/buyer_update/`,t),cancel:e=>we.post(`/orders/orders/${e}/cancel/`),getPurchases:()=>we.get("/orders/orders/"),getSales:()=>we.get("/orders/orders/"),createPaymentIntent:e=>we.post("/orders/payments/create-intent/",e),confirmPayment:e=>we.post("/orders/orders/",e),assignCourierManually:async e=>{try{console.log(`[ordersService] Manually assigning courier to order ${e}`);const t=await qr.assignCourier(e);return console.log("[ordersService] Assignment response:",t.data),t}catch(t){throw console.error("[ordersService] Manual assignment failed:",t),t}}};var aj="clover",oO=function(t){return t===3?"v3":t},lj="https://js.stripe.com",aO="".concat(lj,"/").concat(aj,"/stripe.js"),lO=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,cO=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var uO=function(t){return lO.test(t)||cO.test(t)},dO=function(){for(var t=document.querySelectorAll('script[src^="'.concat(lj,'"]')),r=0;r<t.length;r++){var a=t[r];if(uO(a.src))return a}return null},Oy=function(t){var r="",a=document.createElement("script");a.src="".concat(aO).concat(r);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return l.appendChild(a),a},fO=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:r})},dc=null,md=null,gd=null,hO=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},pO=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},mO=function(t){return dc!==null?dc:(dc=new Promise(function(r,a){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var l=dO();if(!(l&&t)){if(!l)l=Oy(t);else if(l&&gd!==null&&md!==null){var d;l.removeEventListener("load",gd),l.removeEventListener("error",md),(d=l.parentNode)===null||d===void 0||d.removeChild(l),l=Oy(t)}}gd=pO(r,a),md=hO(a),l.addEventListener("load",gd),l.addEventListener("error",md)}catch(f){a(f);return}}),dc.catch(function(r){return dc=null,Promise.reject(r)}))},gO=function(t,r,a){if(t===null)return null;var l=r[0],d=l.match(/^pk_test/),f=oO(t.version),p=aj;d&&f!==p&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(p,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var g=t.apply(void 0,r);return fO(g,a),g},fc,cj=!1,uj=function(){return fc||(fc=mO(null).catch(function(t){return fc=null,Promise.reject(t)}),fc)};Promise.resolve().then(function(){return uj()}).catch(function(e){cj||console.warn(e)});var vO=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];cj=!0;var l=Date.now();return uj().then(function(d){return gO(d,r,l)})},kp={exports:{}},Tp,Iy;function xO(){if(Iy)return Tp;Iy=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tp=e,Tp}var Rp,Dy;function yO(){if(Dy)return Rp;Dy=1;var e=xO();function t(){}function r(){}return r.resetWarningCache=t,Rp=function(){function a(f,p,g,w,_,N){if(N!==e){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}a.isRequired=a;function l(){return a}var d={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:l,element:a,elementType:a,instanceOf:l,node:a,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:t};return d.PropTypes=d,d},Rp}var Fy;function wO(){return Fy||(Fy=1,kp.exports=yO()()),kp.exports}var _O=wO();const gt=Ud(_O);function zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(r),!0).forEach(function(a){dj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zy(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cd=function(t){return typeof t}:Cd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function dj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bO(e,t){if(e==null)return{};var r={},a=Object.keys(e),l,d;for(d=0;d<a.length;d++)l=a[d],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function jO(e,t){if(e==null)return{};var r=bO(e,t),a,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fj(e,t){return NO(e)||SO(e,t)||CO(e,t)||EO()}function NO(e){if(Array.isArray(e))return e}function SO(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var a=[],l=!0,d=!1,f,p;try{for(r=r.call(e);!(l=(f=r.next()).done)&&(a.push(f.value),!(t&&a.length===t));l=!0);}catch(g){d=!0,p=g}finally{try{!l&&r.return!=null&&r.return()}finally{if(d)throw p}}return a}}function CO(e,t){if(e){if(typeof e=="string")return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(e,t)}}function $y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function EO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bn=function(t,r,a){var l=!!a,d=ge.useRef(a);ge.useEffect(function(){d.current=a},[a]),ge.useEffect(function(){if(!l||!t)return function(){};var f=function(){d.current&&d.current.apply(d,arguments)};return t.on(r,f),function(){t.off(r,f)}},[l,r,t,d])},gm=function(t){var r=ge.useRef(t);return ge.useEffect(function(){r.current=t},[t]),r.current},nl=function(t){return t!==null&&Cd(t)==="object"},PO=function(t){return nl(t)&&typeof t.then=="function"},kO=function(t){return nl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Uy="[object Object]",TO=function e(t,r){if(!nl(t)||!nl(r))return t===r;var a=Array.isArray(t),l=Array.isArray(r);if(a!==l)return!1;var d=Object.prototype.toString.call(t)===Uy,f=Object.prototype.toString.call(r)===Uy;if(d!==f)return!1;if(!d&&!a)return t===r;var p=Object.keys(t),g=Object.keys(r);if(p.length!==g.length)return!1;for(var w={},_=0;_<p.length;_+=1)w[p[_]]=!0;for(var N=0;N<g.length;N+=1)w[g[N]]=!0;var E=Object.keys(w);if(E.length!==p.length)return!1;var P=t,k=r,b=function(M){return e(P[M],k[M])};return E.every(b)},hj=function(t,r,a){return nl(t)?Object.keys(t).reduce(function(l,d){var f=!nl(r)||!TO(t[d],r[d]);return a.includes(d)?(f&&console.warn("Unsupported prop change: options.".concat(d," is not a mutable property.")),l):f?By(By({},l||{}),{},dj({},d,t[d])):l},null):null},pj="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Hy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pj;if(t===null||kO(t))return t;throw new Error(r)},RO=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pj;if(PO(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(l){return Hy(l,r)})};var a=Hy(t,r);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},LO=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),t.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},Lf=ge.createContext(null);Lf.displayName="ElementsContext";var mj=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},gj=function(t){var r=t.stripe,a=t.options,l=t.children,d=ge.useMemo(function(){return RO(r)},[r]),f=ge.useState(function(){return{stripe:d.tag==="sync"?d.stripe:null,elements:d.tag==="sync"?d.stripe.elements(a):null}}),p=fj(f,2),g=p[0],w=p[1];ge.useEffect(function(){var E=!0,P=function(b){w(function(S){return S.stripe?S:{stripe:b,elements:b.elements(a)}})};return d.tag==="async"&&!g.stripe?d.stripePromise.then(function(k){k&&E&&P(k)}):d.tag==="sync"&&!g.stripe&&P(d.stripe),function(){E=!1}},[d,g,a]);var _=gm(r);ge.useEffect(function(){_!==null&&_!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[_,r]);var N=gm(a);return ge.useEffect(function(){if(g.elements){var E=hj(a,N,["clientSecret","fonts"]);E&&g.elements.update(E)}},[a,N,g.elements]),ge.useEffect(function(){LO(g.stripe)},[g.stripe]),ge.createElement(Lf.Provider,{value:g},l)};gj.propTypes={stripe:gt.any,options:gt.object};var AO=function(t){var r=ge.useContext(Lf);return mj(r,t)},MO=function(){var t=AO("calls useElements()"),r=t.elements;return r};gt.func.isRequired;var vj=ge.createContext(null);vj.displayName="CheckoutContext";gt.any,gt.shape({clientSecret:gt.oneOfType([gt.string,gt.instanceOf(Promise)]).isRequired,elementsOptions:gt.object}).isRequired;var vm=function(t){var r=ge.useContext(vj),a=ge.useContext(Lf);if(r){if(a)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r}else return mj(a,t)},OO=["mode"],IO=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Bn=function(t,r){var a="".concat(IO(t),"Element"),l=function(g){var w=g.id,_=g.className,N=g.options,E=N===void 0?{}:N,P=g.onBlur,k=g.onFocus,b=g.onReady,S=g.onChange,M=g.onEscape,I=g.onClick,R=g.onLoadError,F=g.onLoaderStart,V=g.onNetworksChange,re=g.onConfirm,ee=g.onCancel,se=g.onShippingAddressChange,K=g.onShippingRateChange,X=g.onSavedPaymentMethodRemove,ae=g.onSavedPaymentMethodUpdate,Z=vm("mounts <".concat(a,">")),ue="elements"in Z?Z.elements:null,ie="checkoutState"in Z?Z.checkoutState:null,pe=ie?.type==="success"||ie?.type==="loading"?ie.sdk:null,he=ge.useState(null),me=fj(he,2),B=me[0],G=me[1],J=ge.useRef(null),O=ge.useRef(null);bn(B,"blur",P),bn(B,"focus",k),bn(B,"escape",M),bn(B,"click",I),bn(B,"loaderror",R),bn(B,"loaderstart",F),bn(B,"networkschange",V),bn(B,"confirm",re),bn(B,"cancel",ee),bn(B,"shippingaddresschange",se),bn(B,"shippingratechange",K),bn(B,"savedpaymentmethodremove",X),bn(B,"savedpaymentmethodupdate",ae),bn(B,"change",S);var H;b&&(t==="expressCheckout"?H=b:H=function(){b(B)}),bn(B,"ready",H),ge.useLayoutEffect(function(){if(J.current===null&&O.current!==null&&(ue||pe)){var W=null;if(pe)switch(t){case"paymentForm":W=pe.createPaymentFormElement();break;case"payment":W=pe.createPaymentElement(E);break;case"address":if("mode"in E){var Y=E.mode,Q=jO(E,OO);if(Y==="shipping")W=pe.createShippingAddressElement(Q);else if(Y==="billing")W=pe.createBillingAddressElement(Q);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":W=pe.createExpressCheckoutElement(E);break;case"currencySelector":W=pe.createCurrencySelectorElement();break;case"taxId":W=pe.createTaxIdElement(E);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else ue&&(W=ue.create(t,E));J.current=W,G(W),W&&W.mount(O.current)}},[ue,pe,E]);var $=gm(E);return ge.useEffect(function(){if(J.current){var W=hj(E,$,["paymentRequest"]);W&&"update"in J.current&&J.current.update(W)}},[E,$]),ge.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),ge.createElement("div",{id:w,className:_,ref:O})},d=function(g){vm("mounts <".concat(a,">"));var w=g.id,_=g.className;return ge.createElement("div",{id:w,className:_})},f=r?d:l;return f.propTypes={id:gt.string,className:gt.string,onChange:gt.func,onBlur:gt.func,onFocus:gt.func,onReady:gt.func,onEscape:gt.func,onClick:gt.func,onLoadError:gt.func,onLoaderStart:gt.func,onNetworksChange:gt.func,onConfirm:gt.func,onCancel:gt.func,onShippingAddressChange:gt.func,onShippingRateChange:gt.func,onSavedPaymentMethodRemove:gt.func,onSavedPaymentMethodUpdate:gt.func,options:gt.object},f.displayName=a,f.__elementType=t,f},$n=typeof window>"u",DO=ge.createContext(null);DO.displayName="EmbeddedCheckoutProviderContext";var FO=function(){var t=vm("calls useStripe()"),r=t.stripe;return r};Bn("auBankAccount",$n);var Wy=Bn("card",$n);Bn("cardNumber",$n);Bn("cardExpiry",$n);Bn("cardCvc",$n);Bn("iban",$n);Bn("payment",$n);Bn("expressCheckout",$n);Bn("paymentRequestButton",$n);Bn("linkAuthentication",$n);Bn("address",$n);Bn("shippingAddress",$n);Bn("paymentMethodMessaging",$n);Bn("taxId",$n);const zO=vO("pk_test_51SjQkcK65lNEvJYPLfZoTGETICTt4w2wGnB8WcILuOZhA7gbo8HleGdxSpEYtKhUgsrxeIxSOMbO5LHt5pgJyYV2004BfufJlT");delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const BO=()=>{const e=sj();return v.useEffect(()=>{const t=setTimeout(()=>{e.invalidateSize()},300);return()=>clearTimeout(t)},[e]),null},$O=({position:e,setPosition:t,setAddress:r,isArabic:a})=>{nO({click(d){const{lat:f,lng:p}=d.latlng;t([f,p]),l(f,p)}});const l=async(d,f)=>{try{const g=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${d}&lon=${f}&accept-language=${a?"ar":"en"}`)).json();g.display_name&&r(g.display_name)}catch(p){console.error("Geocoding error:",p)}};return e===null?null:i.jsx(mm,{position:e})},UO=({amount:e,onSuccess:t,onCancel:r,isArabic:a,isProcessing:l,setIsProcessing:d})=>{const f=FO(),p=MO(),[g,w]=v.useState(null),[_,N]=v.useState(null);v.useEffect(()=>{(async()=>{try{const b=await qr.createPaymentIntent({amount:e});N(b.data.clientSecret)}catch(b){w(b.response?.data?.error||"Failed to initialize payment")}})()},[e]);const E=async k=>{if(k.preventDefault(),!(!f||!p||!_)){d(!0),w(null);try{const{error:b,paymentIntent:S}=await f.confirmCardPayment(_,{payment_method:{card:p.getElement(Wy)}});if(b){w(b.message),d(!1);return}S.status==="succeeded"?(t(S.id),d(!1)):(w("Payment was not completed"),d(!1))}catch(b){w(b.message),d(!1)}}},P={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}},hidePostalCode:!0};return i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:a?" ":"Card Information"}),i.jsx("div",{className:"border rounded-md p-3 bg-white",children:i.jsx(Wy,{options:P})})]}),g&&i.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:g}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[i.jsx("span",{className:"text-gray-600",children:a?" ":"Total Amount"}),i.jsxs("span",{className:"font-bold text-lg",children:["$",e.toFixed(2)]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:a?"   : 4242 4242 4242 4242":"Test card number: 4242 4242 4242 4242"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(je,{type:"button",variant:"outline",onClick:r,disabled:l,className:"flex-1",children:a?"":"Cancel"}),i.jsx(je,{type:"submit",disabled:!f||l,className:"flex-1 bg-green-600 hover:bg-green-700",children:l?a?" ...":"Processing...":i.jsxs(i.Fragment,{children:[i.jsx(j0,{className:"w-4 h-4 mr-2"}),a?` $${e.toFixed(2)}`:`Pay $${e.toFixed(2)}`]})})]})]})},HO=()=>{const[e,t]=v.useState(null),[r,a]=v.useState(!0),[l,d]=v.useState(!1),[f,p]=v.useState(!1),[g,w]=v.useState(null),[_,N]=v.useState(!1),E=jt(),{toast:P}=Yr(),{language:k}=qt(),{user:b}=Sn(),S=k==="ar",[M,I]=v.useState({fullName:"",address:"",phone:"",lat:null,lng:null}),[R,F]=v.useState({lat:30.0444,lng:31.2357,address:""}),[V,re]=v.useState(!1),[ee,se]=v.useState([]),K=()=>{I(O=>({...O,address:R.address||O.address,lat:R.lat,lng:R.lng})),re(!1),P({title:S?"  ":"Location Set",description:S?"   ":"Your location has been saved."})},X=O=>O?O.startsWith("http://")||O.startsWith("https://")?O:O.startsWith("/media")?`http://127.0.0.1:8000${O}`:`http://127.0.0.1:8000/media/${O}`:null;v.useEffect(()=>{ae(),b&&I({fullName:`${b.first_name} ${b.last_name}`,address:b.address||"",phone:b.phone||""})},[b]);const ae=async()=>{try{a(!0);const O=await Ke.cart.get();t(O.data),Z(O.data)}catch{P({title:S?"":"Error",description:S?"  ":"Failed to load cart",variant:"destructive"})}finally{a(!1)}},Z=O=>{const H=[];O?.items?.forEach($=>{const W=$.product||$.material_listing,Y=W?.stock_quantity||W?.quantity||0,Q=Math.round(parseFloat($.quantity)||0);Q>Y&&H.push({itemId:$.id,title:W?.title||"Item",requested:Q,available:Y})}),se(H),H.length>0&&P({title:S?" ":"Stock Warning",description:S?`${H.length}    `:`${H.length} item(s) exceed available stock`,variant:"destructive"})},ue=async(O,H)=>{const $=Math.max(1,Math.round(parseFloat(H)||0)),W=e.items.find(Y=>Y.id===O);if(W){const Y=W.product||W.material_listing,Q=Y?.stock_quantity||Y?.quantity||0;if($>Q){P({title:S?"  ":"Stock Error",description:S?`   ${Q}`:`Only ${Q} available in stock`,variant:"destructive"});return}}t(Y=>({...Y,items:Y.items.map(Q=>Q.id===O?{...Q,quantity:$}:Q),total_price:Y.items.reduce((Q,de)=>{const Ne=de.id===O?$:Math.round(parseFloat(de.quantity)||0),Le=parseFloat(de.product?.price||de.material_listing?.price_per_unit||0)||0;return Q+Le*Ne},0)}));try{await Ke.cart.updateItem({item_id:O,quantity:$});const Y=await Ke.cart.get();t(Y.data),Z(Y.data)}catch(Y){ae(),P({title:S?"":"Error",description:Y.response?.data?.error||(S?"  ":"Failed to update quantity"),variant:"destructive"})}},ie=()=>e?.items.reduce((O,H)=>O+(H.product?.price||H.material_listing?.price_per_unit||0)*H.quantity,0)||0,pe=async()=>{if(!e||e.items.length===0){P({title:S?"":"Error",description:S?" ":"Your cart is empty",variant:"destructive"});return}if(!M.address||!M.lat||!M.lng){P({title:S?" ":"Missing Info",description:S?"     ":"Please select your location on the map first.",variant:"destructive"});return}if(ee.length>0){ee.map(O=>`${O.title}: ${S?"":"Requested"} ${O.requested}, ${S?"":"Available"} ${O.available}`).join(`
`),P({title:S?"  ":"Stock Error",description:S?"    .   .":"Some items exceed available stock. Please adjust quantities.",variant:"destructive"});return}d(!0)},he=O=>{w(O),N(!0),d(!1),P({title:S?"  ":"Payment Confirmed",description:S?"   ":"Now you can confirm your order"})},me=async()=>{if(!g){P({title:S?"":"Error",description:S?"  ":"Please complete payment first",variant:"destructive"});return}p(!0);try{const O={};e.items.forEach($=>{const W=$.product?.seller?.id||$.product?.seller||$.material_listing?.seller?.id||$.material_listing?.seller;if(!W){console.error("Item missing seller identifier:",$);return}const Y=$.product?"product":"material",Q=`${W}-${Y}`;O[Q]||(O[Q]={sellerId:String(W),orderType:Y,items:[]}),O[Q].items.push($)});let H=null;for(const $ of Object.values(O)){const W={seller_id:$.sellerId,delivery_address:M.address,customer_lat:M.lat,customer_lng:M.lng,order_type:$.orderType,items:$.items.map(Q=>({product_id:Q.product?.id||null,material_listing_id:Q.material_listing?.id||null,quantity:Math.round(parseFloat(Q.quantity)||1),unit_price:parseFloat(Q.product?.price||Q.material_listing?.price_per_unit||0),unit:Q.product?"piece":Q.material_listing?.unit||"kg"}))};console.log("Creating order with payment:",{paymentIntentId:g,orderData:W,itemsCount:W.items.length});const Y=await qr.confirmPayment({payment_intent_id:g,order_data:W});if(console.log("Order created:",Y.data),!H&&Y.data?.id&&(H=Y.data.id),Y.data?.id)try{console.log(`Assigning courier to order ${Y.data.id}...`);const Q=await qr.assignCourier(Y.data.id);console.log("Courier assignment response:",Q.data)}catch(Q){console.error("Failed to assign courier:",Q)}}await Ke.cart.clear(),p(!1),P({title:S?"  ":"Order Created",description:S?"   ":"Orders created successfully"}),E(H?`/order-tracking/${H}`:"/orders")}catch(O){console.error("Order creation failed:",O.response?.data||O),p(!1),P({title:S?"":"Error",description:O.response?.data?.error||O.response?.data?.detail||(S?"  ":"Failed to create order"),variant:"destructive"})}};if(r)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ki,{className:"w-16 h-16 mx-auto mb-4 animate-pulse text-green-500"}),i.jsx("p",{className:"text-gray-600",children:S?"  ...":"Loading cart..."})]})});const B=e?.items||[],G=B.length===0,J=ie();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Xt,{}),i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs(je,{variant:"ghost",onClick:()=>E("/marketplace"),children:[i.jsx(Ss,{className:"w-4 h-4 mr-2"}),S?" ":"Continue Shopping"]})})}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsxs(ut,{className:"flex items-center gap-2",children:[i.jsx(Ki,{className:"w-5 h-5 sm:w-6 sm:h-6"}),i.jsxs("span",{className:`text-lg sm:text-xl ${S?"font-arabic":""}`,children:[S?" ":"Review Cart"," (",e?.total_items||0," ",S?"":"items",")"]})]})}),i.jsx(Ge,{children:G?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:`text-xl font-semibold mb-2 ${S?"font-arabic":""}`,children:S?" ":"Your cart is empty"}),i.jsx("p",{className:`text-gray-500 mb-6 ${S?"font-arabic":""}`,children:S?"  ":"Add items to get started"}),i.jsx(je,{asChild:!0,children:i.jsx(Rt,{to:"/marketplace",children:S?" ":"Browse Marketplace"})})]}):i.jsx("div",{className:"space-y-4",children:B.map(O=>{const H=O.product||O.material_listing,$=O.product?"product":"material",W=H?.images?.[0]?.image||H?.primary_image,Y=X(W),Q=H?.stock_quantity||H?.quantity||0,Ne=Math.round(parseFloat(O.quantity)||0)>Q;return i.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 p-4 border rounded-lg ${Ne?"border-red-500 bg-red-50":""}`,children:[i.jsx("div",{className:"w-full sm:w-24 h-48 sm:h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:Y?i.jsx("img",{src:Y,alt:H.title,className:"w-full h-full object-cover",onError:Le=>{Le.target.style.display="none"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(at,{className:"w-8 h-8 text-gray-300"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Rt,{to:`/marketplace/${$}/${H.id}`,className:"font-semibold hover:text-green-600 transition-colors block truncate",children:H.title}),i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:H.description}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",(O.quantity*(O.product?.price||O.material_listing?.price_per_unit||0)).toFixed(2)]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("p",{className:`text-xs ${Ne?"text-red-600 font-semibold":"text-gray-500"}`,children:[S?" :":"Available stock:"," ",Q]}),Ne&&i.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1",children:S?"     ":" Requested quantity exceeds available stock"})]})]}),i.jsx("div",{className:"flex flex-col items-stretch sm:items-end gap-3 sm:gap-2 w-full sm:w-auto",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(je,{variant:"outline",size:"icon",className:"w-8 h-8",onClick:()=>ue(O.id,Math.floor(parseFloat(O.quantity))-1),disabled:_,children:i.jsx(C0,{className:"w-4 h-4"})}),i.jsx(bt,{type:"number",value:Math.floor(parseFloat(O.quantity)),onChange:Le=>{const ke=parseInt(Le.target.value);!isNaN(ke)&&ke>0&&ue(O.id,ke)},className:`w-20 text-center ${Ne?"border-red-500":""}`,min:"1",max:Q,step:"1",disabled:_}),i.jsx(je,{variant:"outline",size:"icon",className:"w-8 h-8",onClick:()=>ue(O.id,Math.floor(parseFloat(O.quantity))+1),disabled:_,children:i.jsx(ti,{className:"w-4 h-4"})})]})})]},O.id)})})})]})}),!G&&i.jsx("div",{className:"lg:col-span-1 space-y-4",children:i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{className:S?"font-arabic":"",children:S?" ":"Customer Information"})}),i.jsxs(Ge,{className:"space-y-3",children:[i.jsx(bt,{value:M.fullName,onChange:O=>I({...M,fullName:O.target.value}),placeholder:S?" ":"Full Name",disabled:_}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("label",{className:"text-sm font-medium",children:S?"":"Address"}),i.jsxs(je,{type:"button",variant:"outline",size:"sm",className:"flex gap-2 text-green-600 border-green-200 hover:bg-green-50",onClick:()=>re(!0),disabled:_,children:[i.jsx(qi,{className:"w-4 h-4"}),S?"   ":"Select Location on Map"]})]}),i.jsx("textarea",{value:M.address,onChange:O=>I({...M,address:O.target.value}),placeholder:S?" ":"Detailed Address",className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",disabled:_}),M.lat&&i.jsxs("p",{className:"text-[10px] text-gray-400",children:["GPS: ",M.lat.toFixed(4),","," ",M.lng.toFixed(4)]})]}),i.jsx(bt,{value:M.phone,onChange:O=>I({...M,phone:O.target.value}),placeholder:S?" ":"Phone Number",disabled:_})]}),i.jsxs(Ve,{className:"mt-4",children:[i.jsx(ct,{children:i.jsx(ut,{className:S?"font-arabic":"",children:S?" ":"Order Summary"})}),i.jsx(Ge,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`text-gray-600 ${S?"font-arabic":""}`,children:S?" ":"Subtotal"}),i.jsxs("span",{className:"font-semibold",children:["$",J.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`text-gray-600 ${S?"font-arabic":""}`,children:S?"":"Shipping"}),i.jsx("span",{className:"font-semibold text-green-600",children:S?"":"FREE"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`font-bold ${S?"font-arabic":""}`,children:S?"":"Total"}),i.jsxs("span",{className:"font-bold text-green-600",children:["$",J.toFixed(2)]})]}),_&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-md mt-3",children:[i.jsx(Qa,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-green-700",children:S?"  ":"Payment Confirmed"})]})]})}),i.jsx(Wo,{className:"flex flex-col gap-2",children:_?i.jsx(je,{className:"w-full bg-blue-600 hover:bg-blue-700",size:"lg",onClick:me,disabled:f,children:f?S?"  ...":"Creating Order...":i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-4 h-4 mr-2"}),S?" ":"Confirm Order"]})}):i.jsxs(je,{className:"w-full bg-green-600 hover:bg-green-700",size:"lg",onClick:pe,children:[i.jsx(j0,{className:"w-4 h-4 mr-2"}),S?" ":"Pay Now"]})})]})]})})]})}),V&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs(Ve,{className:"w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden shadow-2xl",children:[i.jsx(ct,{className:"border-b bg-white",children:i.jsxs(ut,{className:"flex justify-between items-center text-lg",children:[S?" ":"Select Your Location",i.jsx(je,{variant:"ghost",size:"icon",onClick:()=>re(!1),children:""})]})}),i.jsxs(Ge,{className:"p-0 relative h-[400px] w-full",children:[i.jsxs(ij,{center:[R.lat,R.lng],zoom:13,style:{height:"100%",width:"100%",zIndex:1},children:[i.jsx(oj,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),i.jsx($O,{position:[R.lat,R.lng],setPosition:O=>F(H=>({...H,lat:O[0],lng:O[1]})),setAddress:O=>F(H=>({...H,address:O})),isArabic:S}),i.jsx(BO,{})]}),i.jsx("div",{className:"absolute bottom-4 left-4 right-4 z-[1000] bg-white/95 p-3 rounded-lg shadow-lg border",children:i.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:R.address||(S?"    ":"Click map to set location")})})]}),i.jsxs(Wo,{className:"border-t p-4 bg-gray-50 flex gap-3 justify-end",children:[i.jsx(je,{variant:"outline",onClick:()=>re(!1),children:S?"":"Cancel"}),i.jsx(je,{onClick:K,className:"bg-green-600 hover:bg-green-700",children:S?" ":"Confirm Location"})]})]})}),i.jsx(Cf,{open:l,onOpenChange:d,children:i.jsxs($c,{className:"sm:max-w-md",children:[i.jsxs(Uc,{children:[i.jsx(Hc,{className:S?"font-arabic":"",children:S?" ":"Complete Payment"}),i.jsx(Wc,{children:S?"    .     .":"Enter your card details to complete payment. After that you can confirm your order."})]}),i.jsx(gj,{stripe:zO,children:i.jsx(UO,{amount:J,onSuccess:he,onCancel:()=>d(!1),isArabic:S,isProcessing:f,setIsProcessing:p})})]})}),i.jsx(Jt,{})]})},WO=()=>{const[e,t]=v.useState([]),[r,a]=v.useState([]),[l,d]=v.useState(null),[f,p]=v.useState(!0),{toast:g}=Yr(),{language:w}=qt(),_=w==="ar",N=jt();v.useEffect(()=>{E()},[]);const E=async()=>{try{p(!0);const[b,S]=await Promise.all([qr.getPurchases(),qr.getSales()]),M=I=>I?(Array.isArray(I.results)?I.results:Array.isArray(I)?I:[]).map(F=>({...F,id:F.id||F.order_id,status:F.status||F.order_status})):[];t(M(b.data)),a(M(S.data))}catch(b){console.error("Failed fetching orders:",b.response?.data||b),g({title:"Error",description:"Failed to load orders",variant:"destructive"})}finally{p(!1)}},P=b=>{const S={pending:"secondary",IN_PROGRESS:"default",CONFIRMED:"default",completed:"default",cancelled:"destructive"},I={pending:"pending",CONFIRMED:"confirmed",IN_PROGRESS:"in progress",completed:"completed",cancelled:"cancelled"}[b]??b;return i.jsx(zn,{variant:S[b]||"secondary",children:I})},k=({order:b})=>{const S=b.items&&b.items.length>0?b.items[0]:null,M=S?S.product_title||S.material_name||"Unknown Item":"No items in order",I=b.order_id?b.order_id.slice(0,8).toUpperCase():"N/A",R=parseFloat(b.total_price||0).toFixed(2),F=new Date(b.created_at).toLocaleDateString();return i.jsxs("div",{className:"border rounded-lg p-4 shadow-sm bg-white mb-4",children:[i.jsxs("div",{className:"flex justify-between items-start border-b pb-2 mb-3",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg",children:["Order #",I]}),i.jsx("p",{className:"text-xs text-gray-500",children:F})]}),i.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-semibold capitalize",children:b.order_status?.replace("_"," ")})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded flex items-center justify-center",children:i.jsx(at,{className:"text-gray-400",size:24})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:M}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",S?.quantity||0," ",S?.unit||""]}),i.jsxs("p",{className:"text-green-600 font-bold mt-1",children:["$",R]})]})]}),i.jsxs("div",{className:"mt-4 pt-3 border-t text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Seller:"})," ",b.seller_email||"Not specified"]}),i.jsxs("p",{className:"truncate",children:[i.jsx("strong",{children:"Delivery:"})," ",b.delivery_address]})]}),i.jsxs("button",{onClick:()=>N(`/order-tracking/${b.order_id||b.id}`),className:"w-full mt-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[i.jsx(jm,{size:16}),"View Details & Track"]})]})};return f?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 animate-pulse text-green-500"}),i.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Xt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 mt-20",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8",children:_?"":"My Orders"}),void 0,i.jsxs(Bc,{defaultValue:"purchases",className:"w-full",children:[i.jsx(ml,{className:"grid w-full max-w-md grid-cols-2",children:(()=>{const b=Array.isArray(e)?e.length:Array.isArray(e?.results)?e.results.length:0,S=Array.isArray(r)?r.length:Array.isArray(r?.results)?r.results.length:0;return i.jsxs(i.Fragment,{children:[i.jsxs(ur,{value:"purchases",children:["Purchases (",b,")"]}),i.jsxs(ur,{value:"sales",children:["Sales (",S,")"]})]})})()}),i.jsx(dr,{value:"purchases",className:"mt-6",children:(Array.isArray(e)?e:Array.isArray(e?.results)?e.results:[]).length===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-xl font-semibold mb-2",children:"No purchases yet"}),i.jsx("p",{className:"text-gray-500",children:"Your purchase history will appear here"})]})}):(()=>{const b=Array.isArray(e)?e:Array.isArray(e?.results)?e.results:[];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((S,M)=>i.jsx(k,{order:S,isSale:!1},S?.id??S?.pk??S?.uuid??M))})})()}),i.jsx(dr,{value:"sales",className:"mt-6",children:(Array.isArray(r)?r:Array.isArray(r?.results)?r.results:[]).length===0?i.jsx(Ve,{children:i.jsxs(Ge,{className:"text-center py-12",children:[i.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-xl font-semibold mb-2",children:"No sales yet"}),i.jsx("p",{className:"text-gray-500",children:"Your sales history will appear here"})]})}):(()=>{const b=Array.isArray(r)?r:Array.isArray(r?.results)?r.results:[];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((S,M)=>i.jsx(k,{order:S,isSale:!0},S?.id??S?.pk??S?.uuid??M))})})()})]})]}),i.jsx(Cf,{open:!!l,onOpenChange:()=>d(null),children:i.jsxs($c,{className:"max-w-2xl",children:[i.jsxs(Uc,{children:[i.jsx(Hc,{children:"Order Details"}),i.jsxs(Wc,{children:["Order #",l?.id]})]}),l&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),i.jsx("p",{className:"font-semibold",children:P(l.status)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),i.jsx("p",{className:"font-semibold",children:new Date(l.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Quantity"}),i.jsxs("p",{className:"font-semibold",children:[l.quantity," ",l.unit]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Price"}),i.jsxs("p",{className:"font-semibold text-green-600",children:["$",l.total_price]})]})]}),i.jsx(Cc,{}),l.notes&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Notes"}),i.jsx("p",{className:"text-sm",children:l.notes})]}),i.jsx(Cc,{})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Delivery Address"}),i.jsx("p",{className:"text-sm",children:l.delivery_address||"Not provided"})]})]})]})}),i.jsx(Jt,{})]})};delete kf.Icon.Default.prototype._getIconUrl;kf.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const VO=new kf.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='%2316a34a'%3E%3Cpath d='M18 18.5a1.5 1.5 0 0 1-1 1.4V21a1 1 0 0 1-2 0v-1H9v1a1 1 0 0 1-2 0v-1.1a1.5 1.5 0 0 1-1-1.4v-2a6 6 0 0 1 1-3.3V6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v6.2a6 6 0 0 1 1 3.3v2zM9 6h6v3H9V6zm9 10.5V15a4 4 0 0 0-8 0v1.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5z'/%3E%3C/svg%3E",iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}),ZO=new kf.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='%23dc2626'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z'/%3E%3C/svg%3E",iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}),qO=()=>{const{orderId:e}=of(),t=jt(),{language:r}=qt(),{toast:a}=Yr(),l=r==="ar",[d,f]=v.useState(null),[p,g]=v.useState(null),[w,_]=v.useState(!0),[N,E]=v.useState(null),[P,k]=v.useState(!1),b=[{key:"pending",label:l?" ":"Pending",icon:Dp},{key:"confirmed",label:l?" ":"Confirmed",icon:ax},{key:"courier_assigned",label:l?"  ":"Courier Assigned",icon:Ro},{key:"in_progress",label:l?" ":"In Progress",icon:Qd},{key:"delivered",label:l?" ":"Delivered",icon:at}],S=async()=>{try{const[Z,ue]=await Promise.all([qr.getOrder(e),qr.getTracking(e)]);console.log("Order data:",Z.data),console.log("Tracking data:",ue.data),f(Z.data),g(ue.data),E(null)}catch(Z){console.error("Failed to fetch order data:",Z),E(Z.response?.data?.error||"Failed to load order"),a({title:l?"":"Error",description:l?"   ":"Failed to load order data",variant:"destructive"})}finally{_(!1)}};v.useEffect(()=>{e&&S()},[e]),v.useEffect(()=>{(async()=>{if(d&&d.order_status==="in_progress"&&d.assignment_id&&!P&&(!p?.tracking_logs||p.tracking_logs.length===0))try{k(!0),console.log("Triggering delivery simulation for assignment:",d.assignment_id),await qr.startDelivery(d.assignment_id),S()}catch(ue){console.error("Failed to auto-start delivery simulation:",ue),k(!1)}})()},[d?.order_status,d?.assignment_id,p?.tracking_logs?.length]),v.useEffect(()=>{if(!d||d.order_status==="delivered"||d.order_status==="completed")return;const Z=setInterval(()=>{S()},5e3);return()=>clearInterval(Z)},[d?.order_status]);const M=()=>{if(!d)return-1;const Z=d.order_status?.toLowerCase(),ue={pending:0,confirmed:1,courier_assigned:2,in_progress:3,on_the_way:3,delivered:4,completed:4};return ue[Z]!==void 0?ue[Z]:-1},I=Z=>M()>=Z,R=Z=>Z?new Date(Z).toLocaleString(l?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",F=()=>d&&d.courier_assigned&&d.courier_name?{name:d.courier_name,phone:d.courier_phone||null}:null,V=()=>p?.latest_location?{lat:p.latest_location.latitude,lng:p.latest_location.longitude}:null,re=()=>!d?.customer_lat||!d?.customer_lng?null:{lat:d.customer_lat,lng:d.customer_lng},ee=()=>d&&["in_progress","on_the_way"].includes(d.order_status);if(w)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ed,{className:"w-12 h-12 animate-spin text-green-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:l?"   ...":"Loading order data..."})]})});if(N||!d)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(Ve,{className:"max-w-md",children:i.jsxs(Ge,{className:"pt-6 text-center",children:[i.jsx(at,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:l?"  ":"Order Not Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:l?"      ":"We couldn't find this order"}),i.jsx(je,{onClick:()=>t("/orders"),children:l?"  ":"Back to Orders"})]})})});const se=d.order_status==="delivered"||d.order_status==="completed",K=F(),X=V(),ae=re();return i.jsxs("div",{className:"min-h-screen bg-gray-50",dir:l?"rtl":"ltr",children:[i.jsx(Xt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(je,{variant:"ghost",onClick:()=>t("/orders"),className:"mb-4",children:[i.jsx(Ss,{className:`w-4 h-4 ${l?"ml-2 rotate-180":"mr-2"}`}),l?"  ":"Back to Orders"]}),i.jsx("h1",{className:"text-3xl font-bold",children:l?" ":"Order Tracking"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:[l?" :":"Order ID:"," ",d.order_id]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{className:l?"font-arabic":"",children:l?" ":"Order Details"})}),i.jsxs(Ge,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(at,{className:"w-5 h-5 text-green-600"})}),i.jsxs("div",{className:"flex flex-col gap-2 py-3 border-b border-gray-100",children:[i.jsx("div",{className:"flex items-start gap-2 text-gray-500 mb-1",children:i.jsx("span",{className:"text-sm font-medium",children:l?" ":"Ordered Items"})}),i.jsx("div",{className:"space-y-2",children:d.items&&d.items.map((Z,ue)=>i.jsxs("div",{className:"flex justify-between items-start bg-gray-50 p-2 rounded-md",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-semibold text-gray-900",children:Z.product_title||Z.material_name}),i.jsx("span",{className:"text-xs text-blue-600 font-medium uppercase tracking-wider",children:Z.product_title?l?"":"Product":l?"":"Material"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["x",Z.quantity]})]},ue))})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(qi,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-gray-600",children:l?" ":"Delivery Address"}),i.jsx("p",{className:"font-semibold text-sm",children:d.delivery_address})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(Dp,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-gray-600",children:l?" ":"Order Date"}),i.jsx("p",{className:"font-semibold text-sm",children:R(d.created_at)})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:l?"":"Total"}),i.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",d.total_price]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:l?" ":"Payment Status"}),i.jsx("span",{className:`text-sm font-semibold ${d.payment_status==="paid"?"text-green-600":"text-orange-600"}`,children:d.payment_status==="paid"?l?" ":"Paid":l?" ":"Pending"})]})]})]})]}),K&&i.jsxs(Ve,{children:[i.jsx(ct,{children:i.jsx(ut,{className:l?"font-arabic":"",children:l?" ":"Courier Information"})}),i.jsxs(Ge,{children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:K.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-lg",children:K.name}),K.phone&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Gd,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm text-gray-600",children:K.phone})]})]})]}),p?.latest_location?.distance_remaining&&i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-900",children:l?" :":"Distance remaining:"}),i.jsxs("p",{className:"font-semibold text-blue-900",children:[p.latest_location.distance_remaining.toFixed(2)," ","km"]})]})]})]}),i.jsx(Ve,{className:"bg-blue-50 border-blue-200",children:i.jsx(Ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-900",children:l?" ":"Current Status"}),i.jsx("p",{className:"text-sm text-blue-800 capitalize",children:d.order_status.replace(/_/g," ")})]})]})})})]}),i.jsx("div",{className:"lg:col-span-2",children:se?i.jsx(Ve,{className:"h-full border-2 border-green-500",children:i.jsxs(Ge,{className:"flex flex-col items-center justify-center py-16 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6",children:i.jsx(P2,{className:"w-12 h-12 text-green-600"})}),i.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-2",children:l?"  !":"Successfully Delivered!"}),i.jsx("p",{className:"text-gray-600 text-lg mb-8",children:l?"   ":"Your order has been delivered successfully"}),d.delivered_at&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-8",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:l?" ":"Delivered On"}),i.jsx("p",{className:"font-semibold",children:R(d.delivered_at)})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx(je,{size:"lg",onClick:()=>t("/orders"),className:"bg-green-600 hover:bg-green-700",children:l?"  ":"View All Orders"}),i.jsx(je,{size:"lg",variant:"outline",onClick:()=>t("/marketplace"),children:l?" ":"Continue Shopping"})]}),i.jsx("div",{className:"mt-8 flex gap-2",children:[...Array(5)].map((Z,ue)=>i.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-bounce",style:{animationDelay:`${ue*.1}s`}},ue))})]})}):ee()&&X&&ae?i.jsxs(Ve,{className:"h-full",children:[i.jsx(ct,{children:i.jsxs(ut,{className:`flex items-center gap-2 ${l?"font-arabic":""}`,children:[i.jsx(C2,{className:"w-5 h-5 text-green-600"}),l?" ":"Live Tracking"]})}),i.jsxs(Ge,{children:[i.jsx("div",{className:"rounded-lg overflow-hidden border-2 border-gray-200",style:{height:"500px"},children:i.jsxs(ij,{center:[X.lat,X.lng],zoom:13,style:{height:"100%",width:"100%"},children:[i.jsx(oj,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.jsx(mm,{position:[X.lat,X.lng],icon:VO,children:i.jsx(Ay,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold",children:l?"":"Courier"}),i.jsx("p",{className:"text-sm",children:K?.name||"Courier"})]})})}),i.jsx(mm,{position:[ae.lat,ae.lng],icon:ZO,children:i.jsx(Ay,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold",children:l?"":"Your Location"}),i.jsx("p",{className:"text-sm",children:d.delivery_address})]})})}),i.jsx(sO,{positions:[[X.lat,X.lng],[ae.lat,ae.lng]],color:"#16a34a",weight:3,opacity:.6,dashArray:"10, 10"})]},`${X.lat}-${X.lng}`)}),i.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-900",children:l?"   ":"Courier is on the way"}),i.jsx("p",{className:"text-xs text-green-700",children:l?"   5 ":"Updates every 5 seconds"})]})]}),p?.latest_location?.distance_remaining&&i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-green-900",children:[p.latest_location.distance_remaining.toFixed(2)," ","km"]}),i.jsx("p",{className:"text-xs text-green-700",children:l?"":"remaining"})]})]})}),i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-700",children:l?" ":"Delivery Progress"}),i.jsx("div",{className:"flex items-center justify-between",children:b.map((Z,ue)=>{const ie=Z.icon,pe=I(ue),he=M()===ue;return i.jsxs("div",{className:"flex flex-col items-center flex-1",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${pe?"bg-green-600 text-white":"bg-gray-200 text-gray-400"} ${he?"ring-4 ring-green-200":""}`,children:i.jsx(ie,{className:"w-5 h-5"})}),i.jsx("p",{className:`mt-2 text-xs text-center ${pe?"text-gray-900 font-medium":"text-gray-400"}`,children:Z.label}),ue<b.length-1&&i.jsx("div",{className:`absolute w-full h-0.5 top-5 left-1/2 ${pe?"bg-green-600":"bg-gray-300"}`,style:{width:"calc(100% - 40px)",transform:"translateX(20px)"}})]},Z.key)})})]})]})]}):i.jsxs(Ve,{className:"h-full",children:[i.jsx(ct,{children:i.jsx(ut,{className:l?"font-arabic":"",children:l?" ":"Order Status"})}),i.jsxs(Ge,{children:[i.jsx("div",{className:"space-y-8",children:b.map((Z,ue)=>{const ie=Z.icon,pe=I(ue),he=M()===ue;return i.jsxs("div",{className:"relative flex items-start gap-4",children:[ue<b.length-1&&i.jsx("div",{className:`absolute ${l?"right-6":"left-6"} top-12 w-0.5 h-16 ${pe?"bg-green-600":"bg-gray-300"}`}),i.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center transition-all ${pe?"bg-green-600 text-white shadow-lg":"bg-gray-200 text-gray-400"} ${he?"ring-4 ring-green-200":""}`,children:i.jsx(ie,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-1 pt-2",children:[i.jsx("h3",{className:`font-semibold text-lg ${pe?"text-gray-900":"text-gray-400"}`,children:Z.label}),pe&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:he?l?" ":"In Progress":l?"":"Completed"})]}),pe&&!he&&i.jsx(ax,{className:"w-6 h-6 text-green-600"})]},Z.key)})}),p&&p.tracking_logs&&p.tracking_logs.length>0&&i.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3",children:l?" ":"Tracking History"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:p.tracking_logs.map((Z,ue)=>i.jsxs("div",{className:"text-sm text-gray-600 flex justify-between items-center",children:[i.jsxs("span",{children:[l?":":"Location:"," ",Z.latitude.toFixed(4),","," ",Z.longitude.toFixed(4)]}),i.jsx("span",{className:"text-xs text-gray-500",children:R(Z.timestamp)})]},ue))})]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),i.jsx("p",{className:"text-sm text-blue-900 font-medium",children:l?"    5 ":"Auto-updating every 5 seconds"})]})})]})]})})]})]}),i.jsx(Jt,{})]})},KO=async e=>{try{return(await we.post("/chatbot/chat/",{message:e})).data}catch(t){throw console.error("Error sending chat message:",t),t}},GO=e=>{if(!e)return"";const t=e.split(`
`),r=[];for(let a=0;a<t.length;a++){let l=t[a];if(!l.trim()){r.push(i.jsx("br",{},`br-${a}`));continue}if(l.match(/^[A-Z][^a-z]*:$/)||l.match(/^#{1,3}\s/)){const f=l.replace(/^#{1,3}\s/,"").replace(/:$/,"");r.push(i.jsx("div",{className:"font-bold text-base mb-2 mt-3 text-gray-900",children:f},a));continue}if(l.match(/^[\-\*]\s/)||l.match(/^\d+\.\s/)){const f=l.replace(/^[\-\*]\s/,"").replace(/^\d+\.\s/,""),p=Lp(f);r.push(i.jsxs("div",{className:"flex gap-2 mb-1 ml-2",children:[i.jsx("span",{className:"text-sage font-bold",children:""}),i.jsx("span",{className:"flex-1",children:p})]},a));continue}if(l.includes("**")||l.match(/^[A-Z][^:]*:/)){const f=Lp(l);r.push(i.jsx("div",{className:"mb-2",children:f},a));continue}const d=Lp(l);r.push(i.jsx("div",{className:"mb-2",children:d},a))}return i.jsx("div",{className:"space-y-1",children:r})},Lp=e=>{const t=[];let r=0;const a=/(\*\*.*?\*\*|\*.*?\*|`.*?`|https?:\/\/[^\s]+)/g;let l;for(;(l=a.exec(e))!==null;){l.index>r&&t.push(e.substring(r,l.index));const d=l[0];d.startsWith("**")&&d.endsWith("**")?t.push(i.jsx("strong",{className:"font-bold text-gray-900",children:d.slice(2,-2)},l.index)):d.startsWith("*")&&d.endsWith("*")?t.push(i.jsx("em",{className:"italic",children:d.slice(1,-1)},l.index)):d.startsWith("`")&&d.endsWith("`")?t.push(i.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono",children:d.slice(1,-1)},l.index)):d.startsWith("http")&&t.push(i.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-sage hover:text-forest underline",children:d},l.index)),r=l.index+d.length}return r<e.length&&t.push(e.substring(r)),t.length>0?t:e},QO=()=>{const[e,t]=v.useState(!1),[r,a]=v.useState([{type:"bot",content:" Hi! I'm Jaddid Assistant. I can help you find recyclable materials, eco-friendly products, and answer questions about our marketplace. How can I help you today?",timestamp:new Date}]),[l,d]=v.useState(""),[f,p]=v.useState(!1),g=v.useRef(null),w=v.useRef(null),_=()=>{g.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{_()},[r]),v.useEffect(()=>{e&&w.current&&w.current.focus()},[e]);const N=async k=>{if(k.preventDefault(),!l.trim()||f)return;const b={type:"user",content:l,timestamp:new Date};a(S=>[...S,b]),d(""),p(!0);try{const S=await KO(l),M={type:"bot",content:S.bot_reply,timestamp:new Date,intent:S.intent};a(I=>[...I,M])}catch{const M={type:"bot",content:"Sorry, I'm having trouble connecting right now. Please try again in a moment.",timestamp:new Date,isError:!0};a(I=>[...I,M])}finally{p(!1)}},E=["What materials can I sell?","Show me plastic listings under 500 EGP","Tell me about material pricing","How does the platform work?"],P=k=>{d(k),w.current&&w.current.focus()};return i.jsxs(i.Fragment,{children:[!e&&i.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 bg-sage hover:bg-forest text-white rounded-full p-4 shadow-lg transition-all duration-300 hover:scale-110 group","aria-label":"Open chat",children:[i.jsx(dx,{className:"w-6 h-6"}),i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:"?"})]}),e&&i.jsxs("div",{className:"fixed bottom-6 right-6 z-50 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-gray-200",children:[i.jsxs("div",{className:"bg-gradient-to-r from-sage to-forest text-white p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-white/20 rounded-full p-2",children:i.jsx(dx,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Jaddid Assistant"}),i.jsx("p",{className:"text-xs text-white/80",children:"AI-powered helper"})]})]}),i.jsx("button",{onClick:()=>t(!1),className:"hover:bg-white/20 rounded-lg p-2 transition-colors","aria-label":"Close chat",children:i.jsx(Ya,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[r.map((k,b)=>i.jsx("div",{className:`flex ${k.type==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${k.type==="user"?"bg-sage text-white rounded-br-sm":k.isError?"bg-red-50 text-red-800 border border-red-200 rounded-bl-sm":"bg-white border border-gray-200 text-gray-800 rounded-bl-sm shadow-sm"}`,children:[i.jsx("div",{className:"text-sm break-words",children:k.type==="bot"?GO(k.content):i.jsx("p",{className:"whitespace-pre-wrap",children:k.content})}),i.jsx("p",{className:`text-xs mt-2 ${k.type==="user"?"text-white/70":k.isError?"text-red-600":"text-gray-400"}`,children:k.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},b)),f&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-sm px-4 py-3 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[i.jsx(Ed,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"Thinking..."})]})})}),r.length===1&&!f&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Quick questions:"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.map((k,b)=>i.jsx("button",{onClick:()=>P(k),className:"text-left text-sm bg-white border border-gray-200 hover:border-sage hover:bg-green-pale rounded-lg px-3 py-2 transition-colors",children:k},b))})]}),i.jsx("div",{ref:g})]}),i.jsxs("form",{onSubmit:N,className:"p-4 bg-white border-t border-gray-200",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{ref:w,type:"text",value:l,onChange:k=>d(k.target.value),placeholder:"Type your message...",disabled:f,className:"flex-1 border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-sage focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed text-sm"}),i.jsx("button",{type:"submit",disabled:!l.trim()||f,className:"bg-sage hover:bg-forest disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl px-4 py-3 transition-colors","aria-label":"Send message",children:i.jsx(Do,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Powered by AI  Always learning"})]})]})]})},YO=new PE,XO=()=>i.jsx(kE,{client:YO,children:i.jsx(Fw,{children:i.jsx(VP,{children:i.jsxs(sE,{children:[i.jsx(vS,{}),i.jsxs(BP,{children:[i.jsxs(LP,{children:[i.jsx(Tt,{path:"/",element:i.jsx(gA,{})}),i.jsx(Tt,{path:"/login",element:i.jsx(xA,{})}),i.jsx(Tt,{path:"/register",element:i.jsx(nM,{})}),i.jsx(Tt,{path:"/services",element:i.jsx(t4,{})}),i.jsx(Tt,{path:"/profile",element:i.jsx(ky,{})}),i.jsx(Tt,{path:"/profile/:userId",element:i.jsx(ky,{})}),i.jsx(Tt,{path:"/profile/edit",element:i.jsx(f4,{})}),i.jsx(Tt,{path:"/marketplace",element:i.jsx(aM,{})}),i.jsx(Tt,{path:"/marketplace/:type/:id",element:i.jsx(NM,{})}),i.jsx(Tt,{path:"/marketplace/sell",element:i.jsx(kM,{})}),i.jsx(Tt,{path:"/marketplace/cart",element:i.jsx(TM,{})}),i.jsx(Tt,{path:"/checkout",element:i.jsx(HO,{})}),i.jsx(Tt,{path:"/orders",element:i.jsx(WO,{})}),i.jsx(Tt,{path:"/order-tracking/:orderId",element:i.jsx(qO,{})}),i.jsx(Tt,{path:"/marketplace/favorites",element:i.jsx(RM,{})}),i.jsx(Tt,{path:"/marketplace/messages",element:i.jsx(JM,{})}),i.jsx(Tt,{path:"/marketplace/my-listings",element:i.jsx(n4,{})}),i.jsx(Tt,{path:"/debug-auth",element:i.jsx(r4,{})}),i.jsx(Tt,{path:"/notifications",element:i.jsx(h4,{})}),i.jsx(Tt,{path:"/reviews",element:i.jsx(p4,{})}),i.jsx(Tt,{path:"/review-product/:productId",element:i.jsx($4,{})}),i.jsx(Tt,{path:"*",element:i.jsx(rM,{})})]}),i.jsx(QO,{})]})]})})})});aN.createRoot(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(Fw,{children:i.jsx(XO,{})})}));
